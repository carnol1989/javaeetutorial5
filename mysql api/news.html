<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Appendix C. MySQL Change History</title><link rel="stylesheet" href="mysql-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="MySQL 6.0 Reference Manual"><link rel="up" href="index.html" title="MySQL 6.0 Reference Manual"><link rel="prev" href="error-handling.html" title="Appendix B. Errors, Error Codes, and Common Problems"><link rel="next" href="restrictions.html" title="Appendix D. Restrictions and Limits"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix C. MySQL Change History</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="error-handling.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="restrictions.html">Next</a></td></tr></table><hr></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="news"></a>Appendix C. MySQL Change History</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="news.html#news-6-0-x">C.1. Changes in release 6.0.x (Development)</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#news-6-0-12">C.1.1. Changes in MySQL 6.0.12 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-11">C.1.2. Changes in MySQL 6.0.11 (11 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-10">C.1.3. Changes in MySQL 6.0.10 (03 March 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-9">C.1.4. Changes in MySQL 6.0.9 (10 January 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-8">C.1.5. Changes in MySQL 6.0.8 (03 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-7">C.1.6. Changes in MySQL 6.0.7 (29 September 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-6">C.1.7. Changes in MySQL 6.0.6 (11 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-5">C.1.8. Changes in MySQL 6.0.5 (12 June 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-4">C.1.9. Changes in MySQL 6.0.4 (12 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-3">C.1.10. Changes in MySQL 6.0.3 (16 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-2">C.1.11. Changes in MySQL 6.0.2 (04 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-1">C.1.12. Changes in MySQL 6.0.1 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-0">C.1.13. Changes in MySQL 6.0.0 (30 April 2007 Alpha)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#news-5-2-x">C.2. Changes in release 5.2.x (Development)</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#news-5-2-5">C.2.1. Changes in MySQL 5.2.5 (08 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-2-4">C.2.2. Changes in MySQL 5.2.4 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-2-3">C.2.3. Changes in MySQL 5.2.3 (15 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-2-2">C.2.4. Changes in MySQL 5.2.2 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-2-1">C.2.5. Changes in MySQL 5.2.1 (Not released Alpha)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#mem-news">C.3. MySQL Enterprise Monitor Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#mem-news-2-1-0">C.3.1. Changes in MySQL Enterprise Monitor 2.1.0 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-5">C.3.2. Changes in MySQL Enterprise Monitor 2.0.5 (18th March 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-4">C.3.3. Changes in MySQL Enterprise Monitor 2.0.4 (5th February 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-3">C.3.4. Changes in MySQL Enterprise Monitor 2.0.3 (23rd January 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-2">C.3.5. Changes in MySQL Enterprise Monitor 2.0.2 (14th January 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-1">C.3.6. Changes in MySQL Enterprise Monitor 2.0.1 (15th December 2008)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-0">C.3.7. Changes in MySQL Enterprise Monitor 2.0.0 (11th December 2008)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#connector-odbc-news">C.4. MySQL Connector/ODBC (MyODBC) Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-6">C.4.1. Changes in MySQL Connector/ODBC 5.1.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-5">C.4.2. Changes in MySQL Connector/ODBC 5.1.5 (18 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-4">C.4.3. Changes in MySQL Connector/ODBC 5.1.4 (15 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-3">C.4.4. Changes in MySQL Connector/ODBC 5.1.3 (26 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-2">C.4.5. Changes in MySQL Connector/ODBC 5.1.2 (13 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-1">C.4.6. Changes in MySQL Connector/ODBC 5.1.1 (13 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-0">C.4.7. Changes in MySQL Connector/ODBC 5.1.0 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-12">C.4.8. Changes in MySQL Connector/ODBC 5.0.12 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-11">C.4.9. Changes in MySQL Connector/ODBC 5.0.11 (31 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-10">C.4.10. Changes in MySQL Connector/ODBC 5.0.10 (14 December 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-9">C.4.11. Changes in MySQL Connector/ODBC 5.0.9 (22 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-8">C.4.12. Changes in MySQL Connector/ODBC 5.0.8 (17 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-7">C.4.13. Changes in MySQL Connector/ODBC 5.0.7 (08 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-6">C.4.14. Changes in MySQL Connector/ODBC 5.0.6 (03 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-5">C.4.15. Changes in MySQL Connector/ODBC 5.0.5 (17 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-3">C.4.16. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-2">C.4.17. Changes in Connector/ODBC 5.0.2 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-1">C.4.18. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-27">C.4.19. Changes in MySQL Connector/ODBC 3.51.27 (20 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-26">C.4.20. Changes in MySQL Connector/ODBC 3.51.26 (07 July 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-25">C.4.21. Changes in MySQL Connector/ODBC 3.51.25 (11 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-24">C.4.22. Changes in MySQL Connector/ODBC 3.51.24 (14 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-23">C.4.23. Changes in MySQL Connector/ODBC 3.51.23 (09 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-22">C.4.24. Changes in MySQL Connector/ODBC 3.51.22 (13 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-21">C.4.25. Changes in MySQL Connector/ODBC 3.51.21 (08 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-20">C.4.26. Changes in MySQL Connector/ODBC 3.51.20 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-19">C.4.27. Changes in MySQL Connector/ODBC 3.51.19 (10 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-18">C.4.28. Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-17">C.4.29. Changes in MySQL Connector/ODBC 3.51.17 (14 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-16">C.4.30. Changes in MySQL Connector/ODBC 3.51.16 (14 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-15">C.4.31. Changes in MySQL Connector/ODBC 3.51.15 (07 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-14">C.4.32. Changes in MySQL Connector/ODBC 3.51.14 (08 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-13">C.4.33. Changes in MySQL Connector/ODBC 3.51.13 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-12">C.4.34. Changes in MySQL Connector/ODBC 3.51.12 (11 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-11">C.4.35. Changes in MySQL Connector/ODBC 3.51.11 (28 January 2005)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#connector-net-news">C.5. MySQL Connector/NET Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#connector-net-news-6-0-3">C.5.1. Changes in MySQL Connector/NET 6.0.3 (28 April 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-2">C.5.2. Changes in MySQL Connector/NET 6.0.2 (07 April 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-1">C.5.3. Changes in MySQL Connector/NET 6.0.1 (02 April 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-0">C.5.4. Changes in MySQL Connector/NET 6.0.0 (02 March 2009 alpha)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-3-0">C.5.5. Changes in MySQL Connector/NET 5.3.0 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-6">C.5.6. Changes in MySQL Connector/NET 5.2.6 (28 April 2009)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-5">C.5.7. Changes in MySQL Connector/NET 5.2.5 (19 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-4">C.5.8. Changes in MySQL Connector/NET 5.2.4 (13 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-3">C.5.9. Changes in MySQL Connector/NET 5.2.3 (19 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-2">C.5.10. Changes in MySQL Connector/NET 5.2.2 (12 May 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-1">C.5.11. Changes in MySQL Connector/NET 5.2.1 (27 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-0">C.5.12. Changes in MySQL Connector/NET 5.2.0 (11 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-8">C.5.13. Changes in MySQL Connector/NET 5.1.8 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-7">C.5.14. Changes in MySQL Connector/NET 5.1.7 (21 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-6">C.5.15. Changes in MySQL Connector/NET 5.1.6 (12 May 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-5">C.5.16. Changes in MySQL Connector/NET 5.1.5 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-4">C.5.17. Changes in MySQL Connector/NET 5.1.4 (20 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-3">C.5.18. Changes in MySQL Connector/NET 5.1.3 (21 September 2007 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-2">C.5.19. Changes in MySQL Connector/NET 5.1.2 (18 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-1">C.5.20. Changes in MySQL Connector/NET 5.1.1 (23 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-0">C.5.21. Changes in MySQL Connector/NET 5.1.0 (01 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-10">C.5.22. Changes in MySQL Connector/NET 5.0.10 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-9">C.5.23. Changes in MySQL Connector/NET 5.0.9 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-8">C.5.24. Changes in MySQL Connector/NET 5.0.8 (21 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-7">C.5.25. Changes in MySQL Connector/NET 5.0.7 (18 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-6">C.5.26. Changes in MySQL Connector/NET 5.0.6 (22 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-5">C.5.27. Changes in MySQL Connector/NET 5.0.5 (07 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-4">C.5.28. Changes in MySQL Connector/NET 5.0.4 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-3">C.5.29. Changes in MySQL Connector/NET 5.0.3 (05 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-2">C.5.30. Changes in MySQL Connector/NET 5.0.2 (06 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-1">C.5.31. Changes in MySQL Connector/NET 5.0.1 (01 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-0">C.5.32. Changes in MySQL Connector/NET 5.0.0 (08 August 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-11">C.5.33. Changes in MySQL Connector/NET 1.0.11 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-10">C.5.34. Changes in MySQL Connector/NET 1.0.10 (24 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-9">C.5.35. Changes in MySQL Connector/NET 1.0.9 (02 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-8">C.5.36. Changes in MySQL Connector/NET 1.0.8 (20 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-7">C.5.37. Changes in MySQL Connector/NET 1.0.7 (21 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-6">C.5.38. Changes in MySQL Connector/NET 1.0.6 (03 October 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-5">C.5.39. Changes in MySQL Connector/NET 1.0.5 (29 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-4">C.5.40. Changes in MySQL Connector/NET 1.0.4 (20 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-3">C.5.41. Changes in MySQL Connector/NET 1.0.3 (12 October 2004 gamma)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-2">C.5.42. Changes in MySQL Connector/NET 1.0.2 (15 November 2004 gamma)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-1">C.5.43. Changes in MySQL Connector/NET 1.0.1 (27 October 2004 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-0">C.5.44. Changes in MySQL Connector/NET 1.0.0 (01 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-9-0">C.5.45. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-76">C.5.46. Changes in MySQL Connector/NET Version 0.76</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-75">C.5.47. Changes in MySQL Connector/NET Version 0.75</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-74">C.5.48. Changes in MySQL Connector/NET Version 0.74</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-71">C.5.49. Changes in MySQL Connector/NET Version 0.71</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-70">C.5.50. Changes in MySQL Connector/NET Version 0.70</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-68">C.5.51. Changes in MySQL Connector/NET Version 0.68</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-65">C.5.52. Changes in MySQL Connector/NET Version 0.65</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-60">C.5.53. Changes in MySQL Connector/NET Version 0.60</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-50">C.5.54. Changes in MySQL Connector/NET Version 0.50</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#vstudio-plugin-news">C.6. MySQL Visual Studio Plugin Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-3">C.6.1. Changes in MySQL Visual Studio Plugin 1.0.3 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-2">C.6.2. Changes in MySQL Visual Studio Plugin 1.0.2 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-1">C.6.3. Changes in MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-0">C.6.4. Changes in MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#cj-news">C.7. MySQL Connector/J Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#cj-news-5-1">C.7.1. Changes in MySQL Connector/J 5.1.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0">C.7.2. Changes in MySQL Connector/J 5.0.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-1">C.7.3. Changes in MySQL Connector/J 3.1.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-0">C.7.4. Changes in MySQL Connector/J 3.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0">C.7.5. Changes in MySQL Connector/J 2.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-2b">C.7.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</a></span></dt><dt><span class="section"><a href="news.html#cg-news-1-0">C.7.7. Changes in MySQL Connector/J 1.2.x and lower</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#news-connector-mxj">C.8. MySQL Connector/MXJ Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-6">C.8.1. Changes in MySQL Connector/MXJ 5.0.6 (04 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-5">C.8.2. Changes in MySQL Connector/MXJ 5.0.5 (14 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-4">C.8.3. Changes in MySQL Connector/MXJ 5.0.4 (28 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-3">C.8.4. Changes in MySQL Connector/MXJ 5.0.3 (24 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-2">C.8.5. Changes in MySQL Connector/MXJ 5.0.2 (15 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-1">C.8.6. Changes in MySQL Connector/MXJ 5.0.1 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-0">C.8.7. Changes in MySQL Connector/MXJ 5.0.0 (09 December 2005)</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#ccpp-news">C.9. MySQL Connector/C++ Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#ccpp-news-1-0">C.9.1. Changes in MySQL Connector/C++ 1.0.x</a></span></dt></dl></dd><dt><span class="section"><a href="news.html#mysql-proxy-news">C.10. MySQL Proxy Change History</a></span></dt><dd><dl><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-0">C.10.1. Changes in MySQL Proxy 0.7.0 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-1">C.10.2. Changes in MySQL Proxy 0.6.1 (06 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-0">C.10.3. Changes in MySQL Proxy 0.6.0 (11 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-1">C.10.4. Changes in MySQL Proxy 0.5.1 (30 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-0">C.10.5. Changes in MySQL Proxy 0.5.0 (19 June 2007)</a></span></dt></dl></dd></dl></div><a class="indexterm" name="id3836674"></a><a class="indexterm" name="id3836682"></a><a class="indexterm" name="id3836695"></a><p>
    This appendix lists the changes from version to version in the MySQL
    source code through the latest version of MySQL 6.0,
    which is currently MySQL 6.0.12. Starting with MySQL 5.0,
    we began offering a new version of the Manual for each new series of
    MySQL releases (5.0, 5.1, and so on). For information about changes
    in previous release series of the MySQL database software, see the
    corresponding version of this Manual. For information about legacy
    versions of the MySQL software through the 4.1 series, see
    <em class="citetitle">MySQL 3.23, 4.0, 4.1 Reference Manual</em>.
  </p><p>
    We update this section as we add new features in the
    6.0 series, so that everybody can follow the
    development process.
  </p><p>
    Note that we tend to update the manual at the same time we make
    changes to MySQL. If you find a recent version of MySQL listed here
    that you can't find on our download page
    (<a href="http://dev.mysql.com/downloads/" target="_top">http://dev.mysql.com/downloads/</a>), it means that the version has
    not yet been released.
  </p><p>
    The date mentioned with a release version is the date of the last
    Bazaar commit on which the release was based, not the date when the
    packages were made available. The binaries are usually made
    available a few days after the date of the tagged ChangeSet, because
    building and testing all packages takes some time.
  </p><p>
    The manual included in the source and binary distributions may not
    be fully accurate when it comes to the release changelog entries,
    because the integration of the manual happens at build time. For the
    most up-to-date release changelog, please refer to the online
    version instead.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="news-6-0-x"></a>C.1. Changes in release 6.0.x (Development)</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#news-6-0-12">C.1.1. Changes in MySQL 6.0.12 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-11">C.1.2. Changes in MySQL 6.0.11 (11 May 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-10">C.1.3. Changes in MySQL 6.0.10 (03 March 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-9">C.1.4. Changes in MySQL 6.0.9 (10 January 2009)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-8">C.1.5. Changes in MySQL 6.0.8 (03 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-7">C.1.6. Changes in MySQL 6.0.7 (29 September 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-6">C.1.7. Changes in MySQL 6.0.6 (11 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-5">C.1.8. Changes in MySQL 6.0.5 (12 June 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-4">C.1.9. Changes in MySQL 6.0.4 (12 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-3">C.1.10. Changes in MySQL 6.0.3 (16 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-2">C.1.11. Changes in MySQL 6.0.2 (04 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-1">C.1.12. Changes in MySQL 6.0.1 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-6-0-0">C.1.13. Changes in MySQL 6.0.0 (30 April 2007 Alpha)</a></span></dt></dl></div><a class="indexterm" name="id3836796"></a><p>
    An overview of which features were added in MySQL 6.0 can be found
    here: <a href="introduction.html#mysql-nutshell" title="1.4.1. What Is New in MySQL 6.0">Section 1.4.1, “What Is New in MySQL 6.0”</a>.
  </p><p>
    For a full list of changes, please refer to the changelog sections
    for each individual 6.0.x release.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-12"></a>C.1.1. Changes in MySQL 6.0.12 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        The transactional behavior of <a href="sql-syntax.html#stop-slave" title="12.6.2.6. STOP SLAVE Syntax"><code class="literal">STOP
        SLAVE</code></a> has changed. Formerly, it took effect
        immediately, even inside a transaction; now, it waits until the
        current replication event group (if any) has finished executing,
        or until the user issues a
        <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL QUERY</code></a> or
        <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL CONNECTION</code></a>
        statement.
      </p><p>
        This was done in order to solve the problem encountered when
        replication was stopped while a non-transactional slave was
        replicating a transaction on the master. (It was impossible to
        roll back a mixed-engines transaction when one of the engines
        was non-transactional, which meant that the slave could not
        safely re-apply any transaction that had been interrupted by
        <a href="sql-syntax.html#stop-slave" title="12.6.2.6. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a>.)
       (<a href="http://bugs.mysql.com/319" target="_top">Bug#319</a>, <a href="http://bugs.mysql.com/38205" target="_top">Bug#38205</a>)</p><p>See also <a href="http://bugs.mysql.com/43217" target="_top">Bug#43217</a>.</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        An option that requires a value, when specified in an option
        file without a value, was assigned the text of the next line in
        the file as the value. Now, if you fail to specify a required
        value in an option file, the server aborts with an error.
      </p><p>
        This change does not effect how options are handled by the
        server when they are used on the command line. For example,
        starting the server using <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe
        <code class="option">--relay-log --relay-log-index</code> &amp;</strong></span></a>
        causes the server to create relay log files named
        <code class="filename">--relay-log-index.000001</code>,
        <code class="filename">--relay-log-index.000002</code>, and so on,
        because the <a href="replication.html#option_mysqld_relay-log"><code class="option">--relay-log</code></a> option
        expects an argument.
       (<a href="http://bugs.mysql.com/25192" target="_top">Bug#25192</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        When a value was equal to a <code class="literal">PARTITION ... VALUES LESS
        THAN (<em class="replaceable"><code>value</code></em>)</code> value other
        than <code class="literal">MAXVALUE</code>, the corresponding partition
        was not pruned.
       (<a href="http://bugs.mysql.com/42944" target="_top">Bug#42944</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing the following statements, in the order shown, could
        cause a deadlock between the user thread and I/O thread:
      </p><pre class="programlisting">START SLAVE;
STOP SLAVE SQL_THREAD;
START SLAVE;
</pre><p>(<a href="http://bugs.mysql.com/44312" target="_top">Bug#44312</a>)</p><p>See also <a href="http://bugs.mysql.com/38715" target="_top">Bug#38715</a>, <a href="http://bugs.mysql.com/38716" target="_top">Bug#38716</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Unrelated errors occurring during the execution of
        <a href="sql-syntax.html#reset-slave" title="12.6.2.3. RESET SLAVE Syntax"><code class="literal">RESET SLAVE</code></a> could cause the slave
        to crash.
       (<a href="http://bugs.mysql.com/44179" target="_top">Bug#44179</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using semi-synchronous replication:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL</code></a> statements were not
            always obeyed for a session blocked by a semi-synchronous
            <code class="literal">ACK</code> signal.
          </p></li><li><p>
            <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a> did not
            provide any indication that a session was blocked by the
            <code class="literal">ACK</code> signal.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/44058" target="_top">Bug#44058</a>)</p><p>See also <a href="http://bugs.mysql.com/40935" target="_top">Bug#40935</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replicating <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> or
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns declared as
        <code class="literal">NULL</code> on the master but <code class="literal">NOT
        NULL</code> on the slave caused the slave to crash.
       (<a href="http://bugs.mysql.com/43789" target="_top">Bug#43789</a>)</p><p>See also <a href="http://bugs.mysql.com/38850" target="_top">Bug#38850</a>, <a href="http://bugs.mysql.com/43783" target="_top">Bug#43783</a>, <a href="http://bugs.mysql.com/43785" target="_top">Bug#43785</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Executing the sequence of statements <a href="sql-syntax.html#reset-slave" title="12.6.2.3. RESET SLAVE Syntax"><code class="literal">RESET
        SLAVE</code></a>, <a href="sql-syntax.html#reset-master" title="12.6.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a>,
        and <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH LOGS</code></a>,
        when binary log or relay log files listed in the index file
        could not be found, could cause the server to crash. This could
        happen, for example, when these files had been moved or deleted
        manually.
       (<a href="http://bugs.mysql.com/41902" target="_top">Bug#41902</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        MySQL creates binary logs in a numbered sequence, with a maximum
        possible 4294967295 concurrent log files, 4294967295 being the
        maximum value for an unsigned long integer. However, binary log
        file extensions were turned into negative numbers once the
        variable used to hold the value reached the maximum value for a
        signed long integer (2147483647). Consequently, when the
        sequence value was incremented to the next (negative) number,
        this caused MySQL to try to create the file using a
        <code class="filename">.000000</code> extension, causing the server to
        fail since this file already existed.
      </p><p>
        Negative file extensions are now disallowed, and an error is
        returned when the limit is reached. In addition,
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH LOGS</code></a> now
        also reports warnings to the user, if the extension number has
        reached the limit, and warnings are printed to the error log
        when the limit is approaching.
       (<a href="http://bugs.mysql.com/40611" target="_top">Bug#40611</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Updating a table having no primary key, using an unindexed CHAR
        column as the key, caused row-based replication to fail.
       (<a href="http://bugs.mysql.com/40045" target="_top">Bug#40045</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <a href="replication.html#option_mysqld_slave-skip-errors"><code class="option">--slave-skip-errors</code></a> option
        had no effect when using row-based logging format.
       (<a href="http://bugs.mysql.com/39393" target="_top">Bug#39393</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing concurrent <a href="sql-syntax.html#stop-slave" title="12.6.2.6. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a>,
        <a href="sql-syntax.html#start-slave" title="12.6.2.5. START SLAVE Syntax"><code class="literal">START SLAVE</code></a>, and
        <a href="sql-syntax.html#reset-slave" title="12.6.2.3. RESET SLAVE Syntax"><code class="literal">RESET SLAVE</code></a> statements using
        different connections caused the replication slave to crash.
       (<a href="http://bugs.mysql.com/38716" target="_top">Bug#38716</a>)</p><p>See also <a href="http://bugs.mysql.com/38715" target="_top">Bug#38715</a>, <a href="http://bugs.mysql.com/44312" target="_top">Bug#44312</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The following erors were not correctly reported:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              Failures during slave thread initialization
            </p></li></ul></div><p>
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              Failures while initializing the relay log position
              (immediately following the starting of the slave thread)
            </p></li></ul></div><p>
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              Failures while processing queries passed through the
              <code class="option">--init_slave</code> option.
            </p></li></ul></div><p>
      </p><p>
        Information about these types of failures can now be found in
        the output of <a href="sql-syntax.html#show" title="12.5.6. SHOW Syntax"><code class="literal">SHOW SLAVE
        STATUS</code></a>.
       (<a href="http://bugs.mysql.com/38197" target="_top">Bug#38197</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Killing the thread executing a DDL statement, after it had
        finished its execution but before it had written the binlog
        event, caused the error code in the binlog event to be set
        (incorrectly) to <span class="errorcode">ER_SERVER_SHUTDOWN</span> or
        <span class="errorcode">ER_QUERY_INTERRUPTED</span>, which caused
        replication to fail.
       (<a href="http://bugs.mysql.com/37145" target="_top">Bug#37145</a>)</p><p>See also <a href="http://bugs.mysql.com/27571" target="_top">Bug#27571</a>, <a href="http://bugs.mysql.com/22725" target="_top">Bug#22725</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Column alises used inside subqueries were ignored in the binary
        log.
       (<a href="http://bugs.mysql.com/35515" target="_top">Bug#35515</a>)</p></li><li><p>
        For settings of
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> greater
        than 0, some queries for <code class="literal">INFORMATION_SCHEMA</code>
        tables left entries with incorrect lettercase in the table
        definition cache.
       (<a href="http://bugs.mysql.com/44738" target="_top">Bug#44738</a>)</p></li><li><p>
        Valgrind warnings for the
        <a href="functions.html#function_decode"><code class="literal">DECODE()</code></a>,
        <a href="functions.html#function_encrypt"><code class="literal">ENCRYPT()</code></a>, and
        <a href="functions.html#function_find-in-set"><code class="literal">FIND_IN_SET()</code></a> functions were
        corrected.
       (<a href="http://bugs.mysql.com/44358" target="_top">Bug#44358</a>, <a href="http://bugs.mysql.com/44365" target="_top">Bug#44365</a>, <a href="http://bugs.mysql.com/44367" target="_top">Bug#44367</a>)</p></li><li><p>
        On Windows, entries for <span><strong class="command">build-vs9.bat</strong></span> and
        <span><strong class="command">build-vs9_x64.bat</strong></span> were missing in
        <code class="filename">win/Makefile.am</code>.
       (<a href="http://bugs.mysql.com/44353" target="_top">Bug#44353</a>)</p></li><li><p>
        Not all lock types had proper descriptive strings, resulting in
        garbage output from <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin debug</strong></span></a>.
       (<a href="http://bugs.mysql.com/44164" target="_top">Bug#44164</a>)</p></li><li><p>
        Use of <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> statements with
        <code class="literal">INFORMATION_SCHEMA</code> tables caused a server
        crash. Now <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> is prohibited
        with such tables.
       (<a href="http://bugs.mysql.com/44151" target="_top">Bug#44151</a>)</p></li><li><p>
        On Windows, if the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client was reading
        input from a pipe, it could crash attempting to read after EOF.
       (<a href="http://bugs.mysql.com/44133" target="_top">Bug#44133</a>)</p></li><li><p>
        Invoking <a href="sql-syntax.html#show-table-status" title="12.5.6.36. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> from
        within a stored procedure could cause a <code class="literal">Packets out of
        order</code> error.
       (<a href="http://bugs.mysql.com/43962" target="_top">Bug#43962</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> could display a negative
        <code class="literal">Max keyfile length</code> value.
       (<a href="http://bugs.mysql.com/43950" target="_top">Bug#43950</a>)</p></li><li><p>
        On 64-bit systems, a
        <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a> value larger
        than 4GB could couse <code class="literal">MyISAM</code> index corruption.
       (<a href="http://bugs.mysql.com/43932" target="_top">Bug#43932</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.6.39. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> did not properly
        display the value of
        <a href="replication.html#sysvar_slave_skip_errors"><code class="literal">slave_skip_errors</code></a>.
       (<a href="http://bugs.mysql.com/43835" target="_top">Bug#43835</a>)</p></li><li><p>
        On Windows, a server crash occurred for attempts to insert a
        floating-point value into a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>
        column with a maximum length less than the converted
        floating-point value length.
       (<a href="http://bugs.mysql.com/43833" target="_top">Bug#43833</a>)</p></li><li><p>
        Incorrect initialization of <code class="literal">MyISAM</code> table
        indexes could cause incorrect query results.
       (<a href="http://bugs.mysql.com/43737" target="_top">Bug#43737</a>)</p></li><li><p>
        <code class="literal">libmysqld</code> crashed when it was reinitialized.
       (<a href="http://bugs.mysql.com/43706" target="_top">Bug#43706</a>, <a href="http://bugs.mysql.com/44091" target="_top">Bug#44091</a>)</p></li><li><p>
        <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a> of floating-point numbers
        did unnecessary rounding.
       (<a href="http://bugs.mysql.com/43432" target="_top">Bug#43432</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-database" title="12.1.1. ALTER DATABASE Syntax"><code class="literal">ALTER DATABASE
        ... UPGRADE DATA DIRECTORY NAME</code></a> failed when the
        database contained views.
       (<a href="http://bugs.mysql.com/43385" target="_top">Bug#43385</a>)</p></li><li><p>
        Certain statements might open a table and then wait for an
        impending global read lock without noticing whether they hold a
        table being waiting for by the global read lock, causing a hang.
        Affected statements are
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a>,
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES ...
        WRITE</code></a>,
        <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a>, and
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a>.
       (<a href="http://bugs.mysql.com/43230" target="_top">Bug#43230</a>)</p></li><li><p>
        Using an XML function such as <code class="literal">ExtractValue()</code>
        more than once in a single query could produce erroneous
        results.
       (<a href="http://bugs.mysql.com/43183" target="_top">Bug#43183</a>)</p><p>See also <a href="http://bugs.mysql.com/43937" target="_top">Bug#43937</a>.</p></li><li><p>
        Full-text prefix searches could hang the connection and cause
        100% CPU consumption.
       (<a href="http://bugs.mysql.com/42907" target="_top">Bug#42907</a>)</p></li><li><p>
        Comparison of <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values could
        lose the sign of operands.
       (<a href="http://bugs.mysql.com/42664" target="_top">Bug#42664</a>)</p></li><li><p>
        <a href="functions.html#function_maketime"><code class="literal">MAKETIME()</code></a> could lose the sign of
        negative arguments.
       (<a href="http://bugs.mysql.com/42662" target="_top">Bug#42662</a>)</p></li><li><p>
        <a href="functions.html#function_sec-to-time"><code class="literal">SEC_TO_TIME()</code></a> could lose the sign
        of negative arguments.
       (<a href="http://bugs.mysql.com/42661" target="_top">Bug#42661</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> had excessive contention for a
        character set mutex.
       (<a href="http://bugs.mysql.com/42649" target="_top">Bug#42649</a>)</p></li><li><p>
        Incorrect elevation of warning messages to error messages for
        unsafe statements caused a server crash.
       (<a href="http://bugs.mysql.com/42640" target="_top">Bug#42640</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> suggested use of
        <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> for corrupt tables
        for storage engines not supported by <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR
        TABLE</code></a>. Now <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>
        suggests that the user dump and reload the table.
       (<a href="http://bugs.mysql.com/42563" target="_top">Bug#42563</a>)</p></li><li><p>
        The <code class="literal">InnoDB</code>
        <code class="literal">btr_search_drop_page_hash_when_freed()</code>
        function had a race condition.
       (<a href="http://bugs.mysql.com/42279" target="_top">Bug#42279</a>)</p></li><li><p>
        Compressing a table with the <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a>
        utility caused the server to produce Valgrind warnings when it
        opened the table.
       (<a href="http://bugs.mysql.com/41541" target="_top">Bug#41541</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with
        <code class="literal">DELAY_KEY_WRITE</code> enabled, the index file could
        be corrupted without the table being marked as crashed if the
        server was killed.
       (<a href="http://bugs.mysql.com/41330" target="_top">Bug#41330</a>)</p></li><li><p>
        Killing an <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT
        ... SELECT</code></a> statement for a <code class="literal">MyISAM</code>
        table could cause table corruption if the table had indexes.
       (<a href="http://bugs.mysql.com/40827" target="_top">Bug#40827</a>)</p></li><li><p>
        A multiple-table <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE
        IGNORE</code></a> statement involving a foreign key constraint
        caused an assertion failure.
       (<a href="http://bugs.mysql.com/40127" target="_top">Bug#40127</a>)</p></li><li><p>
        Multiple-table <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements
        did not properly activate triggers.
       (<a href="http://bugs.mysql.com/39953" target="_top">Bug#39953</a>)</p></li><li><p>
        The <a href="programs.html#mysql-setpermission" title="4.6.14. mysql_setpermission — Interactively Set Permissions in Grant
Tables"><span><strong class="command">mysql_setpermission</strong></span></a> operation for
        removing database privileges removed global privileges instead.
       (<a href="http://bugs.mysql.com/39852" target="_top">Bug#39852</a>)</p></li><li><p>
        A stored routine contain a C-style comment could not be dumped
        and reloaded.
       (<a href="http://bugs.mysql.com/39559" target="_top">Bug#39559</a>)</p></li><li><p>
        In an <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> or
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> via a secondary index,
        <code class="literal">InnoDB</code> did not store the cursor position.
        This made <code class="literal">InnoDB</code> crash in semi-consistent
        read while attempting to unlock a non-matching record.
       (<a href="http://bugs.mysql.com/39320" target="_top">Bug#39320</a>)</p></li><li><p>
        On WIndows, running the server with
        <a href="server-administration.html#sysvar_myisam_use_mmap"><code class="literal">myisam_use_mmap</code></a> enabled caused
        <code class="literal">MyISAM</code> table corruption.
       (<a href="http://bugs.mysql.com/38848" target="_top">Bug#38848</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> had a memory leak in its
        option-processing code.
       (<a href="http://bugs.mysql.com/38468" target="_top">Bug#38468</a>)</p></li><li><p>
        Setting the <a href="server-administration.html#sysvar_general_log_file"><code class="literal">general_log_file</code></a> or
        <a href="server-administration.html#sysvar_slow_query_log_file"><code class="literal">slow_query_log_file</code></a> system
        variable to a non-constant expression caused the variable to
        become unset.
       (<a href="http://bugs.mysql.com/38124" target="_top">Bug#38124</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> did not properly
        check whether <code class="literal">MyISAM</code> tables created by
        servers from MySQL 4.0 or older needed to be upgraded. This
        could cause problems upgrading to MySQL 5.1 or higher.
       (<a href="http://bugs.mysql.com/37631" target="_top">Bug#37631</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if run as
        <code class="literal">root</code> and the root directory
        (<code class="literal">/</code>) was not writable.
       (<a href="http://bugs.mysql.com/36462" target="_top">Bug#36462</a>)</p></li><li><p>
        An <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement that updated
        a column using the same
        <a href="functions.html#function_des-encrypt"><code class="literal">DES_ENCRYPT()</code></a> value for each row
        actually updated different rows with different values.
       (<a href="http://bugs.mysql.com/35087" target="_top">Bug#35087</a>)</p></li><li><p>
        Inserting the result of <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>
        invoked with a <code class="literal">utf32</code> string and a number for
        arguments caused a server crash.
       (<a href="http://bugs.mysql.com/34021" target="_top">Bug#34021</a>)</p></li><li><p>
        For shared-memory connections, the read and write methods did
        not properly handle asynchronous close events, which could lead
        to the client locking up waiting for a server response. For
        example, a call to
        <a href="connectors-apis.html#mysql-real-query" title="20.10.3.54. mysql_real_query()"><code class="literal">mysql_real_query()</code></a> would block
        forever on the client side if the executed statement was aborted
        on the server side. Thanks to Armin Schöffmann for the bug
        report and patch.
       (<a href="http://bugs.mysql.com/33899" target="_top">Bug#33899</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> and <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack</strong></span></a>
        were not being linked with the library that enabled support for
        <code class="literal">*</code> filename pattern expansion.
       (<a href="http://bugs.mysql.com/29248" target="_top">Bug#29248</a>)</p></li><li><p>
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> did not delete savepoints
        if there were no changes in the transaction.
       (<a href="http://bugs.mysql.com/26288" target="_top">Bug#26288</a>)</p></li><li><p>
        Several memory allocation functions were not being checked for
        out-of-memory return values.
       (<a href="http://bugs.mysql.com/25058" target="_top">Bug#25058</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-11"></a>C.1.2. Changes in MySQL 6.0.11 (11 May 2009)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <a href="server-administration.html#sysvar_optimizer_switch"><code class="literal">optimizer_switch</code></a> system
        variable controls optimizations that can be switched on and off.
        The syntax for flags in its value has changed from
        <code class="literal">'no_<em class="replaceable"><code>opt_name</code></em>'</code> to
        <code class="literal">'<em class="replaceable"><code>opt_name</code></em>={on|off|default}'</code>.
        For information about the new syntax, see
        <a href="optimization.html#switchable-optimizations" title="7.2.22. Using optimizer_switch to Control the
        Optimizer">Section 7.2.22, “Using <code class="literal">optimizer_switch</code> to Control the
        Optimizer”</a>.
      </p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The global server variables
        <a href="replication.html#sysvar_sync_master_info"><code class="literal">sync_master_info</code></a> and
        <a href="replication.html#sysvar_sync_relay_log_info"><code class="literal">sync_relay_log_info</code></a> are
        introduced for use on replication slaves to control
        synchronization of, respectively, the
        <code class="filename">master.info</code> and
        <code class="filename">relay.info</code> files.
      </p><p>
        In each case, setting the variable to a nonzero integer value
        <em class="replaceable"><code>N</code></em> causes the slave to synchonize the
        corresponding file to disk after every
        <em class="replaceable"><code>N</code></em> events. Setting its value to 0
        allows the operation system to handle syncronization of the file
        instead.
      </p><p>
        The actions of these variables, when enabled, are analogous to
        how the <a href="replication.html#sysvar_sync_binlog"><code class="literal">sync_binlog</code></a> variable
        works with regard to binary logs on a replication master.
      </p><p>
        These variables can also be set in <code class="filename">my.cnf</code>,
        or by using the server options
        <a href="replication.html#sysvar_sync_master_info"><code class="option">--sync-master-info</code></a> and
        <a href="replication.html#sysvar_sync_relay_log_info"><code class="option">--sync-relay-log-info</code></a>
        respectively.
      </p><p>
        An additional system variable
        <a href="replication.html#sysvar_relay_log_recovery"><code class="literal">relay_log_recovery</code></a> is also now
        available. When enabled, this variable causes a replication
        slave to discard relay log files obtained from the replication
        master following a crash.
      </p><p>
        This variable can also be set in <code class="filename">my.cnf</code>, or
        by using the <a href="replication.html#sysvar_relay_log_recovery"><code class="option">--relay-log-recovery</code></a>
        server option.
      </p><p>
        This fix improves and expands upon one made in MySQL 6.0.10
        which introduced the
        <a href="replication.html#sysvar_sync_relay_log"><code class="literal">sync_relay_log</code></a> variable. For
        more information about all of the server system variables
        introduced by these fixes, see
        <a href="replication.html#replication-options-slave" title="16.1.3.3. Replication Slave Options and Variables">Section 16.1.3.3, “Replication Slave Options and Variables”</a>.
       (<a href="http://bugs.mysql.com/31665" target="_top">Bug#31665</a>, <a href="http://bugs.mysql.com/35542" target="_top">Bug#35542</a>, <a href="http://bugs.mysql.com/40337" target="_top">Bug#40337</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> now supports an
        <code class="option">--experimental=<em class="replaceable"><code>file_name</code></em></code>
        option. It enables you to specify a file that contains a list of
        test cases that should be displayed with the <code class="literal">[ exp-fail
        ]</code> code rather than <code class="literal">[ fail ]</code> if they
        fail.
       (<a href="http://bugs.mysql.com/42888" target="_top">Bug#42888</a>)</p></li><li><p>
        The MD5 algorithm now uses the Xfree implementation.
       (<a href="http://bugs.mysql.com/42434" target="_top">Bug#42434</a>)</p></li><li><p>
        The <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> statement now has a
        <code class="literal">SKIP_GAP_EVENT</code> option that causes the restore
        operation not to write the gap event to the binary log that
        causes any replication slaves to stop replication. This is
        useful when <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> is run on a
        master server and the backup image does not contain databases
        that are replicated to the slaves.
       (<a href="http://bugs.mysql.com/39780" target="_top">Bug#39780</a>)</p></li><li><p>
        Previously, the <code class="option">--secure-file-priv</code> option and
        <code class="literal">secure_file_priv</code> system variable, if set to a
        directory, limited <code class="literal">BACKUP DATABASE</code> and
        <code class="literal">RESTORE</code> operations to files in the given
        directory. Now the <code class="option">--secure-backup-file-priv</code>
        option and <code class="literal">secure_backup_file_priv</code> system
        variable apply instead.
       (<a href="http://bugs.mysql.com/39581" target="_top">Bug#39581</a>)</p></li><li><p>
        The query cache now checks whether a
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement begins with
        <code class="literal">SQL_NO_CACHE</code> to determine whether it can skip
        checking for the query result in the query cache. This is not
        supported when <code class="literal">SQL_NO_CACHE</code> occurs within a
        comment.
       (<a href="http://bugs.mysql.com/37416" target="_top">Bug#37416</a>)</p></li><li><p>
        A new program, <a href="programs.html#mysqlbackup" title="4.6.7. mysqlbackup — Display Backup Information"><span><strong class="command">mysqlbackup</strong></span></a>, displays
        information from backups created with the
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> statement.
      </p></li><li><p>
        MySQL now implements the SQL standard
        <a href="sql-syntax.html#signal" title="12.8.8.1. SIGNAL Syntax"><code class="literal">SIGNAL</code></a> and
        <a href="sql-syntax.html#resignal" title="12.8.8.2. RESIGNAL Syntax"><code class="literal">RESIGNAL</code></a> statements. See
        <a href="sql-syntax.html#signal-resignal" title="12.8.8. SIGNAL and
      RESIGNAL">Section 12.8.8, “<code class="literal">SIGNAL</code> and
      <code class="literal">RESIGNAL</code>”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        For system variables that take values of <code class="literal">ON</code>
        or <code class="literal">OFF</code>, <code class="literal">OF</code> was accepted as
        a legal variable. Now system variables that take
        “<span class="quote">enumeration</span>” values must be assigned the full
        value. This affects some other variables that previously could
        be assigned using unambiguous prefixes of allowable values, such
        as <a href="server-administration.html#sysvar_tx_isolation"><code class="literal">tx_isolation</code></a>.
       (<a href="http://bugs.mysql.com/34828" target="_top">Bug#34828</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        If a data definition language (DDL) statement occurred for a
        table that was being used by another session in an active
        transaction, statements could be written to the binary log in
        the wrong order. For example, this could happen if <code class="literal">DROP
        TABLE</code> occurred for a table being used in a
        transaction. This is now prevented by deferring release of
        metadata locks on tables used within a transaction until the
        transaction ends.
      </p><p>
        This bug fix results in some incompatibilities with previous
        versions:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            A table that is being used by a transaction within one
            session cannot be used in DDL statements by other sessions
            until the transaction ends.
          </p></li><li><p>
            <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH
            READ LOCK</code></a> blocks for active transactions that hold
            metadata locks until those transactions end. The same is
            true for attempts to set the global value of the
            <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> system variable.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/989" target="_top">Bug#989</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER
        TO ... MASTER_HOST=''</code></a> — explicitly setting
        <code class="literal">MASTER_HOST</code> equal to an empty string —
        created a <code class="filename">master.info</code> file with an empty
        <code class="literal">host</code> field. This led to a <span class="errortext">The
        server is not configured as slave</span> error when
        attempting to execute a <a href="sql-syntax.html#start-slave" title="12.6.2.5. START SLAVE Syntax"><code class="literal">START
        SLAVE</code></a> statement. Now, if
        <code class="literal">MASTER_HOST</code> is set to an empty string, the
        <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a> statement fails
        with an error.
       (<a href="http://bugs.mysql.com/28796" target="_top">Bug#28796</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: <span class="bold"><strong>Important Note</strong></span>: 
        Binary logging with
        <a href="replication.html#sysvar_binlog_format"><code class="option">--binlog_format=ROW</code></a> failed when a
        change to be logged included more than 251 columns. This issue
        was not known to occur with mixed-format or statement-based
        logging.
       (<a href="http://bugs.mysql.com/42977" target="_top">Bug#42977</a>)</p><p>See also <a href="http://bugs.mysql.com/42914" target="_top">Bug#42914</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <a href="sql-syntax.html#show-slave-status" title="12.5.6.34. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> connection
        thread competed with the slave SQL thread for use of the error
        message buffer. As a result, the connection thread sometimes
        received incomplete messages. This issue was uncovered with
        <span><strong class="command">valgrind</strong></span> when message strings were passed
        without <code class="literal">NULL</code> terminators, causing the error
        <span class="errortext">Conditional jump or move depends on uninitialised
        value(s)</span>.
       (<a href="http://bugs.mysql.com/43076" target="_top">Bug#43076</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        This fix handles 2 issues encountered on replication slaves
        during startup:
      </p><div class="orderedlist"><ol type="1"><li><p>
            A failure while allocating the master info structure caused
            the slave to crash.
          </p></li><li><p>
            A failure during recovery caused the relay log file not to
            be properly initialized which led to a crash on the slave.
          </p></li></ol></div><p>(<a href="http://bugs.mysql.com/43075" target="_top">Bug#43075</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Assigning an invalid directory for the
        <a href="replication.html#option_mysqld_slave-load-tmpdir"><code class="option">--slave-load-tmpdir</code></a> caused the
        replication slave to crash.
       (<a href="http://bugs.mysql.com/42861" target="_top">Bug#42861</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <code class="literal">mysql.procs_priv</code> system table was not
        replicated.
       (<a href="http://bugs.mysql.com/42217" target="_top">Bug#42217</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When <a href="replication.html#sysvar_binlog_format"><code class="option">--binlog_format</code></a> was set to
        <code class="literal">STATEMENT</code>, a statement unsafe for
        statement-based logging caused an error or warning to be issued
        even if <a href="server-administration.html#sysvar_sql_log_bin"><code class="literal">sql_log_bin</code></a> was set to
        0.
       (<a href="http://bugs.mysql.com/41980" target="_top">Bug#41980</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT
        DELAYED</code></a> into a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column issued
        concurrently with a an insert on the same column not using
        <code class="literal">DELAYED</code>, but applied after the other insert,
        was logged using the same timestamp as generated by the other
        (non-<code class="literal">DELAYED</code>) insert.
       (<a href="http://bugs.mysql.com/41719" target="_top">Bug#41719</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using <code class="literal">MIXED</code> replication format and
        temporary tables were created in statement-based mode, but a
        later operation in the same session caused a switch to row-based
        mode, the temporary tables were not dropped on the slave at the
        end of the session.
       (<a href="http://bugs.mysql.com/40013" target="_top">Bug#40013</a>)</p><p>See also <a href="http://bugs.mysql.com/43046" target="_top">Bug#43046</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/20499" target="_top">Bug#20499</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using the <code class="literal">MIXED</code> replication format,
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> and
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements that searched
        for rows where part of the key had nullable
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns failed. This occurred
        because operations that inserted the data were replicated as
        statements, but <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> and
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements affecting the
        same data were replicated using row-based format.
      </p><p>
        This issue did not occur when using statement-based replication
        (only) or row-based replication (only).
       (<a href="http://bugs.mysql.com/39753" target="_top">Bug#39753</a>)</p><p>See also <a href="http://bugs.mysql.com/39648" target="_top">Bug#39648</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <code class="literal">MIXED</code> binary logging format did not
        switch to row-based mode for statements containing the
        <a href="functions.html#function_load-file"><code class="literal">LOAD_FILE()</code></a> function.
       (<a href="http://bugs.mysql.com/39701" target="_top">Bug#39701</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The server SQL mode in effect when a stored procedure was
        created was not retained in the binary log. This could cause a
        <a href="sql-syntax.html#create-procedure" title="12.1.12. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a> statement that
        succeeded on the master to fail on the slave.
      </p><p>
        This issue was first noticed when a stored procedure was created
        when <a href="server-administration.html#sqlmode_ansi_quotes"><code class="literal">ANSI_QUOTES</code></a> was in effect
        on the master, but could possibly cause failed
        <a href="sql-syntax.html#create-procedure" title="12.1.12. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a> statements and
        other problems on the slave when using other server SQL modes as
        well.
       (<a href="http://bugs.mysql.com/39526" target="_top">Bug#39526</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If <a href="server-administration.html#option_mysqld_secure-file-priv"><code class="option">--secure-file-priv</code></a> was set on
        the slave, it was unable to execute
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> statements sent from the master when using
        mixed-format or statement-based replication.
      </p><p>
        As a result of this fix, this security restriction is now
        ignored on the slave in such cases; instead the slave checks
        whether the files were created and should be read by the slave
        in its <a href="replication.html#option_mysqld_slave-load-tmpdir"><code class="option">--slave-load-tmpdir</code></a>.
       (<a href="http://bugs.mysql.com/38174" target="_top">Bug#38174</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Server IDs greater than 2147483647
        (2<sup>32</sup> – 1) were represented by
        negative numbers in the binary log.
       (<a href="http://bugs.mysql.com/37313" target="_top">Bug#37313</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The value of <code class="literal">Slave_IO_running</code> in the output
        of <a href="sql-syntax.html#show-slave-status" title="12.5.6.34. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> did not
        distinguish between all 3 possible states of the slave I/O
        thread (not running; running but not connected; connected). Now
        the value <code class="literal">Connecting</code> (rather than
        <code class="literal">No</code>) is shown when the slave I/O thread is
        running but the slave is not connected to a replication master.
      </p><p>
        The server system variable <code class="literal">Slave_running</code> also
        reflects this change, and is now consistent with what is shown
        for <code class="literal">Slave_IO_running</code>.
       (<a href="http://bugs.mysql.com/30703" target="_top">Bug#30703</a>, <a href="http://bugs.mysql.com/41613" target="_top">Bug#41613</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Queries which were written to the slow query log on the master
        were not written to the slow query log on the slave.
       (<a href="http://bugs.mysql.com/23300" target="_top">Bug#23300</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When the server SQL mode included
        <a href="server-administration.html#sqlmode_ignore_space"><code class="literal">IGNORE_SPACE</code></a>, statement-based
        replication of <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE ... INTO
        <em class="replaceable"><code>tbl_name</code></em></code></a> failed because the
        statement was read incorrectly from the binary log; a trailing
        space was omitted, causing the statement to fail with a syntax
        error when run on the slave.
       (<a href="http://bugs.mysql.com/22504" target="_top">Bug#22504</a>)</p><p>See also <a href="http://bugs.mysql.com/43746" target="_top">Bug#43746</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When its disk becomes full, a replication slave may wait while
        writing the binary log, relay log or
        <code class="literal">MyISAM</code> tables, continuing after
        space has been made available. The error message provided in
        such cases was not clear about the frequency with which checking
        for free space is done (once every 60 seconds), and how long the
        server waits after space has been freed before continuing (also
        60 seconds); this caused users to think that the server had
        hung.
      </p><p>
        These issues have been addressed by making the error message
        clearer, and dividing it into two separate messages:
      </p><div class="orderedlist"><ol type="1"><li><p>
            The error message <span class="errortext">Disk is full writing
            '<em class="replaceable"><code>filename</code></em>' (Errcode:
            <em class="replaceable"><code>error_code</code></em>). Waiting for someone
            to free space... (Expect up to 60 secs delay for server to
            continue after freeing disk space)</span> is printed
            only once.
          </p></li><li><p>
            The warning <span class="errortext">Retry in 60 secs, Message reprinted
            in 600 secs</span> is printed once every for every 10
            times that the check for free space is made; that is, the
            check is performed once each 60 seconds, but the reminder
            that space needs to be freed is printed only once every 10
            minutes (600 seconds).
          </p></li></ol></div><p>(<a href="http://bugs.mysql.com/22082" target="_top">Bug#22082</a>)</p></li><li><p>
        Memory corruption of join buffers could occur when using the
        Batched Key Access algorithm with incremental join buffers to
        execute join operations for a query over several tables that
        selects <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values.
       (<a href="http://bugs.mysql.com/44250" target="_top">Bug#44250</a>)</p></li><li><p>
        The server could crash at startup when initializing plugins
        listed in the plugin table.
       (<a href="http://bugs.mysql.com/44137" target="_top">Bug#44137</a>)</p></li><li><p>
        A <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation that restored
        a <code class="literal">MyISAM</code> table using the native
        <code class="literal">MyISAM</code> restore driver could cause the
        <code class="literal">MyISAM</code> key cache to be disabled.
       (<a href="http://bugs.mysql.com/44068" target="_top">Bug#44068</a>)</p></li><li><p>
        In some cases, when the Batched Key Access algorithm is used
        with <a href="server-administration.html#sysvar_join_cache_level"><code class="literal">join_cache_level</code></a> equal to
        6, multi-join queries could return incorrect results.
       (<a href="http://bugs.mysql.com/44019" target="_top">Bug#44019</a>)</p></li><li><p>
        <span><strong class="command">valgrind</strong></span> would report errors for the
        <code class="literal">StorageInterface</code>,
        <code class="literal">StorageHAndler</code> and <code class="literal">CmdGen</code>
        portions of <code class="literal">Falcon</code>.
       (<a href="http://bugs.mysql.com/43995" target="_top">Bug#43995</a>)</p></li><li><p>
        On 64-bit debug builds, code in <code class="literal">safemalloc</code>
        resulted in errors due to use of a 32-bit value for 64-bit
        allocations.
       (<a href="http://bugs.mysql.com/43885" target="_top">Bug#43885</a>)</p></li><li><p>
        When performing a high number of concurrent index updates on a
        <code class="literal">Falcon</code> table, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could
        crash due to an assertion.
       (<a href="http://bugs.mysql.com/43765" target="_top">Bug#43765</a>)</p></li><li><p>
        An attempt by a user who did not have the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege to kill a system
        thread could cause a server crash.
       (<a href="http://bugs.mysql.com/43748" target="_top">Bug#43748</a>)</p></li><li><p>
        On Windows, incorrectly specified link dependencies in
        <code class="filename">CMakeLists.txt</code> resulted in link errors for
        <span><strong class="command">mysql_embedded</strong></span>,
        <span><strong class="command">mysqltest_embedded</strong></span>, and
        <span><strong class="command">mysql_client_test_embedded</strong></span>.
       (<a href="http://bugs.mysql.com/43715" target="_top">Bug#43715</a>)</p></li><li><p>
        <span><strong class="command">make distcheck</strong></span> failed to properly handle
        subdirectories of <code class="filename">storage/ndb</code>.
       (<a href="http://bugs.mysql.com/43614" target="_top">Bug#43614</a>)</p></li><li><p>
        Incorrect use of parser information could lead to acquisition of
        incorrect lock types.
       (<a href="http://bugs.mysql.com/43568" target="_top">Bug#43568</a>)</p></li><li><p>
        Upgrading MySQL to 6.0.10 from 6.0.9 when using
        <code class="literal">Falcon</code> tables and the
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> tool would cause
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash during start up.
       (<a href="http://bugs.mysql.com/43562" target="_top">Bug#43562</a>)</p></li><li><p>
        Running a <code class="literal">SELECT</code> using a range query on
        <code class="literal">FLOAT</code> on a <code class="literal">Maria</code> table
        could return invalid result sets.
       (<a href="http://bugs.mysql.com/43552" target="_top">Bug#43552</a>)</p></li><li><p>
        Running a <code class="literal">SELECT</code> using a range query on with
        <code class="literal">&lt;&gt;</code> or <code class="literal">&lt;</code> with a
        negative values on a <code class="literal">Maria</code> table could return
        invalid result sets.
       (<a href="http://bugs.mysql.com/43530" target="_top">Bug#43530</a>)</p></li><li><p>
        Running a <code class="literal">SELECT</code> on a multi-range query with
        a <code class="literal">LIMIT</code> clause on a <code class="literal">Maria</code>
        table could return invalid result sets.
       (<a href="http://bugs.mysql.com/43527" target="_top">Bug#43527</a>)</p></li><li><p>
        Executing a <code class="literal">LIMIT ... FOR UPDATE</code> statement on
        a <code class="literal">Falcon</code> table when using transactions with
        concurrent threads could cause a crash because the record
        information cannot be accessed correctly.
       (<a href="http://bugs.mysql.com/43488" target="_top">Bug#43488</a>)</p></li><li><p>
        When performing <code class="literal">SELECT</code> statements on a
        <code class="literal">Falcon</code> table using an indexed
        <code class="literal">INTEGER</code> column could return incorrect row
        matches.
       (<a href="http://bugs.mysql.com/43452" target="_top">Bug#43452</a>)</p></li><li><p>
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> on a case-insensitive
        server failed if the backup image contained databases or tables
        with uppercase names. Now,
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> handles this case by
        converting the names to lowercase in the restore catalog, as
        long as there are no duplicate names after the conversion.
       (<a href="http://bugs.mysql.com/43363" target="_top">Bug#43363</a>)</p></li><li><p>
        Use of <code class="literal">USE INDEX</code> hints could cause
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        EXTENDED</code></a> to crash.
       (<a href="http://bugs.mysql.com/43354" target="_top">Bug#43354</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> stored incorrect
        table counts in the backup image.
       (<a href="http://bugs.mysql.com/43324" target="_top">Bug#43324</a>)</p></li><li><p>
        Assigning a value to the
        <a href="server-administration.html#sysvar_backupdir"><code class="literal">backupdir</code></a> system variable
        resulted in Valgrind errors.
       (<a href="http://bugs.mysql.com/43303" target="_top">Bug#43303</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> crashed if a request for the current
        database name returned an empty result, such as after the client
        has executed a preceding <code class="literal">SET
        sql_select_limit=0</code> statement.
       (<a href="http://bugs.mysql.com/43254" target="_top">Bug#43254</a>)</p></li><li><p>
        If the value of the <code class="literal">version_comment</code> system
        variable was too long, the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client
        displayed a truncated startup message.
       (<a href="http://bugs.mysql.com/43153" target="_top">Bug#43153</a>)</p></li><li><p>
        Compilation failures on Windows Vista using Visual Studio 2008
        Professional were corrected.
       (<a href="http://bugs.mysql.com/43120" target="_top">Bug#43120</a>)</p></li><li><p>
        Recovering a <code class="literal">Falcon</code> table from a failure when
        the table contains <code class="literal">BLOB</code> columns could cause
        an assertion failure.
       (<a href="http://bugs.mysql.com/43106" target="_top">Bug#43106</a>)</p></li><li><p>
        On 32-bit Windows, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could not use large
        buffers due to a 2GB user mode address limit.
       (<a href="http://bugs.mysql.com/43082" target="_top">Bug#43082</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would crash when using
        <code class="literal">Falcon</code> tables during shutdown if the server
        was running in embedded mode.
       (<a href="http://bugs.mysql.com/43048" target="_top">Bug#43048</a>)</p></li><li><p>
        The MySQL Backup library had incorrect logic and error reporting
        for metadata saving.
       (<a href="http://bugs.mysql.com/42959" target="_top">Bug#42959</a>)</p></li><li><p>
        Queries of the following form returned an empty result:
      </p><pre class="programlisting">SELECT ... WHERE ... (<em class="replaceable"><code>col</code></em>=<em class="replaceable"><code>col</code></em> AND <em class="replaceable"><code>col</code></em>=<em class="replaceable"><code>col</code></em>) OR ... (<em class="replaceable"><code>false expression</code></em>)
</pre><p>(<a href="http://bugs.mysql.com/42957" target="_top">Bug#42957</a>)</p></li><li><p>
        A two-way join query with a <code class="literal">GROUP BY</code> or
        <code class="literal">ORDER BY</code> clause could produce incorrect
        results when rows of the first table are accessed by an index
        compatible with the <code class="literal">GROUP BY</code> or
        <code class="literal">ORDER BY</code> list while the second table is
        joined using the Batched Key Access algorithm.
       (<a href="http://bugs.mysql.com/42955" target="_top">Bug#42955</a>)</p></li><li><p>
        The <code class="filename">strings/CHARSET_INFO.txt</code> file was not
        included in source distributions.
       (<a href="http://bugs.mysql.com/42937" target="_top">Bug#42937</a>)</p></li><li><p>
        When running <code class="literal">REPAIR</code> on a crashed
        <code class="literal">Falcon</code> table can crash
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> if pages have been incorrectly marked
        dirty, but not locked, during write.
       (<a href="http://bugs.mysql.com/42824" target="_top">Bug#42824</a>)</p></li><li><p>
        <code class="literal">stderr</code> should be unbuffered, but when the
        server redirected <code class="literal">stderr</code> to a file, it became
        buffered.
       (<a href="http://bugs.mysql.com/42790" target="_top">Bug#42790</a>)</p></li><li><p>
        The <code class="literal">DATA_TYPE</code> column of the
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> table
        displayed the <code class="literal">UNSIGNED</code> attribute for
        floating-point data types. (The column should contain only the
        data type name.)
       (<a href="http://bugs.mysql.com/42758" target="_top">Bug#42758</a>)</p></li><li><p>
        Recovery of <code class="literal">Falcon</code> tables while there were
        active transaction during the crash may fail to recover
        completely.
       (<a href="http://bugs.mysql.com/42743" target="_top">Bug#42743</a>)</p></li><li><p>
        Use of semijoin optimization could cause a server crash.
       (<a href="http://bugs.mysql.com/42740" target="_top">Bug#42740</a>)</p></li><li><p>
        When <code class="literal">Falcon</code> is populating the
        <code class="literal">INFORMATION_SCHEMA.TABLESPACES</code> table, an
        exception can be raised because required result set has been
        closed before the resultset has been completed. This can happen
        during a <code class="literal">BACKUP</code> operation.
       (<a href="http://bugs.mysql.com/42725" target="_top">Bug#42725</a>, <a href="http://bugs.mysql.com/42830" target="_top">Bug#42830</a>)</p></li><li><p>
        Assigning a value to the
        <a href="server-administration.html#sysvar_backupdir"><code class="literal">backupdir</code></a> system variable
        resulted in a memory leak.
       (<a href="http://bugs.mysql.com/42695" target="_top">Bug#42695</a>)</p></li><li><p>
        Assigning an incorrect value to the
        <a href="server-administration.html#sysvar_backup_progress_log_file"><code class="literal">backup_progress_log_file</code></a> system
        variable resulted in Valgrind errors.
       (<a href="http://bugs.mysql.com/42685" target="_top">Bug#42685</a>)</p></li><li><p>
        When performing <code class="literal">SELECT</code> queries on tables
        containing <code class="literal">TIMESTAMP</code> or
        <code class="literal">DATETIME</code> colums with indexes using a
        <code class="literal">WHERE</code> clause comparing the field value to
        <code class="literal">NULL</code> using the <code class="literal">&lt;=</code> or
        <code class="literal">&lt;&gt;</code> operators, the wrong information
        would be returned.
       (<a href="http://bugs.mysql.com/42683" target="_top">Bug#42683</a>, <a href="http://bugs.mysql.com/43623" target="_top">Bug#43623</a>, <a href="http://bugs.mysql.com/43620" target="_top">Bug#43620</a>, <a href="http://bugs.mysql.com/42681" target="_top">Bug#42681</a>)</p></li><li><p>
        A dangling pointer in <code class="filename">mysys/my_error.c</code>
        could lead to client crashes.
       (<a href="http://bugs.mysql.com/42675" target="_top">Bug#42675</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> included views that were excluded
        with the <a href="programs.html#option_mysqldump_ignore-table"><code class="option">--ignore-table</code></a>
        option.
       (<a href="http://bugs.mysql.com/42635" target="_top">Bug#42635</a>)</p></li><li><p>
        An earlier bug fix resulted in the problem that the
        <code class="literal">InnoDB</code> plugin could not be used with a server
        that was compiled with the built-in <code class="literal">InnoDB</code>.
        To handle this two changes were made:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            The server now supports an
            <a href="http://dev.mysql.com/doc/refman/5.1/en/innodb-parameters.html#option_mysqld_ignore-builtin-innodb" target="_top"><code class="option">--ignore-builtin-innodb</code></a>
            option that causes the server to behave as if the built-in
            <code class="literal">InnoDB</code> is not present. This option causes
            other <code class="literal">InnoDB</code> options not to be
            recognized.
          </p></li><li><p>
            For the <a href="sql-syntax.html#install-plugin" title="12.5.4.3. INSTALL PLUGIN Syntax"><code class="literal">INSTALL PLUGIN</code></a>
            statement, the server reads option
            (<code class="filename">my.cnf</code>) files just as during server
            startup. This enables the plugin to pick up any relevant
            options from those files. Consequently, a plugin no longer
            is started with each option set to its default value.
          </p><p>
            Because of this change, it is possible to add plugin options
            to an option file even before loading a plugin (if the
            <code class="literal">loose</code> prefix is used). It is also
            possible to uninstall a plugin, edit
            <code class="filename">my.cnf</code>, and install the plugin again.
            Restarting the plugin this way enables it to the new option
            values without a server restart.
          </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          <code class="literal">InnoDB</code> Plugin versions 1.0.4 and higher
          will take advantage of this bug fix. Although the
          <code class="literal">InnoDB</code> Plugin is source code compatible
          with multiple MySQL releases, a given binary
          <code class="literal">InnoDB</code> Plugin can be used only with a
          specific MySQL release. When <code class="literal">InnoDB</code> Plugin
          1.0.4 is released, it is expected to be compiled for MySQL
          5.1.34. For 5.1.33, you can use <code class="literal">InnoDB</code>
          Plugin 1.0.3, but you must build from source.
        </p></div><p>(<a href="http://bugs.mysql.com/42610" target="_top">Bug#42610</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/29263" target="_top">Bug#29263</a>.</p></li><li><p>
        With the <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
        SQL mode enabled, some legal queries failed.
       (<a href="http://bugs.mysql.com/42567" target="_top">Bug#42567</a>)</p></li><li><p>
        Recovery of a <code class="literal">Falcon</code> table with a large
        number of rows can cause a failure in the page type written for
        the internal <code class="literal">FALCON_USER</code> and
        <code class="literal">FALCON_TEMPORARY</code> tablespaces.
       (<a href="http://bugs.mysql.com/42560" target="_top">Bug#42560</a>)</p></li><li><p>
        Passing an unknown time zone specification to
        <a href="functions.html#function_convert-tz"><code class="literal">CONVERT_TZ()</code></a> resulted in a memory
        leak.
       (<a href="http://bugs.mysql.com/42502" target="_top">Bug#42502</a>)</p></li><li><p>
        Tables could enter open table cache for a thread without being
        properly cleaned up, leading to a server crash.
       (<a href="http://bugs.mysql.com/42419" target="_top">Bug#42419</a>)</p></li><li><p>
        Previously, <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> would crash
        if the backup image contained tables originally stored in a
        tablespace that no longer existed at
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> time. Now the tablespace
        is recreated like it was at <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> time if it does not exist when
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> is executed.
       (<a href="http://bugs.mysql.com/42402" target="_top">Bug#42402</a>)</p></li><li><p>
        If the server was started with
        <a href="server-administration.html#sysvar_thread_handling"><code class="option">--thread_handling=pool-of-threads</code></a>,
        the <code class="literal">MAX_QUERIES_PER_HOUR</code> user resource limit.
       (<a href="http://bugs.mysql.com/42384" target="_top">Bug#42384</a>)</p></li><li><p>
        Recovery of <code class="literal">Falcon</code> tables with indexes can
        fail because the index page information has not been recorded
        properly.
       (<a href="http://bugs.mysql.com/42344" target="_top">Bug#42344</a>)</p></li><li><p>
        Using a <code class="literal">LIKE</code> clause on a
        <code class="literal">Maria</code> table using an index and the
        <code class="literal">CP1251</code> collation would return invalid data.
       (<a href="http://bugs.mysql.com/42299" target="_top">Bug#42299</a>)</p></li><li><p>
        Running a <code class="literal">SELECT</code> using a
        <code class="literal">JOIN</code> on a <code class="literal">Maria</code> table
        could return invalid result sets.
       (<a href="http://bugs.mysql.com/42298" target="_top">Bug#42298</a>)</p></li><li><p>
        Running multi-range queries on <code class="literal">Maria</code> tables
        could cause a crash.
       (<a href="http://bugs.mysql.com/42297" target="_top">Bug#42297</a>)</p></li><li><p>
        Using a <code class="literal">falcon-scavenge-schedule</code> of
        <code class="literal">* * * * *</code> would cause
        <code class="literal">Falcon</code> to never execute the required threads
        to operate.
       (<a href="http://bugs.mysql.com/42275" target="_top">Bug#42275</a>)</p></li><li><p>
        If the server was started with an option that had a missing or
        invalid value, a subsequent error that would cause normally the
        server to shut down could cause it to crash instead.
       (<a href="http://bugs.mysql.com/42244" target="_top">Bug#42244</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> and or
        <code class="literal">LIMIT</code> on <code class="literal">Falcon</code> tables
        could give inconsistent results for rows that contain
        <code class="literal">NULL</code> columns in the corresponding
        <code class="literal">ORDER BY</code> clause.
       (<a href="http://bugs.mysql.com/42208" target="_top">Bug#42208</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, there was a race condition
        for <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>,
        <a href="sql-syntax.html#create-index" title="12.1.11. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a>, and
        <a href="sql-syntax.html#drop-index" title="12.1.20. DROP INDEX Syntax"><code class="literal">DROP INDEX</code></a> operations when
        periodically checking whether table copying can be committed.
       (<a href="http://bugs.mysql.com/42152" target="_top">Bug#42152</a>)</p></li><li><p>
        In <code class="literal">InnoDB</code> recovery after a server crash,
        table lookup could fail and corrupt the data dictionary cache.
       (<a href="http://bugs.mysql.com/42075" target="_top">Bug#42075</a>)</p></li><li><p>
        <a href="programs.html#mysqldumpslow" title="4.6.9. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> parsed the
        <a href="programs.html#option_mysqldumpslow_debug"><code class="option">--debug</code></a> and
        <a href="programs.html#option_mysqldumpslow_verbose"><code class="option">--verbose</code></a> options
        incorrectly.
       (<a href="http://bugs.mysql.com/42027" target="_top">Bug#42027</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> and
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> did not implement backup
        and restore of privileges for stored procedures and stored
        functions.
       (<a href="http://bugs.mysql.com/41979" target="_top">Bug#41979</a>)</p></li><li><p>
        Recovering a <code class="literal">Falcon</code> table that uses
        <code class="literal">BLOB</code> columns could cause unbounded tablespace
        growth before recovery completes.
       (<a href="http://bugs.mysql.com/41840" target="_top">Bug#41840</a>)</p></li><li><p>
        Recovery of <code class="literal">Falcon</code> tables could fail with an
        indicating that a <code class="literal">wrong page type</code> was
        identified in the <code class="literal">Falcon</code> serial log.
       (<a href="http://bugs.mysql.com/41837" target="_top">Bug#41837</a>, <a href="http://bugs.mysql.com/42745" target="_top">Bug#42745</a>, <a href="http://bugs.mysql.com/44114" target="_top">Bug#44114</a>)</p></li><li><p>
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> crashed for
        <code class="literal">Falcon</code> tables.
       (<a href="http://bugs.mysql.com/41722" target="_top">Bug#41722</a>)</p></li><li><p>
        With more than two arguments,
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>, and
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> could unnecessarily return
        <code class="literal">Illegal mix of collations</code> errors.
       (<a href="http://bugs.mysql.com/41627" target="_top">Bug#41627</a>)</p></li><li><p>
        Queries that used the loose index scan access method could
        return no rows.
       (<a href="http://bugs.mysql.com/41610" target="_top">Bug#41610</a>)</p></li><li><p>
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> failed if it tried to
        restore a privilege for a non-existent object.
       (<a href="http://bugs.mysql.com/41578" target="_top">Bug#41578</a>)</p></li><li><p>
        In <code class="literal">InnoDB</code> recovery after a server crash,
        rollback of a transaction that updated a column from
        <code class="literal">NULL</code> to <code class="literal">NULL</code> could cause
        another crash.
       (<a href="http://bugs.mysql.com/41571" target="_top">Bug#41571</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client could misinterpret its input
        if a line was longer than an internal buffer.
       (<a href="http://bugs.mysql.com/41486" target="_top">Bug#41486</a>)</p></li><li><p>
        The error message for a too-long column comment was
        <code class="literal">Unknown error</code> rather than a more appropriate
        message.
       (<a href="http://bugs.mysql.com/41465" target="_top">Bug#41465</a>)</p></li><li><p>
        The <code class="literal">Falcon</code> CycleManager has been updated,
        which addresses a number of issues when examining records in
        various transaction states and their visisbility/isolation in
        relation to other threads.
       (<a href="http://bugs.mysql.com/41391" target="_top">Bug#41391</a>, <a href="http://bugs.mysql.com/41478" target="_top">Bug#41478</a>, <a href="http://bugs.mysql.com/41742" target="_top">Bug#41742</a>, <a href="http://bugs.mysql.com/41850" target="_top">Bug#41850</a>, <a href="http://bugs.mysql.com/42459" target="_top">Bug#42459</a>, <a href="http://bugs.mysql.com/41661" target="_top">Bug#41661</a>, <a href="http://bugs.mysql.com/42185" target="_top">Bug#42185</a>, <a href="http://bugs.mysql.com/43146" target="_top">Bug#43146</a>, <a href="http://bugs.mysql.com/43298" target="_top">Bug#43298</a>, <a href="http://bugs.mysql.com/43299" target="_top">Bug#43299</a>, <a href="http://bugs.mysql.com/34624" target="_top">Bug#34624</a>, <a href="http://bugs.mysql.com/42189" target="_top">Bug#42189</a>)</p></li><li><p>
        Use of <code class="literal">SELECT *</code> allowed users with rights to
        only some columns of a view to access all columns.
       (<a href="http://bugs.mysql.com/41354" target="_top">Bug#41354</a>)</p></li><li><p>
        If the tables underlying a <code class="literal">MERGE</code> table had a
        primary key but the <code class="literal">MERGE</code> table itself did
        not, inserting a duplicate row into the <code class="literal">MERGE</code>
        table caused a server crash.
       (<a href="http://bugs.mysql.com/41305" target="_top">Bug#41305</a>)</p></li><li><p>
        In the <code class="literal">help</code> command output displayed by
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, the description for the
        <code class="literal">\c</code> (<code class="literal">clear</code>) command was
        misleading.
       (<a href="http://bugs.mysql.com/41268" target="_top">Bug#41268</a>)</p></li><li><p>
        Several resource leaks were corrected in the error-handling code
        for the MySQL Backup library.
       (<a href="http://bugs.mysql.com/41250" target="_top">Bug#41250</a>, <a href="http://bugs.mysql.com/41294" target="_top">Bug#41294</a>)</p></li><li><p>
        The server did not robustly handle problems hang if a table
        opened with <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> needed to be
        re-opened because it had been altered to use a different storage
        engine that does not support
        <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a>. The server also failed
        to set an error if the re-open attempt failed. These problems
        could cause the server to crash or hang.
       (<a href="http://bugs.mysql.com/41110" target="_top">Bug#41110</a>, <a href="http://bugs.mysql.com/41112" target="_top">Bug#41112</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements executed
        concurrently with <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statements for a <code class="literal">MyISAM</code> table could cause
        incorrect results to be returned from the query cache.
       (<a href="http://bugs.mysql.com/41098" target="_top">Bug#41098</a>)</p></li><li><p>
        For prepared statements, multibyte character sets were not
        taking into account when calculating
        <code class="literal">max_length</code> for string values and
        <a href="connectors-apis.html#mysql-stmt-fetch" title="20.10.7.11. mysql_stmt_fetch()"><code class="literal">mysql_stmt_fetch()</code></a> could return
        truncated strings.
       (<a href="http://bugs.mysql.com/41078" target="_top">Bug#41078</a>)</p></li><li><p>
        For user-defined variables in a query result, incorrect length
        values were returned in the result metadata.
       (<a href="http://bugs.mysql.com/41030" target="_top">Bug#41030</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> to restore a
        database through a named pipe resulted in corrupt data.
       (<a href="http://bugs.mysql.com/40975" target="_top">Bug#40975</a>)</p></li><li><p>
        Performing <code class="literal">SELECT</code> operations on
        <code class="literal">Falcon</code> tables using the maximum <code class="literal">BIG
        INT</code> value would fail to return matching rows.
       (<a href="http://bugs.mysql.com/40950" target="_top">Bug#40950</a>)</p></li><li><p>
        For some queries, an equality propagation problem could cause
        <code class="literal">a = b</code> and <code class="literal">b = a</code> to be
        handled differently.
       (<a href="http://bugs.mysql.com/40925" target="_top">Bug#40925</a>)</p></li><li><p>
        With strict SQL mode enabled, setting a system variable to an
        out-of-bounds value caused an assertion failure.
       (<a href="http://bugs.mysql.com/40657" target="_top">Bug#40657</a>)</p></li><li><p>
        Table temporary scans were slower than necessary due to use of
        mmap rather than caching, even with the
        <a href="server-administration.html#sysvar_myisam_use_mmap"><code class="literal">myisam_use_mmap</code></a> system variable
        disabled.
       (<a href="http://bugs.mysql.com/40634" target="_top">Bug#40634</a>)</p></li><li><p>
        Indexes on <code class="literal">Falcon</code> tables using numeric
        columns could return incorrect information.
       (<a href="http://bugs.mysql.com/40607" target="_top">Bug#40607</a>, <a href="http://bugs.mysql.com/41582" target="_top">Bug#41582</a>, <a href="http://bugs.mysql.com/40950" target="_top">Bug#40950</a>)</p></li><li><p>
        The <code class="literal">load_defaults()</code>,
        <code class="literal">my_search_option_files()</code> and
        <code class="literal">my_print_default_files()</code> functions in the C
        client library were subject to a race condition in
        multi-threaded operation.
       (<a href="http://bugs.mysql.com/40552" target="_top">Bug#40552</a>)</p></li><li><p>
        For a view that references a table in another database,
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> wrote the view name qualified with
        the current database name. This makes it impossible to reload
        the dump file into a different database.
       (<a href="http://bugs.mysql.com/40345" target="_top">Bug#40345</a>)</p></li><li><p>
        On platforms where long and pointer variables have different
        sizes, <code class="literal">MyISAM</code> could copy key statistics
        incorrectly, resulting in a server crash or incorrect
        cardinality values.
       (<a href="http://bugs.mysql.com/40321" target="_top">Bug#40321</a>)</p></li><li><p>
        <code class="literal">Falcon</code> could cause an assertion when the
        system has run out of memory and tries to report the memory
        allocation failure.
       (<a href="http://bugs.mysql.com/40155" target="_top">Bug#40155</a>)</p></li><li><p>
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> tried to acquire write
        (not read) locks for tables accessed within a subquery of the
        <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/39843" target="_top">Bug#39843</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> did not remove the
        <code class="literal">online_backup</code> and
        <code class="literal">online_backup_progress</code> tables from the
        <code class="literal">mysql</code> database. (These are what the
        <code class="literal">backup_history</code> and
        <code class="literal">backup_progress</code> tables were called
        previously.)
       (<a href="http://bugs.mysql.com/39655" target="_top">Bug#39655</a>)</p></li><li><p>
        With row-based binary logging, replication of
        <code class="literal">InnoDB</code> tables containing
        <code class="literal">NULL</code>-valued
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns could fail.
       (<a href="http://bugs.mysql.com/39648" target="_top">Bug#39648</a>)</p></li><li><p>
        When using <code class="literal">Falcon</code> and the system runs out of
        all memory and swap space, <code class="literal">mysqld</code> could hang
        while attempting to write an error message.
       (<a href="http://bugs.mysql.com/39552" target="_top">Bug#39552</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-stmt-close" title="20.10.7.6. mysql_stmt_close()"><code class="literal">mysql_stmt_close()</code></a> C API
        function did not flush all pending data associated with the
        prepared statement.
       (<a href="http://bugs.mysql.com/39519" target="_top">Bug#39519</a>)</p></li><li><p>
        Updating <code class="literal">Falcon</code> tables after an online
        <code class="literal">ALTER ADD COLUMN</code> operation could fail.
       (<a href="http://bugs.mysql.com/39445" target="_top">Bug#39445</a>)</p></li><li><p>
        Following <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE ... DISCARD TABLESPACE</code></a> for an
        <code class="literal">InnoDB</code> table, an attempt to determine the
        free space for the table before the <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> operation had completely finished could cause a
        server crash.
       (<a href="http://bugs.mysql.com/39438" target="_top">Bug#39438</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> did not produce correct output for
        error codes 153 to 163.
       (<a href="http://bugs.mysql.com/39370" target="_top">Bug#39370</a>)</p></li><li><p>
        If <a href="programs.html#option_mysqld_safe_basedir"><code class="option">--basedir</code></a> was specified,
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> did not use it when attempting to
        locate <a href="programs.html#my-print-defaults" title="4.7.3. my_print_defaults — Display Options from Option Files"><span><strong class="command">my_print_defaults</strong></span></a>.
       (<a href="http://bugs.mysql.com/39326" target="_top">Bug#39326</a>)</p></li><li><p>
        Several functions in <code class="literal">libmysqld</code> called
        <code class="literal">exit()</code> when an error occurred rather than
        returning an error to the caller.
       (<a href="http://bugs.mysql.com/39289" target="_top">Bug#39289</a>)</p></li><li><p>
        Performing an online <code class="literal">ALTER TABLE</code> statement
        against a <code class="literal">Falcon</code> table, the Falcon serial log
        could grow beyond the maximum permitted size for a serial log,
        ignoring both the rotation and truncation.
       (<a href="http://bugs.mysql.com/39130" target="_top">Bug#39130</a>)</p></li><li><p>
        Previously, the <code class="literal">num_objects</code> column in the
        <code class="literal">backup_history</code> table showed only the number
        of tables in the backup image. It now shows the number of
        objects with names (tablespaces, databases, tables, views,
        stored programs).
       (<a href="http://bugs.mysql.com/39109" target="_top">Bug#39109</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> treated the
        database list in case-sensitive fashion, even on
        case-insensitive file systems.
       (<a href="http://bugs.mysql.com/39063" target="_top">Bug#39063</a>)</p></li><li><p>
        The <a href="server-administration.html#priv_alter-routine"><code class="literal">ALTER ROUTINE</code></a> privilege
        incorrectly allowed <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a>.
       (<a href="http://bugs.mysql.com/38347" target="_top">Bug#38347</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> crashed if there
        was no default database.
       (<a href="http://bugs.mysql.com/38294" target="_top">Bug#38294</a>)</p></li><li><p>
        Setting a savepoint with the same name as an existing savepoint
        incorrectly deleted any other savepoints that had been set in
        the meantime. For example, setting savepoints named
        <code class="literal">a</code>, <code class="literal">b</code>,
        <code class="literal">c</code>, <code class="literal">b</code> resulted in
        savepoints <code class="literal">a</code>, <code class="literal">b</code>, rather
        than the correct savepoints <code class="literal">a</code>,
        <code class="literal">c</code>, <code class="literal">b</code>.
       (<a href="http://bugs.mysql.com/38187" target="_top">Bug#38187</a>)</p></li><li><p>
        Locking of <code class="filename">myisam.log</code> did not work
        correctly on Windows.
       (<a href="http://bugs.mysql.com/38133" target="_top">Bug#38133</a>, <a href="http://bugs.mysql.com/41224" target="_top">Bug#41224</a>)</p></li><li><p>
        <a href="programs.html#option_myisamchk_help"><code class="option">--help</code></a> output for
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> did not list the
        <a href="programs.html#option_myisamchk_HELP"><code class="option">--HELP</code></a> option.
       (<a href="http://bugs.mysql.com/38103" target="_top">Bug#38103</a>)</p></li><li><p>
        Setting the session value of the
        <a href="server-administration.html#sysvar_debug"><code class="literal">debug</code></a> system variable also set
        the global value.
       (<a href="http://bugs.mysql.com/38054" target="_top">Bug#38054</a>)</p></li><li><p>
        Comparisons between row constructors, such as <code class="literal">(a, b) =
        (c, d)</code> resulted in unnecessary <code class="literal">Illegal mix of
        collations</code> errors for string columns.
       (<a href="http://bugs.mysql.com/37601" target="_top">Bug#37601</a>)</p></li><li><p>
        A workload consisting of
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> and DML operations could cause deadlock.
       (<a href="http://bugs.mysql.com/37433" target="_top">Bug#37433</a>)</p></li><li><p>
        If a user created a view that referenced tables for which the
        user had disjoint privileges, an assertion failure occurred.
       (<a href="http://bugs.mysql.com/37191" target="_top">Bug#37191</a>)</p></li><li><p>
        Trying to recover <code class="literal">Falcon</code> tables after a crash
        when the corresponding tables and tablespaces have not been
        created before the crash could cause a recovery failure.
       (<a href="http://bugs.mysql.com/36993" target="_top">Bug#36993</a>)</p></li><li><p>
        When MySQL was configured with the
        <code class="option">--with-max-indexes=128</code> option,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> crashed.
       (<a href="http://bugs.mysql.com/36751" target="_top">Bug#36751</a>)</p></li><li><p>
        The <code class="literal">event</code>, <code class="literal">general_log</code>,
        and <code class="literal">slow_log</code> tables in the
        <code class="literal">mysql</code> database store
        <a href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> values, but did not
        use an <code class="literal">UNSIGNED</code> column and thus were not able
        to store the full range of ID values.
       (<a href="http://bugs.mysql.com/36540" target="_top">Bug#36540</a>)</p></li><li><p>
        Setting the <a href="server-administration.html#sysvar_join_buffer_size"><code class="literal">join_buffer_size</code></a>
        variable to its minimum value produced spurious warnings.
       (<a href="http://bugs.mysql.com/36446" target="_top">Bug#36446</a>)</p></li><li><p>
        The audit plugin was not receiving
        <code class="literal">MYSQL_AUDIT_GENERAL_ERROR</code> events.
       (<a href="http://bugs.mysql.com/36098" target="_top">Bug#36098</a>)</p></li><li><p>
        The use of <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> can
        result in a problem for
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> statements when the source column expressions
        refer to local variables. Converting these references to
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> expressions can
        result in column names that are different on the master and
        slave servers, or names that are too long to be legal column
        identifiers. A workaround is to supply aliases for columns that
        refer to local variables.
      </p><p>
        Now a warning is issued in such cases that indicate possible
        problems.
       (<a href="http://bugs.mysql.com/35383" target="_top">Bug#35383</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-event" title="12.5.6.9. SHOW CREATE EVENT Syntax"><code class="literal">SHOW CREATE EVENT</code></a> output did not
        include the <code class="literal">DEFINER</code> clause.
       (<a href="http://bugs.mysql.com/35297" target="_top">Bug#35297</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would crash in a concurrent workload
        with <code class="literal">INSERT</code>/<code class="literal">CREATE
        TABLE</code>/<code class="literal">DROP TABLE</code> or
        <code class="literal">INSERT</code>/<code class="literal">ALTER TABLE</code>
        combinations on <code class="literal">Falcon</code> tables.
       (<a href="http://bugs.mysql.com/35255" target="_top">Bug#35255</a>)</p></li><li><p>
        It was not possible to interrupt a long running
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> or
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation.
       (<a href="http://bugs.mysql.com/35079" target="_top">Bug#35079</a>)</p></li><li><p>
        Several deprecated or obsolete settings were removed from the
        sample option files.
       (<a href="http://bugs.mysql.com/34521" target="_top">Bug#34521</a>)</p></li><li><p>
        Searching for <code class="literal">0x00</code> in
        <code class="literal">Falcon</code> tables using the
        <code class="literal">VARBINARY</code> column type would fail to return
        the correct rows. In addition, a crash could be encountered when
        modifying a column to the <code class="literal">VARBINARY</code> type.
       (<a href="http://bugs.mysql.com/34478" target="_top">Bug#34478</a>, <a href="http://bugs.mysql.com/33190" target="_top">Bug#33190</a>, <a href="http://bugs.mysql.com/23692" target="_top">Bug#23692</a>)</p></li><li><p>
        A subquery using <code class="literal">SELECT ... FOR UPDATE</code> on a
        <code class="literal">Falcon</code> table fails to lock table correctly
        during the <code class="literal">UPDATE</code>.
       (<a href="http://bugs.mysql.com/34182" target="_top">Bug#34182</a>)</p></li><li><p>
        With <code class="literal">Falcon</code> tables running concurrent
        transactions, some transactions may not be rolled back
        correctly, leading to an infinite loop.
       (<a href="http://bugs.mysql.com/34174" target="_top">Bug#34174</a>)</p></li><li><p>
        <a href="sql-syntax.html#install-plugin" title="12.5.4.3. INSTALL PLUGIN Syntax"><code class="literal">INSTALL PLUGIN</code></a> and
        <a href="sql-syntax.html#uninstall-plugin" title="12.5.4.4. UNINSTALL PLUGIN Syntax"><code class="literal">UNINSTALL PLUGIN</code></a> did not handle
        plugin identifiers consistently with respect to lettercase.
       (<a href="http://bugs.mysql.com/33731" target="_top">Bug#33731</a>)</p></li><li><p>
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> often would not correctly
        identify the tablespace into which a <code class="literal">Falcon</code>
        table should be restored.
       (<a href="http://bugs.mysql.com/33569" target="_top">Bug#33569</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump --compatible=mysql40</strong></span></a> emitted
        statements referring to the
        <a href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> system
        variable, which is unknown before MySQL 4.1. Now the statements
        are enclosed in version-specific comments.
       (<a href="http://bugs.mysql.com/33550" target="_top">Bug#33550</a>)</p></li><li><p>
        If <code class="literal">Falcon</code> runs out of memory while inserting
        records and you try to alter the affected table, you may get a
        <code class="literal">record memory is exhausted</code> error, and the
        table can no longer be used or accessed.
       (<a href="http://bugs.mysql.com/33177" target="_top">Bug#33177</a>)</p></li><li><p>
        The DDL blocker for <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> and <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        did not block all statements that it should. The blocker is now
        called the Backup Metadata Lock and blocks statements that
        change database metadata.
       (<a href="http://bugs.mysql.com/32702" target="_top">Bug#32702</a>)</p></li><li><p>
        Detection by <span><strong class="command">configure</strong></span> of several functions
        such as <code class="literal">setsockopt()</code>,
        <code class="literal">bind()</code>, <code class="literal">sched_yield()</code>, and
        <code class="literal">gtty()</code> could fail.
       (<a href="http://bugs.mysql.com/31506" target="_top">Bug#31506</a>)</p></li><li><p>
        Use of MBR spatial functions such as
        <a href="functions.html#function_mbrtouches"><code class="literal">MBRTouches()</code></a> with columns of
        <code class="literal">InnoDB</code> tables caused a server crash rather
        than an error.
       (<a href="http://bugs.mysql.com/31435" target="_top">Bug#31435</a>)</p></li><li><p>
        When an <code class="literal">InnoDB</code> tablespace filled up, an error
        was logged to the client, but not to the error log. Also, the
        error message was misleading and did not indicate the real
        source of the problem.
       (<a href="http://bugs.mysql.com/31183" target="_top">Bug#31183</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client mishandled input parsing if
        a <code class="literal">delimiter</code> command was not first on the
        line.
       (<a href="http://bugs.mysql.com/31060" target="_top">Bug#31060</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-privileges" title="12.5.6.27. SHOW PRIVILEGES Syntax"><code class="literal">SHOW PRIVILEGES</code></a> listed the
        <a href="server-administration.html#priv_create-routine"><code class="literal">CREATE ROUTINE</code></a> privilege as
        having a context of <code class="literal">Functions,Procedures</code>, but
        it is a database-level privilege.
       (<a href="http://bugs.mysql.com/30305" target="_top">Bug#30305</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>,
        <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>,
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>, and
        <a href="sql-syntax.html#optimize-table" title="12.5.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> erroneously
        reported a table to be corrupt if the table did not exist or the
        statement was terminated with
        <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL</code></a>.
       (<a href="http://bugs.mysql.com/29458" target="_top">Bug#29458</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables that have their own
        <code class="filename">.ibd</code> tablespace file, a superfluous
        <code class="literal">ibuf cursor restoration fails!</code> message could
        be written to the error log. This warning has been suppressed.
       (<a href="http://bugs.mysql.com/27276" target="_top">Bug#27276</a>)</p></li><li><p>
        Internal
        <code class="literal">base64_<em class="replaceable"><code>xxx</code></em>()</code>
        functions were renamed to have a prefix of
        <code class="literal">my_</code> to avoid conflicts with other libraries.
       (<a href="http://bugs.mysql.com/26818" target="_top">Bug#26818</a>)</p></li><li><p>
        The <code class="literal">Time</code> column for <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> output and the value of the
        <code class="literal">TIME</code> column of the
        <a href="information-schema.html#processlist-table" title="19.23. The INFORMATION_SCHEMA PROCESSLIST Table"><code class="literal">INFORMATION_SCHEMA.PROCESSLIST</code></a>
        table now can have negative values. Previously, the column was
        unsigned and negative values were displayed incorrectly as large
        positive values. Negative values can occur if a thread alters
        the time into the future with
        <a href="sql-syntax.html#set-option" title="12.5.5. SET Syntax"><code class="literal">SET TIMESTAMP =
        <em class="replaceable"><code>value</code></em></code></a> or the thread is
        executing on a slave and processing events from a master that
        has its clock set ahead of the slave.
       (<a href="http://bugs.mysql.com/22047" target="_top">Bug#22047</a>)</p></li><li><p>
        Restoring a <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> dump file containing
        <code class="literal">FEDERATED</code> tables failed because the file
        contained the data for the table. Now only the table definition
        is dumped (because the data is located elsewhere).
       (<a href="http://bugs.mysql.com/21360" target="_top">Bug#21360</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-database" title="12.5.6.8. SHOW CREATE DATABASE Syntax"><code class="literal">SHOW CREATE DATABASE</code></a> did not
        account for the value of the
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> system
        variable.
       (<a href="http://bugs.mysql.com/21317" target="_top">Bug#21317</a>)</p></li><li><p>
        Incorrect length metadata could be returned for <code class="literal">LONG
        TEXT</code> columns when a multibyte server character set was
        used.
       (<a href="http://bugs.mysql.com/19829" target="_top">Bug#19829</a>)</p></li><li><p>
        <a href="functions.html#function_round"><code class="literal">ROUND()</code></a> sometimes returned
        different results on different platforms.
       (<a href="http://bugs.mysql.com/15936" target="_top">Bug#15936</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-10"></a>C.1.3. Changes in MySQL 6.0.10 (03 March 2009)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#reset-master" title="12.6.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a> and
        <a href="sql-syntax.html#reset-slave" title="12.6.2.3. RESET SLAVE Syntax"><code class="literal">RESET SLAVE</code></a> now reset the values
        shown for <code class="literal">Last_IO_Error</code>,
        <code class="literal">Last_IO_Errno</code>,
        <code class="literal">Last_SQL_Error</code>, and
        <code class="literal">Last_SQL_Errno</code> in the output of
        <a href="sql-syntax.html#show-slave-status" title="12.5.6.34. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a>.
       (<a href="http://bugs.mysql.com/34654" target="_top">Bug#34654</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A new global server variable
        <a href="replication.html#sysvar_sync_relay_log"><code class="literal">sync_relay_log</code></a> is introduced
        for use on replication slaves. Setting this variable to a
        nonzero integer value <em class="replaceable"><code>N</code></em> causes the
        slave to synchonize the relay log to disk after every
        <em class="replaceable"><code>N</code></em> events. Setting its value to 0
        allows the operation system to handle syncronization of the
        file. The action of this variable, when enabled, is analogous to
        how the <a href="replication.html#sysvar_sync_binlog"><code class="literal">sync_binlog</code></a> variable
        works with regard to binary logs on a replication master.
      </p><p>
        This variable can also be set in <code class="filename">my.cnf</code>, or
        by using the server option
        <a href="replication.html#sysvar_sync_relay_log"><code class="option">--sync-relay-log</code></a>.
      </p><p>
        For more information, see
        <a href="replication.html#replication-options-slave" title="16.1.3.3. Replication Slave Options and Variables">Section 16.1.3.3, “Replication Slave Options and Variables”</a>.
       (<a href="http://bugs.mysql.com/31665" target="_top">Bug#31665</a>, <a href="http://bugs.mysql.com/35542" target="_top">Bug#35542</a>, <a href="http://bugs.mysql.com/40337" target="_top">Bug#40337</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        In circular replication, it was sometimes possible for an event
        to propagate such that it would be reapplied on all servers.
        This could occur when the originating server was removed from
        the replication circle and so could no longer act as the
        terminator of its own events, as normally happens in circular
        replication.
      </p><p>
        In order to prevent this from occurring, a new
        <code class="literal">IGNORE_SERVER_IDS</code> option is introduced for
        the <code class="literal">CHANGE MASTER TO</code> statement. This option
        takes a list of replication server IDs; events having a server
        ID which appears in this list are ignored and not applied. For
        more information, see <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax">Section 12.6.2.1, “<code class="literal">CHANGE MASTER TO</code> Syntax”</a>.
       (<a href="http://bugs.mysql.com/25998" target="_top">Bug#25998</a>)</p><p>See also <a href="http://bugs.mysql.com/27808" target="_top">Bug#27808</a>.</p></li><li><p>
        The <code class="literal">libedit</code> library was upgraded to version
        2.11.
       (<a href="http://bugs.mysql.com/42433" target="_top">Bug#42433</a>)</p></li><li><p>
        A new status variable,
        <a href="server-administration.html#statvar_Queries"><code class="literal">Queries</code></a>, indicates the number
        of statements executed by the server. This includes statements
        executed within stored programs, unlike the
        <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> variable which
        includes only statements sent to the server by clients.
       (<a href="http://bugs.mysql.com/41131" target="_top">Bug#41131</a>)</p></li><li><p>
        Columns that provide a catalog value in
        <code class="literal">INFORMATION_SCHEMA</code> tables (for example,
        <code class="literal">TABLES.TABLE_CATALOG</code>) now have a value of
        <code class="literal">def</code> rather than <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/35427" target="_top">Bug#35427</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> now supports
        <code class="option">--client-bindir</code> and
        <code class="option">--client-libdir</code> options for specifying the
        directory where client binaries and libraries are located.
       (<a href="http://bugs.mysql.com/34995" target="_top">Bug#34995</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using an XPath expression employing a scalar expression as a
        <a href="http://www.w3.org/TR/xpath#NT-FilterExpr" target="_top">FilterExpr</a>
        with <a href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a> or
        <a href="functions.html#function_updatexml"><code class="literal">UpdateXML()</code></a> caused the server to
        crash. Such expressions now cause an error instead.
       (<a href="http://bugs.mysql.com/42495" target="_top">Bug#42495</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The fix for <a href="http://bugs.mysql.com/33699" target="_top">Bug#33699</a> introduced a change to the
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement such that
        assigning <code class="literal">NULL</code> to a <code class="literal">NOT
        NULL</code> column caused an error even when strict SQL mode
        was not enabled. The original behavior before was that such
        assignments caused an error only in strict SQL mode, and
        otherwise set the column to the the implicit default value for
        the column data type and generated a warning. (For information
        about implicit default values, see
        <a href="data-types.html#data-type-defaults" title="10.1.4. Data Type Default Values">Section 10.1.4, “Data Type Default Values”</a>.)
      </p><p>
        The change caused compatibility problems for applications that
        relied on the original behavior. It also caused replication
        problems between servers that had the original behavior and
        those that did not, for applications that assigned
        <code class="literal">NULL</code> to <code class="literal">NOT NULL</code> columns
        in <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements without
        strict SQL mode enabled. This change has been reverted so that
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> again had the original
        behavior. Problems can still occur if you replicate between
        servers that have the modified
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> behavior and those that do
        not.
       (<a href="http://bugs.mysql.com/39265" target="_top">Bug#39265</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <code class="literal">Falcon</code> supported case-sensitive tablespace
        names. The code has been changed so that all tablespace names
        are converted to uppercase names during creation. Because of
        this change:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            It is not possible to drop existing tablespace created by
            previous versions, if it's name wasn't in upper case.
          </p></li><li><p>
            It is not possible to create tables using tablespace created
            by previous versions, if tablespace name wasn't in upper
            case.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/35257" target="_top">Bug#35257</a>, <a href="http://bugs.mysql.com/33719" target="_top">Bug#33719</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        If a trigger was defined on an
        <code class="literal">InnoDB</code> table and this trigger
        updated a non-transactional table, changes performed on the
        <code class="literal">InnoDB</code> table were replicated and
        were visible on the slave before they were committed on the
        master, and were not rolled back on the slave after a successful
        rollback of those changes on the master.
      </p><p>
        As a result of the fix for this issue, the semantics of mixing
        non-transactional and transactional tables in a transaction in
        the first statement of a transaction have changed. Previously,
        if the first statement in a transaction contained
        non-transactional changes, the statement was written directly to
        the binary log. Now, any statement appearing after a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> (or
        immediately following a <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> if
        <code class="literal">AUTOCOMMIT</code> = 0) is always considered part of
        the transaction and cached. This means that non-transactional
        changes do not propagate to the slave until the transaction is
        committed and thus written to the binary log.
      </p><p>
        See <a href="replication.html#replication-features-transactions" title="16.3.1.25. Replication and Transactions">Section 16.3.1.25, “Replication and Transactions”</a>, for
        more information about this change in behavior.
       (<a href="http://bugs.mysql.com/40116" target="_top">Bug#40116</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">MyISAM</code> transactions replicated to a
        transactional slave left the slave in an unstable condition.
        This was due to the fact that, when replicating from a
        non-transactional storage engine to a transactional engine with
        <code class="literal">AUTOCOMMIT</code> turned off, no
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> and
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> statements were written to
        the binary log; thus, on the slave, a never-ending transaction
        was started.
      </p><p>
        The fix for this issue includes enforcing
        <code class="literal">AUTOCOMMIT</code> mode on the slave by replicating
        all <code class="literal">AUTOCOMMIT=1</code> statements from the master.
       (<a href="http://bugs.mysql.com/29288" target="_top">Bug#29288</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        A comparison with an invalid <code class="literal">DATE</code> value in a
        query against a partitioned table could lead to a crash of the
        MySQL server.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Invalid <code class="literal">DATE</code> and
          <code class="literal">DATETIME</code> values referenced in the
          <code class="literal">WHERE</code> clause of a query on a partitioned
          table are treated as <code class="literal">NULL</code>. See
          <a href="partitioning.html#partitioning-pruning" title="17.4. Partition Pruning">Section 17.4, “Partition Pruning”</a>, for more information.
        </p></div><p>(<a href="http://bugs.mysql.com/40972" target="_top">Bug#40972</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        A query that timed out when run against a partitioned table
        failed silently, without providing any warnings or errors,
        rather than returning <span class="errortext">Lock wait timeout
        exceeded</span>.
       (<a href="http://bugs.mysql.com/40515" target="_top">Bug#40515</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">ALTER TABLE ... REORGANIZE PARTITION</code> could
        crash the server when the number of partitions was not changed.
       (<a href="http://bugs.mysql.com/40389" target="_top">Bug#40389</a>)</p><p>See also <a href="http://bugs.mysql.com/41945" target="_top">Bug#41945</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">ALTER TABLE ... ADD PARTITION</code> and
        <code class="literal">ALTER TABLE ... DROP PARTITION</code> could cause
        the MySQL server to crash. This was only known to occur on
        Windows platforms where MySQL had been built with the
        <code class="option">EXTRA_DEBUG</code> option.
       (<a href="http://bugs.mysql.com/38784" target="_top">Bug#38784</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">SHOW TABLE STATUS</code> could show a nonzero value
        for the <code class="literal">Mean record length</code> of a partitioned
        <code class="literal">InnoDB</code> table, even if the table
        contained no rows.
       (<a href="http://bugs.mysql.com/36312" target="_top">Bug#36312</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Several error messages relating to partitioned tables were
        incorrect or missing.
       (<a href="http://bugs.mysql.com/36001" target="_top">Bug#36001</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Unnecessary calls were made in the server code for performing
        bulk inserts on partitions for which no inserts needed to be
        made.
       (<a href="http://bugs.mysql.com/35845" target="_top">Bug#35845</a>)</p><p>See also <a href="http://bugs.mysql.com/35843" target="_top">Bug#35843</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        For partitioned tables with more than ten partitions, a full
        table scan was used in some cases when only a subset of the
        partitions were needed.
       (<a href="http://bugs.mysql.com/33730" target="_top">Bug#33730</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        On Windows, <a href="sql-syntax.html#reset-master" title="12.6.1.2. RESET MASTER Syntax"><code class="literal">RESET MASTER</code></a> failed
        in the event of a missing binlog file rather than issuing a
        warning and completing the rest of the statement.
       (<a href="http://bugs.mysql.com/42150" target="_top">Bug#42150</a>, <a href="http://bugs.mysql.com/42288" target="_top">Bug#42288</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Per-table <code class="literal">AUTO_INCREMENT</code> option values were
        not replicated correctly for <code class="literal">InnoDB</code>
        tables.
       (<a href="http://bugs.mysql.com/41986" target="_top">Bug#41986</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Some <code class="literal">log_event</code> types did not skip the
        post-header when reading.
       (<a href="http://bugs.mysql.com/41961" target="_top">Bug#41961</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Attempting to read a binary log containing an
        <code class="literal">Incident_log_event</code> having an invalid incident
        number could cause the debug server to crash.
       (<a href="http://bugs.mysql.com/40482" target="_top">Bug#40482</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE
        MASTER TO ... SET MASTER_HEARTBEAT_PERIOD ...</code></a> failed,
        no error code was set.
       (<a href="http://bugs.mysql.com/40459" target="_top">Bug#40459</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using row-based replication, an update of a primary key
        that was rolled back on the master due to a duplicate key error
        was not rolled back on the slave.
       (<a href="http://bugs.mysql.com/40221" target="_top">Bug#40221</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When rotating relay log files, the slave deletes relay log files
        and then edits the relay log index file. Formerly, if the slave
        shut down unexpectedly between these two events, the relay log
        index file could then reference relay logs that no longer
        existed. Depending on the circumstances, this could when
        restarting the slave cause either a race condition or the
        failure of replication.
       (<a href="http://bugs.mysql.com/38826" target="_top">Bug#38826</a>, <a href="http://bugs.mysql.com/39325" target="_top">Bug#39325</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#start-slave" title="12.6.2.5. START SLAVE Syntax"><code class="literal">START SLAVE
        UNTIL</code></a> did not work correctly with
        <a href="replication.html#option_mysqld_replicate-same-server-id"><code class="option">--replicate-same-server-id</code></a>
        enabled; when started with this option, the slave did not
        perform events recorded in the relay log and that originated
        from a different master.
      </p><p>
        Log rotation events are automatically generated and written when
        rotating the binary log or relay log. Such events for relay logs
        are usually ignored by the slave SQL thread because they have
        the same server ID as that of the slave. However, when
        <a href="replication.html#option_mysqld_replicate-same-server-id"><code class="option">--replicate-same-server-id</code></a> was
        enabled, the rotation event for the relay log was treated as if
        it originated on the master, because the log's name and
        position were incorrectly updated. This caused the
        <a href="functions.html#function_master-pos-wait"><code class="literal">MASTER_POS_WAIT()</code></a> function always
        to return <code class="literal">NULL</code> and thus to fail.
       (<a href="http://bugs.mysql.com/38734" target="_top">Bug#38734</a>, <a href="http://bugs.mysql.com/38934" target="_top">Bug#38934</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A slave compiled using
        <a href="installing.html#option_configure_with-libevent"><code class="option">--with-libevent</code></a> and run with
        <a href="server-administration.html#sysvar_thread_handling"><code class="option">--thread-handling=pool-of-threads</code></a>
        could sometimes crash.
       (<a href="http://bugs.mysql.com/36929" target="_top">Bug#36929</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> statements failed to
        replicate when statement-based binary logging mode was not
        available. The issue was observed when using
        <code class="literal">InnoDB</code> with the transaction
        isolation level set to <code class="literal">READ UNCOMMITTED</code> (thus
        forcing <code class="literal">InnoDB</code> not to allow
        statement-based logging). However, the same behavior could be
        reproduced using any transactional storage engine supporting
        only row-based logging, regardless of the isolation level. This
        was due to two separate problems:
      </p><div class="orderedlist"><ol type="1"><li><p>
            An error was printed by <code class="literal">InnoDB</code>
            for <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> when using
            statement-based logging mode where the transaction isolation
            level was set to <code class="literal">READ COMMITTED</code> or
            <code class="literal">READ UNCOMMITTED</code>, because
            <code class="literal">InnoDB</code> permits statement-based
            replication for DML statements. However,
            <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> is not
            transactional; since it is the equivalent of
            <code class="literal">DROP TABLE</code> followed by
            <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>, it is actually
            DDL, and should therefore be allowed to be replicated as a
            statement.
          </p></li><li><p>
            <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> was not logged in
            mixed mode because of the error just described; however,
            this error was not reported to the client.
          </p></li></ol></div><p>
        As a result of this fix, <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a>
        is now treated as DDL for purposes of binary logging and
        replication; that is, it is always logged as a statement and so
        no longer causes an error when replicated using a transactional
        storage engine such as <code class="literal">InnoDB</code>.
       (<a href="http://bugs.mysql.com/36763" target="_top">Bug#36763</a>)</p><p>See also <a href="http://bugs.mysql.com/42643" target="_top">Bug#42643</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> replay of
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TEMPORARY
        TABLE ... LIKE</code></a> statements and of
        <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> statements used on
        temporary tables failed with Error 1146 (<span class="errortext">Table ...
        doesn't exist</span>).
       (<a href="http://bugs.mysql.com/35583" target="_top">Bug#35583</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> sometimes failed when trying to
        create temporary files; this was because it ignored the
        specified temp file directory and tried to use the system
        <code class="filename">/tmp</code> directory instead.
       (<a href="http://bugs.mysql.com/35546" target="_top">Bug#35546</a>)</p><p>See also <a href="http://bugs.mysql.com/35543" target="_top">Bug#35543</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        In statement mode, <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> failed to
        issue a <code class="literal">SET @@autommit</code> statement when the
        autocommit mode was changed.
       (<a href="http://bugs.mysql.com/34541" target="_top">Bug#34541</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> statements did not replicate correctly from a
        master running MySQL 4.1 to a slave running MySQL 5.1 or later.
       (<a href="http://bugs.mysql.com/31240" target="_top">Bug#31240</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The statements
        <a href="sql-syntax.html#drop-procedure" title="12.1.21. DROP PROCEDURE and
      DROP FUNCTION Syntax"><code class="literal">DROP PROCEDURE
        IF EXISTS</code></a> and
        <a href="sql-syntax.html#drop-function" title="12.1.19. DROP FUNCTION Syntax"><code class="literal">DROP FUNCTION IF
        EXISTS</code></a> were not written to the binary log if the
        procedure or function to be dropped did not exist.
       (<a href="http://bugs.mysql.com/13684" target="_top">Bug#13684</a>)</p><p>See also <a href="http://bugs.mysql.com/25705" target="_top">Bug#25705</a>.</p></li><li><p>
        The optimizer could underestimate the memory required for column
        descriptors during join processing and cause memory corruption
        or a server crash.
       (<a href="http://bugs.mysql.com/42744" target="_top">Bug#42744</a>)</p></li><li><p>
        A <code class="literal">'%'</code> character in SQL statements could cause
        the server to crash.
       (<a href="http://bugs.mysql.com/42634" target="_top">Bug#42634</a>)</p></li><li><p>
        For the batched-key access method, numbers of records were being
        specified rather than numbers of ranges.
       (<a href="http://bugs.mysql.com/42593" target="_top">Bug#42593</a>)</p></li><li><p>
        Certain queries could result in Valgrind warnings in the
        optimizer.
       (<a href="http://bugs.mysql.com/42534" target="_top">Bug#42534</a>)</p></li><li><p>
        An optimization introduced for <a href="http://bugs.mysql.com/37553" target="_top">Bug#37553</a> required an explicit
        cast to be added for some uses of
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> because automatic
        casting could produce incorrect results. (It was necessary to
        use <a href="functions.html#function_time"><code class="literal">TIME(TIMEDIFF(...))</code></a>.)
       (<a href="http://bugs.mysql.com/42525" target="_top">Bug#42525</a>)</p></li><li><p>
        On the IBM i5 platform, the MySQL configuration process caused
        the system version of <code class="literal">pthread_setschedprio()</code>
        to be used. This function returns <code class="literal">SIGILL</code> on
        i5 because it is not supported, causing the server to crash. Now
        the <code class="literal">my_pthread_setprio()</code> function in the
        <code class="literal">mysys</code> library is used instead.
       (<a href="http://bugs.mysql.com/42524" target="_top">Bug#42524</a>)</p></li><li><p>
        Performing a <code class="literal">BACKUP</code> and
        <code class="literal">RESTORE</code> on a <code class="literal">Maria</code> table
        while an existing workload is in progress could lead to a
        corrupted table and possible crash.
       (<a href="http://bugs.mysql.com/42519" target="_top">Bug#42519</a>)</p></li><li><p>
        The default <code class="literal">Falcon</code> memory parameters have
        been updated, which should help to improve performance. The new
        settings for all the memory parameters are as follows:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">falcon_record_memory_max</code> is now 250 MB
          </p></li><li><p>
            <code class="literal">falcon_page_cache_size</code> is now 250 MB
          </p></li><li><p>
            <code class="literal">falcon_record_scavenge_threshold</code> is 90%
            (of record memory max)
          </p></li><li><p>
            <code class="literal">falcon_record_scavenge_floor</code> is 80% (of
            scavenge threshold)
          </p></li><li><p>
            <code class="literal">falcon_record_chill_threshold</code> is 5 MB
          </p></li><li><p>
            <code class="literal">falcon_index_chill_threshold</code> is now 4MB
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/42510" target="_top">Bug#42510</a>, <a href="http://bugs.mysql.com/36442" target="_top">Bug#36442</a>)</p></li><li><p>
        When running <code class="literal">Falcon</code> during a very high
        concurrency workload, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could fail.
       (<a href="http://bugs.mysql.com/42475" target="_top">Bug#42475</a>)</p></li><li><p>
        <code class="literal">Falcon</code> would fail to create a table in a
        <code class="literal">TABLESPACE</code> that had not already been opened
        by a previous operation.
       (<a href="http://bugs.mysql.com/42414" target="_top">Bug#42414</a>, <a href="http://bugs.mysql.com/42743" target="_top">Bug#42743</a>)</p></li><li><p>
        The recovery of <code class="literal">Falcon</code> tablespaces could fail
        because the tablespace information had become corrupt.
       (<a href="http://bugs.mysql.com/42392" target="_top">Bug#42392</a>)</p></li><li><p>
        The SSL certficates included with MySQL distributions were
        regenerated because the previous ones had expired.
       (<a href="http://bugs.mysql.com/42366" target="_top">Bug#42366</a>)</p></li><li><p>
        A deadlocked <code class="literal">Maria</code> table would incorrectly be
        marked as crashed.
       (<a href="http://bugs.mysql.com/42201" target="_top">Bug#42201</a>)</p></li><li><p>
        <code class="literal">INSERT</code> operations to a
        <code class="literal">Falcon</code> table involving <code class="literal">BIT</code>
        columns with an index would fail to find the correct rows to
        update.
       (<a href="http://bugs.mysql.com/42196" target="_top">Bug#42196</a>)</p></li><li><p>
        User variables within triggers could cause a crash if the
        <a href="connectors-apis.html#mysql-change-user" title="20.10.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function was invoked.
       (<a href="http://bugs.mysql.com/42188" target="_top">Bug#42188</a>)</p></li><li><p>
        Parsing of the optional microsecond component of
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values did not fail
        gracefully when that component width was larger than the allowed
        six places.
       (<a href="http://bugs.mysql.com/42146" target="_top">Bug#42146</a>)</p></li><li><p>
        For <code class="literal">Falcon</code> tables, range queries using an
        index prefix were slow when Multi-Range Read index scans were
        disabled.
       (<a href="http://bugs.mysql.com/42136" target="_top">Bug#42136</a>, <a href="http://bugs.mysql.com/41890" target="_top">Bug#41890</a>)</p></li><li><p>
        The <code class="literal">ALTER ONLINE TABLE</code> statement for
        <code class="literal">Falcon</code> tables would not include support for
        add a primary key.
       (<a href="http://bugs.mysql.com/42099" target="_top">Bug#42099</a>)</p></li><li><p>
        Sequences and auto increment values in <code class="literal">Falcon</code>
        tables would not reset, even when a <code class="literal">TRUNCATE
        TABLE</code> operation was executed. The behavior has now
        been updated to reset the values to the original table
        definition when <code class="literal">TRUNCATE TABLE</code> is applied.
       (<a href="http://bugs.mysql.com/42079" target="_top">Bug#42079</a>)</p></li><li><p>
        Dependent subqueries such as the following caused a memory leak
        proportional to the number of outer rows:
      </p><pre class="programlisting">SELECT COUNT(*) FROM t1, t2 WHERE t2.b
  IN (SELECT DISTINCT t2.b FROM t2 WHERE t2.b = t1.a);
</pre><p>(<a href="http://bugs.mysql.com/42037" target="_top">Bug#42037</a>)</p></li><li><p>
        Queries executed using a join buffer could return incorrect
        results.
       (<a href="http://bugs.mysql.com/42020" target="_top">Bug#42020</a>)</p></li><li><p>
        Some queries using <a href="functions.html#function_name-const"><code class="literal">NAME_CONST(.. COLLATE
        ...)</code></a> led to a server crash due to a failed type cast.
       (<a href="http://bugs.mysql.com/42014" target="_top">Bug#42014</a>)</p></li><li><p>
        The MAP file was not included in Windows distribution, but is
        needed by the <code class="literal">InnoDB</code> plugin. MAP file
        generation has again been enabled.
       (<a href="http://bugs.mysql.com/42001" target="_top">Bug#42001</a>)</p></li><li><p>
        The optimizer underestimated the number of field descriptors for
        the join buffer in some cases.
       (<a href="http://bugs.mysql.com/41919" target="_top">Bug#41919</a>)</p></li><li><p>
        Internal misconfiguration of the hash table used for the join
        buffer could cause a server crash.
       (<a href="http://bugs.mysql.com/41894" target="_top">Bug#41894</a>)</p></li><li><p>
        String reallocation could cause memory overruns.
       (<a href="http://bugs.mysql.com/41868" target="_top">Bug#41868</a>)</p></li><li><p>
        Queries executed using semi-join materialization could cause a
        crash if the outer query has a <code class="literal">HAVING</code> clause.
       (<a href="http://bugs.mysql.com/41842" target="_top">Bug#41842</a>)</p></li><li><p>
        Running concurrent non-transactional queries on a
        <code class="literal">Falcon</code> table could cause a crash.
       (<a href="http://bugs.mysql.com/41835" target="_top">Bug#41835</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> did not pass some relevant
        options to <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>.
       (<a href="http://bugs.mysql.com/41828" target="_top">Bug#41828</a>)</p></li><li><p>
        A Valgrind warning in <code class="literal">open_tables()</code> was
        corrected.
       (<a href="http://bugs.mysql.com/41759" target="_top">Bug#41759</a>)</p></li><li><p>
        A Valgrind warning in <code class="literal">setup_wild()</code> was
        corrected.
       (<a href="http://bugs.mysql.com/41729" target="_top">Bug#41729</a>)</p></li><li><p>
        For <code class="literal">Falcon</code> tables, concurrent execution of a
        statement which in the general case should acquire a
        <code class="literal">TL_READ_NO_INSERT</code> lock on the table (for
        example multiple-table update, DML with subqueries, or
        statements involving new foreign key checks) and a statement
        that modifies the table might lead to warnings in the error log
        or even to deadlocks.
       (<a href="http://bugs.mysql.com/41688" target="_top">Bug#41688</a>, <a href="http://bugs.mysql.com/42069" target="_top">Bug#42069</a>)</p></li><li><p>
        Setting
        <a href="storage-engines.html#sysvar_innodb_locks_unsafe_for_binlog"><code class="literal">innodb_locks_unsafe_for_binlog</code></a>
        should be equivalent to setting the transaction isolation level
        to <a href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a>. However,
        if both of those things were done, non-matching
        semi-consistently read rows were not unlocked when they should
        have been.
       (<a href="http://bugs.mysql.com/41671" target="_top">Bug#41671</a>)</p></li><li><p>
        <a href="programs.html#resolve-stack-dump" title="4.7.4. resolve_stack_dump — Resolve Numeric Stack Trace Dump to Symbols"><span><strong class="command">resolve_stack_dump</strong></span></a> was unable to resolve the
        stack trace format produced by <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> in
        MySQL 5.1 and up (see <a href="extending-mysql.html#using-stack-trace" title="21.5.1.5. Using a Stack Trace">Section 21.5.1.5, “Using a Stack Trace”</a>).
       (<a href="http://bugs.mysql.com/41612" target="_top">Bug#41612</a>)</p></li><li><p>
        In example option files provided in MySQL distributions, the
        <a href="server-administration.html#sysvar_thread_stack"><code class="literal">thread_stack</code></a> value was
        increased from 64K to 128K.
       (<a href="http://bugs.mysql.com/41577" target="_top">Bug#41577</a>)</p></li><li><p>
        <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> crashed for
        compressed <code class="literal">MyISAM</code> tables.
       (<a href="http://bugs.mysql.com/41574" target="_top">Bug#41574</a>)</p></li><li><p>
        The <code class="literal">ALTER TABLESPACE</code> statement would fail on
        <code class="literal">Falcon</code> tablespaces because of incorrect
        assumption about <code class="literal">TABLESPACE</code> support for the
        <code class="literal">Falcon</code> engine.
       (<a href="http://bugs.mysql.com/41548" target="_top">Bug#41548</a>)</p></li><li><p>
        When opening a <code class="literal">Falcon</code>
        <code class="literal">TABLESPACE</code>, the server could crash if the
        tablespace header could not be read correctly, including if the
        tablespace had become corrupt or deleted. Now an error will be
        thrown and reported to the error log.
       (<a href="http://bugs.mysql.com/41545" target="_top">Bug#41545</a>)</p></li><li><p>
        The optimizer could ignore an error and rollback request during
        a filesort, causing an assertion failure.
       (<a href="http://bugs.mysql.com/41543" target="_top">Bug#41543</a>)</p></li><li><p>
        Recovery of <code class="literal">Maria</code> tables with
        <code class="literal">BLOB</code> columns could fail to complete
        correctly.
       (<a href="http://bugs.mysql.com/41493" target="_top">Bug#41493</a>)</p></li><li><p>
        <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> could cause a
        server crash for year-zero dates.
       (<a href="http://bugs.mysql.com/41470" target="_top">Bug#41470</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> and
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> did not reset the message
        list displayed by <a href="sql-syntax.html#show-warnings" title="12.5.6.40. SHOW WARNINGS Syntax"><code class="literal">SHOW WARNINGS</code></a>.
       (<a href="http://bugs.mysql.com/41468" target="_top">Bug#41468</a>, <a href="http://bugs.mysql.com/41359" target="_top">Bug#41359</a>)</p></li><li><p>
        <a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> caused a server
        crash if the account name was given as
        <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a>.
       (<a href="http://bugs.mysql.com/41456" target="_top">Bug#41456</a>)</p></li><li><p>
        When substituting system constant functions with a constant
        result, the server was not expecting <code class="literal">NULL</code>
        function return values and could crash.
       (<a href="http://bugs.mysql.com/41437" target="_top">Bug#41437</a>)</p></li><li><p>
        The <code class="filename">mysql-test/include/UnicodeData.txt</code>
        file, if present, was not included in MySQL distributions.
       (<a href="http://bugs.mysql.com/41436" target="_top">Bug#41436</a>)</p></li><li><p>
        When using <code class="literal">TRUNCATE</code> on a
        <code class="literal">Falcon</code> table, the sequence value for auto
        increment columns would not be reset correctly.
       (<a href="http://bugs.mysql.com/41411" target="_top">Bug#41411</a>)</p></li><li><p>
        For a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP NOT
        NULL DEFAULT ...</code></a> column, storing
        <code class="literal">NULL</code> as the return value from some functions
        caused a “<span class="quote">cannot be NULL</span>” error.
        <code class="literal">NULL</code> returns now correctly cause the column
        default value to be stored.
       (<a href="http://bugs.mysql.com/41370" target="_top">Bug#41370</a>)</p></li><li><p>
        Queries such as <code class="literal">SELECT ... CASE AVG(...) WHEN
        ...</code> that used aggregate functions in a
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expression crashed the server.
       (<a href="http://bugs.mysql.com/41363" target="_top">Bug#41363</a>)</p></li><li><p>
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT INTO .. SELECT
        ... FROM</code></a> and
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT ... FROM</code></a> a TEMPORARY table could inadvertently
        change the locking type of the temporary table from a write lock
        to a read lock, causing statement failure.
       (<a href="http://bugs.mysql.com/41348" target="_top">Bug#41348</a>)</p></li><li><p>
        Recovery of <code class="literal">Falcon</code> tables after a crash if
        <code class="literal">falcon_page_size</code> had been set to 32K and
        <code class="literal">BLOB</code> columns were used in the
        <code class="literal">Falcon</code> tables.
       (<a href="http://bugs.mysql.com/41227" target="_top">Bug#41227</a>)</p></li><li><p>
        On Windows, the server could not be started with the
        <a href="server-administration.html#sysvar_thread_handling"><code class="option">--thread-handling=pool-of-threads</code></a>
        option.
       (<a href="http://bugs.mysql.com/41218" target="_top">Bug#41218</a>)</p></li><li><p>
        Transactions in <code class="literal">Falcon</code> tables could be
        recorded incorrectly, leading other waiting transactions to
        complete even though the original transaction information had
        not been successfully made durable.
       (<a href="http://bugs.mysql.com/41194" target="_top">Bug#41194</a>)</p></li><li><p>
        For a query that is executed using a range access method over an
        index that matches the ordering and there is an <code class="literal">ORDER
        BY</code> clause, <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a>
        showed <code class="literal">Using MRR</code> even though Multi-Range Read
        access was not used.
       (<a href="http://bugs.mysql.com/41136" target="_top">Bug#41136</a>)</p></li><li><p>
        The server cannot execute
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT DELAYED</code></a>
        statements when statement-based binary logging is enabled, but
        the error message displayed only the table name, not the entire
        statement.
       (<a href="http://bugs.mysql.com/41121" target="_top">Bug#41121</a>)</p></li><li><p>
        <code class="literal">FULLTEXT</code> indexes did not work for Unicode
        columns that used a custom UCA collation.
       (<a href="http://bugs.mysql.com/41084" target="_top">Bug#41084</a>)</p></li><li><p>
        The
        <a href="information-schema.html#schema-privileges-table" title="19.6. The INFORMATION_SCHEMA SCHEMA_PRIVILEGES Table"><code class="literal">INFORMATION_SCHEMA.SCHEMA_PRIVILEGES</code></a>
        table was limited to 7680 rows.
       (<a href="http://bugs.mysql.com/41079" target="_top">Bug#41079</a>)</p></li><li><p>
        In debug builds, obsolete debug code could be used to crash the
        server.
       (<a href="http://bugs.mysql.com/41041" target="_top">Bug#41041</a>)</p></li><li><p>
        When a storage engine plugin failed to initialize before
        allocating a slot number, it would acidentally unplug the engine
        in slot 0.
       (<a href="http://bugs.mysql.com/41013" target="_top">Bug#41013</a>)</p></li><li><p>
        Some queries that used a “<span class="quote">range checked for each
        record</span>” scan could return incorrect results.
       (<a href="http://bugs.mysql.com/40974" target="_top">Bug#40974</a>)</p></li><li><p>
        For <code class="literal">BACKUP DATABASE</code>, errors from the commit
        blocker were not logged.
       (<a href="http://bugs.mysql.com/40970" target="_top">Bug#40970</a>)</p></li><li><p>
        Certain <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> queries could fail
        with a <code class="literal">Duplicate entry</code> error.
       (<a href="http://bugs.mysql.com/40953" target="_top">Bug#40953</a>)</p></li><li><p>
        For debug servers, <a href="sql-syntax.html#optimize-table" title="12.5.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>
        on a compressed table caused a server crash.
       (<a href="http://bugs.mysql.com/40949" target="_top">Bug#40949</a>)</p></li><li><p>
        The Windows installer displayed incorrect product names in some
        images.
       (<a href="http://bugs.mysql.com/40845" target="_top">Bug#40845</a>)</p></li><li><p>
        The CSV engine did not parse '\X' characters when they
        occurred in unquoted fields.
       (<a href="http://bugs.mysql.com/40814" target="_top">Bug#40814</a>)</p></li><li><p>
        Comparison of empty strings for the
        <code class="literal">latin2_czech_cs</code> character set could hang.
       (<a href="http://bugs.mysql.com/40805" target="_top">Bug#40805</a>)</p></li><li><p>
        The <code class="literal">Falcon</code> storage engine has been updated to
        incorporate new code for the built-in scavenger service, which
        handles the caching of records in memory. This fixes a number of
        different issues related to the visibility of different records
        during certain operations and improves the memory usage. The
        same fix also corrects the behavior where the space allocated
        for <code class="literal">BLOB</code> records would not be recovered
        correctly, causing the size of the <code class="literal">Falcon</code>
        table space files to increase with each <code class="literal">BLOB</code>
        <code class="literal">INSERT</code> or <code class="literal">UPDATE</code>
        operation.
       (<a href="http://bugs.mysql.com/40801" target="_top">Bug#40801</a>, <a href="http://bugs.mysql.com/34893" target="_top">Bug#34893</a>, <a href="http://bugs.mysql.com/36700" target="_top">Bug#36700</a>, <a href="http://bugs.mysql.com/40342" target="_top">Bug#40342</a>, <a href="http://bugs.mysql.com/41831" target="_top">Bug#41831</a>, <a href="http://bugs.mysql.com/41870" target="_top">Bug#41870</a>)</p></li><li><p>
        <code class="literal">IF(..., CAST(<em class="replaceable"><code>longtext_val</code></em> AS
        UNSIGNED), <em class="replaceable"><code>signed_val</code></em>)</code> as
        an argument to an aggregate function could cause an assertion
        failure.
       (<a href="http://bugs.mysql.com/40761" target="_top">Bug#40761</a>)</p></li><li><p>
        Changing
        <a href="storage-engines.html#sysvar_innodb_thread_concurrency"><code class="literal">innodb_thread_concurrency</code></a> at
        runtime could cause errors.
       (<a href="http://bugs.mysql.com/40760" target="_top">Bug#40760</a>)</p></li><li><p>
        On Windows, starting the server with an invalid value for
        <a href="storage-engines.html#sysvar_innodb_flush_method"><code class="literal">innodb_flush_method</code></a> caused a
        crash.
       (<a href="http://bugs.mysql.com/40757" target="_top">Bug#40757</a>)</p></li><li><p>
        When archive tables were joined on their primary keys, a query
        returned no result if the optimizer chose to use this index.
       (<a href="http://bugs.mysql.com/40677" target="_top">Bug#40677</a>)</p></li><li><p>
        MySQL 5.1 crashed with index merge algorithm and merge tables.
      </p><p>
        A query in the MyISAM merge table caused a crash if the index
        merge algorithm was being used.
       (<a href="http://bugs.mysql.com/40675" target="_top">Bug#40675</a>)</p></li><li><p>
        <code class="literal">SELECT</code> statements could be blocked by
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT DELAYED</code></a>
        statements that were waiting for a lock, even with
        <a href="server-administration.html#sysvar_low_priority_updates"><code class="literal">low_priority_updates</code></a> enabled.
       (<a href="http://bugs.mysql.com/40536" target="_top">Bug#40536</a>)</p></li><li><p>
        If a <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation was in
        progress on a master server, slaves were not prohibited from
        starting replication of the master.
       (<a href="http://bugs.mysql.com/40434" target="_top">Bug#40434</a>)</p></li><li><p>
        <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for an <code class="literal">InnoDB</code> table did not
        flush cached queries for the table.
       (<a href="http://bugs.mysql.com/40386" target="_top">Bug#40386</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables that used
        <code class="literal">ROW_FORMAT=REDUNDANT</code>, storage size of
        <code class="literal">NULL</code> columns could be determined incorrectly.
       (<a href="http://bugs.mysql.com/40369" target="_top">Bug#40369</a>)</p></li><li><p>
        When building <code class="literal">Falcon</code> as a plugin, the plugin
        would be installed into the wrong directory and would fail to be
        located when trying to install the plugin.
       (<a href="http://bugs.mysql.com/40336" target="_top">Bug#40336</a>)</p></li><li><p>
        “<span class="quote">Backup completed</span>” was logged for non-successful
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> operations.
        “<span class="quote">Restore completed</span>” was logged for non-successful
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operations.
       (<a href="http://bugs.mysql.com/40305" target="_top">Bug#40305</a>)</p></li><li><p>
        The internal dependency mechanism for handling records and
        transactions within <code class="literal">Falcon</code> has been updated.
        This fixes a number of issues with transactions and concurrent
        workloads within <code class="literal">Falcon</code> tables.
       (<a href="http://bugs.mysql.com/40274" target="_top">Bug#40274</a>, <a href="http://bugs.mysql.com/36410" target="_top">Bug#36410</a>)</p></li><li><p>
        The query cache stored only partial query results if a statement
        failed while the results were being sent to the client. This
        could cause other clients to hang when trying to read the cached
        result. Now if a statement fails, the result is not cached.
       (<a href="http://bugs.mysql.com/40264" target="_top">Bug#40264</a>)</p></li><li><p>
        The <code class="literal">':'</code> character was incorrectly disallowed
        in table names.
       (<a href="http://bugs.mysql.com/40104" target="_top">Bug#40104</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table,
        <a href="sql-syntax.html#drop-table" title="12.1.23. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> or
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE ...
        DISCARD TABLESPACE</code></a> could take a long time or cause a
        server crash.
       (<a href="http://bugs.mysql.com/39939" target="_top">Bug#39939</a>)</p></li><li><p>
        Threads were set to the <code class="literal">Table lock</code> state in
        such a way that use of this state by other threads to check for
        a lock wait was subject to a race condition.
       (<a href="http://bugs.mysql.com/39897" target="_top">Bug#39897</a>)</p></li><li><p>
        When a <code class="literal">MEMORY</code> table became full,
        the error generated was returned to the client but was not
        written to the error log.
       (<a href="http://bugs.mysql.com/39886" target="_top">Bug#39886</a>)</p></li><li><p>
        For a server started with the
        <a href="server-administration.html#option_mysqld_temp-pool"><code class="option">--temp-pool</code></a> option on Windows,
        temporary file creation could fail. This option now is ignored
        except on Linux systems, which was its original intended scope.
       (<a href="http://bugs.mysql.com/39750" target="_top">Bug#39750</a>)</p></li><li><p>
        The implementation of the
        <a href="server-administration.html#sysvar_backup_wait_timeout"><code class="literal">backup_wait_timeout</code></a> system
        variable was machine dependent and did not work correctly on
        big-endian machines.
       (<a href="http://bugs.mysql.com/39749" target="_top">Bug#39749</a>, <a href="http://bugs.mysql.com/40808" target="_top">Bug#40808</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> on a table with
        <code class="literal">FULLTEXT</code> index that used a pluggable
        <code class="literal">FULLTEXT</code> parser could cause debug servers to
        crash.
       (<a href="http://bugs.mysql.com/39746" target="_top">Bug#39746</a>)</p></li><li><p>
        When performing concurrent <code class="literal">DROP INDEX</code> and
        <code class="literal">INSERT</code> or <code class="literal">UPDATE</code>
        operations on a <code class="literal">Falcon</code> table, an assertion
        could occur when recovering from a crashed instance.
       (<a href="http://bugs.mysql.com/39678" target="_top">Bug#39678</a>)</p></li><li><p>
        The server crashed if an integer field in a CSV file did not
        have delimiting quotes.
       (<a href="http://bugs.mysql.com/39616" target="_top">Bug#39616</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could hang trying to open an adaptive
        hash index.
       (<a href="http://bugs.mysql.com/39483" target="_top">Bug#39483</a>)</p></li><li><p>
        Queries with that end with <code class="literal">... WHERE
        <em class="replaceable"><code>condition</code></em> ORDER BY
        <em class="replaceable"><code>index_columns</code></em> LIMIT
        <em class="replaceable"><code>N</code></em></code> could produce rows that
        did not match the <code class="literal">WHERE</code> clause for certain
        kinds of conditions and table data distributions.
       (<a href="http://bugs.mysql.com/39447" target="_top">Bug#39447</a>)</p></li><li><p>
        The internal buffering logic for <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> had a problem that could lead to corrupt
        backup images.
       (<a href="http://bugs.mysql.com/39375" target="_top">Bug#39375</a>)</p></li><li><p>
        A bad pointer dereference caused <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> to crash.
       (<a href="http://bugs.mysql.com/39361" target="_top">Bug#39361</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA</code> access optimizations did
        not work properly in some cases.
       (<a href="http://bugs.mysql.com/39270" target="_top">Bug#39270</a>)</p></li><li><p>
        Cardinality for merge tables kept approaching zero in
        <code class="literal">myrg_attach_children()</code> because
        <code class="literal">m_info-&gt;rec_per_key_part</code> was initialized
        to 0 only when the function was first called.
       (<a href="http://bugs.mysql.com/39185" target="_top">Bug#39185</a>)</p></li><li><p>
        The expression <code class="literal">ROW(...) IN (SELECT ... FROM
        DUAL)</code> always returned <code class="literal">TRUE</code>.
       (<a href="http://bugs.mysql.com/39069" target="_top">Bug#39069</a>)</p></li><li><p>
        When the <code class="literal">Falcon</code> storage engine encountered an
        I/O error, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would crash. Errors now
        raise an exception, which is reported to the error log and
        <code class="literal">Falcon</code> will fail to initialize.
       (<a href="http://bugs.mysql.com/38970" target="_top">Bug#38970</a>, <a href="http://bugs.mysql.com/41545" target="_top">Bug#41545</a>)</p></li><li><p>
        <code class="literal">SELECT * FROM INFORMATION_SCHEMA.ROUTINES</code>
        could fail if there was no default database.
       (<a href="http://bugs.mysql.com/38916" target="_top">Bug#38916</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could fail to generate
        <code class="literal">AUTO_INCREMENT</code> values after an
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement for the table.
       (<a href="http://bugs.mysql.com/38839" target="_top">Bug#38839</a>)</p></li><li><p>
        The greedy optimizer could cause a server crash due to improper
        handling of nested outer joins.
       (<a href="http://bugs.mysql.com/38795" target="_top">Bug#38795</a>)</p></li><li><p>
        Use of <a href="functions.html#function_count"><code class="literal">COUNT(DISTINCT)</code></a> prevented
        <code class="literal">NULL</code> testing in the <code class="literal">HAVING</code>
        clause.
       (<a href="http://bugs.mysql.com/38637" target="_top">Bug#38637</a>)</p></li><li><p>
        Building MySQL on FreeBSD would result in a failure during the
        <span><strong class="command">gen_lex_hash</strong></span> phase of the build.
       (<a href="http://bugs.mysql.com/38364" target="_top">Bug#38364</a>)</p></li><li><p>
        A mix of <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> with <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a>
        and <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">UNLOCK
        TABLES</code></a> for an <code class="literal">InnoDB</code> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/38231" target="_top">Bug#38231</a>)</p></li><li><p>
        The <code class="literal">ExtractValue()</code> function did not work
        correctly with XML documents containing a
        <code class="literal">DOCTYPE</code> declaration.
       (<a href="http://bugs.mysql.com/38227" target="_top">Bug#38227</a>)</p></li><li><p>
        The <a href="storage-engines.html#sysvar_innodb_stats_on_metadata"><code class="literal">innodb_stats_on_metadata</code></a>
        system variable was not displayed by <a href="sql-syntax.html#show-variables" title="12.5.6.39. SHOW VARIABLES Syntax"><code class="literal">SHOW
        VARIABLES</code></a> and was not settable at runtime.
       (<a href="http://bugs.mysql.com/38189" target="_top">Bug#38189</a>)</p></li><li><p>
        Enabling the <a href="server-administration.html#sysvar_sync_frm"><code class="literal">sync_frm</code></a> system
        variable had no effect on the handling of
        <code class="filename">.frm</code> files for views.
       (<a href="http://bugs.mysql.com/38145" target="_top">Bug#38145</a>)</p></li><li><p>
        Use of spatial data types in prepared statements could cause
        memory leaks or server crashes.
       (<a href="http://bugs.mysql.com/37956" target="_top">Bug#37956</a>, <a href="http://bugs.mysql.com/37671" target="_top">Bug#37671</a>)</p></li><li><p>
        An error in a debugging check caused crashes in debug servers.
       (<a href="http://bugs.mysql.com/37936" target="_top">Bug#37936</a>)</p></li><li><p>
        An initialization procedure for materialized subquery execution
        was not called due to an early optimization of
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a>/<a href="functions.html#function_max"><code class="literal">MAX()</code></a>
        queries.
       (<a href="http://bugs.mysql.com/37896" target="_top">Bug#37896</a>)</p></li><li><p>
        The presence of a <code class="literal">/* ... */</code> comment preceding
        a query could cause <code class="literal">InnoDB</code> to use unnecessary
        gap locks.
       (<a href="http://bugs.mysql.com/37885" target="_top">Bug#37885</a>)</p></li><li><p>
        An assertion failure could occur when trying to execute a query
        with a subquery such that one of the subquery's tables was
        accessed using the DS-MRR access method.
       (<a href="http://bugs.mysql.com/37842" target="_top">Bug#37842</a>)</p></li><li><p>
        For comparison of <code class="literal">NULL</code> to a subquery result
        inside <code class="literal">IS NULL</code>, the comparison could evaluate
        to <code class="literal">NULL</code> rather than to
        <code class="literal">TRUE</code> or <code class="literal">FALSE</code>. This
        occurred for expressions such as:
      </p><pre class="programlisting">SELECT ... WHERE NULL IN (SELECT ...) IS NULL
</pre><p>(<a href="http://bugs.mysql.com/37822" target="_top">Bug#37822</a>)</p></li><li><p>
        Setting <a href="server-administration.html#sysvar_myisam_repair_threads"><code class="literal">myisam_repair_threads</code></a>
        greater than 1 caused a server crash for table repair or
        alteration operations for <code class="literal">MyISAM</code>
        tables with multiple <code class="literal">FULLTEXT</code> indexes.
       (<a href="http://bugs.mysql.com/37756" target="_top">Bug#37756</a>)</p></li><li><p>
        Primary keys were treated as part of a covering index even if
        only a prefix of a key column was used.
       (<a href="http://bugs.mysql.com/37742" target="_top">Bug#37742</a>)</p></li><li><p>
        The <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> and
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> functions returned a
        binary string, so that using
        <a href="functions.html#function_lower"><code class="literal">LOWER()</code></a> or
        <a href="functions.html#function_upper"><code class="literal">UPPER()</code></a> had no effect. Now
        <a href="functions.html#function_monthname"><code class="literal">MONTHNAME()</code></a> and
        <a href="functions.html#function_dayname"><code class="literal">DAYNAME()</code></a> return a value in
        <a href="server-administration.html#sysvar_character_set_connection"><code class="literal">character_set_connection</code></a>
        character set.
       (<a href="http://bugs.mysql.com/37575" target="_top">Bug#37575</a>)</p></li><li><p>
        The internal-use-only <code class="literal">filename</code> character set
        was visible in the output of some <code class="literal">SHOW</code>
        statements and in the contents of the
        <a href="information-schema.html#collation-character-set-applicability-table" title="19.11. The INFORMATION_SCHEMA
      COLLATION_CHARACTER_SET_APPLICABILITY Table"><code class="literal">COLLATION_CHARACTER_SET_APPLICABILITY</code></a>
        table of <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/37554" target="_top">Bug#37554</a>)</p></li><li><p>
        Storing <code class="literal">TIMESTAMP</code> values in
        <code class="literal">Falcon</code> tables on a machine supporting big
        endian storage (for example SPARC), the time stamp information
        returned would be incorrect.
       (<a href="http://bugs.mysql.com/37281" target="_top">Bug#37281</a>)</p></li><li><p>
        Certain boolean-mode <code class="literal">FULLTEXT</code> searches that
        used the truncation operator did not return matching records and
        calculated relevance incorrectly.
       (<a href="http://bugs.mysql.com/37245" target="_top">Bug#37245</a>)</p></li><li><p>
        When creating an index on a <code class="literal">Falcon</code> table with
        a very large dataset, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would crash.
       (<a href="http://bugs.mysql.com/37056" target="_top">Bug#37056</a>)</p></li><li><p>
        For an <code class="literal">InnoDB</code> table with a <code class="literal">FOREIGN
        KEY</code> constraint, <code class="literal">TRUNCATE TABLE</code> may
        be performed using row by row deletion. If an error occurred
        during this deletion, the table would be only partially emptied.
        Now if an error occurs, the truncation operation is rolled back
        and the table is left unchanged.
       (<a href="http://bugs.mysql.com/37016" target="_top">Bug#37016</a>)</p></li><li><p>
        Subquery materialization produced incorrect results when
        comparing different types.
       (<a href="http://bugs.mysql.com/36752" target="_top">Bug#36752</a>)</p></li><li><p>
        An argument to the <a href="functions.html#function_match"><code class="literal">MATCH()</code></a>
        function that was an alias for an expression other than a column
        name caused a server crash.
       (<a href="http://bugs.mysql.com/36737" target="_top">Bug#36737</a>)</p></li><li><p>
        Previously, statements inside a stored program did not clear the
        warning list. For example, warnings or errors generated by
        statements within a trigger or stored function would be
        accumulated and added to the message list for the statement that
        activated the trigger or invoked the function,
        “<span class="quote">polluting</span>” the output of <a href="sql-syntax.html#show-warnings" title="12.5.6.40. SHOW WARNINGS Syntax"><code class="literal">SHOW
        WARNINGS</code></a> or <a href="sql-syntax.html#show-errors" title="12.5.6.18. SHOW ERRORS Syntax"><code class="literal">SHOW ERRORS</code></a>
        for the outer statement. Normally, messages for a statement that
        can generate messages replace messages from the previous such
        statement. The effect was that a statement could have a
        different effect on the message list depending on whether it
        executed inside or outside of a stored program.
      </p><p>
        Now within a stored program, successive statements that can
        generate messages update the message list and replace messages
        from the previous such statement. Only messages from the last of
        these statements is copied to the message list for the outer
        statement.
       (<a href="http://bugs.mysql.com/36649" target="_top">Bug#36649</a>)</p></li><li><p>
        <a href="programs.html#myisampack" title="4.6.5. myisampack — Generate Compressed, Read-Only MyISAM Tables"><span><strong class="command">myisampack --join</strong></span></a> did not create the
        destination table <code class="filename">.frm</code> file.
       (<a href="http://bugs.mysql.com/36573" target="_top">Bug#36573</a>)</p></li><li><p>
        When parsing or formatting interval values of
        <code class="literal">DAY_MICROSECOND</code> type, fractional seconds were
        not handled correctly when more-significant fields were implied
        or omitted.
       (<a href="http://bugs.mysql.com/36466" target="_top">Bug#36466</a>)</p></li><li><p>
        <a href="programs.html#comp-err" title="4.4.1. comp_err — Compile MySQL Error Message File"><span><strong class="command">comp_err</strong></span></a> sometimes crashed due to improper
        mutex use.
       (<a href="http://bugs.mysql.com/36428" target="_top">Bug#36428</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client sometimes improperly
        interpreted string escape sequences in non-string contexts.
       (<a href="http://bugs.mysql.com/36391" target="_top">Bug#36391</a>)</p></li><li><p>
        The query cache stored packets containing the server status of
        the time when the cached statement was run. This might lead to
        an incorrect transaction status on the client side if a
        statement was cached during a transaction and later served
        outside a transaction context (or vice versa).
       (<a href="http://bugs.mysql.com/36326" target="_top">Bug#36326</a>)</p></li><li><p>
        Some error numbers were incorrect.
       (<a href="http://bugs.mysql.com/36062" target="_top">Bug#36062</a>)</p></li><li><p>
        For upgrades to MySQL 5.1 or higher,
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> did not re-encode database or
        table names that contained non-alphanumeric characters. (They
        would still appear after the upgrade with the
        <code class="literal">#mysql50#</code> prefix described in
        <a href="language-structure.html#identifier-mapping" title="8.2.3. Mapping of Identifiers to File Names">Section 8.2.3, “Mapping of Identifiers to File Names”</a>.) To correct this problem,
        it was necessary to run <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck --all-databases
        --check-upgrade --fix-db-names --fix-table-names</strong></span></a>
        manually. <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> now runs that command
        automatically after performing the initial upgrade.
       (<a href="http://bugs.mysql.com/35934" target="_top">Bug#35934</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> did not display
        a printable value for the default value of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns.
       (<a href="http://bugs.mysql.com/35796" target="_top">Bug#35796</a>)</p></li><li><p>
        The <code class="literal">max_length</code> metadata value was calculated
        incorrectly for the <a href="functions.html#function_format"><code class="literal">FORMAT()</code></a>
        function, which could cause incorrect result set metadata to be
        sent to clients.
       (<a href="http://bugs.mysql.com/35558" target="_top">Bug#35558</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could fail to generate
        <code class="literal">AUTO_INCREMENT</code> values if rows previously had
        been inserted containing literal values for the
        <code class="literal">AUTO_INCREMENT</code> column.
       (<a href="http://bugs.mysql.com/35498" target="_top">Bug#35498</a>, <a href="http://bugs.mysql.com/36411" target="_top">Bug#36411</a>, <a href="http://bugs.mysql.com/39830" target="_top">Bug#39830</a>)</p></li><li><p>
        Result set metadata for columns retrieved from
        <code class="literal">INFORMATION_SCHEMA</code> tables did not have the
        <code class="literal">db</code> or <code class="literal">org_table</code> members of
        the <code class="literal">MYSQL_FIELD</code> structure set.
       (<a href="http://bugs.mysql.com/35428" target="_top">Bug#35428</a>)</p></li><li><p>
        If the system time was adjusted backward during query execution,
        the apparent execution time could be negative. But in some cases
        these queries would be written to the slow query log, with the
        negative execution time written as a large unsigned number. Now
        statements with apparent negative execution time are not written
        to the slow query log.
       (<a href="http://bugs.mysql.com/35396" target="_top">Bug#35396</a>)</p></li><li><p>
        The <code class="literal">CREATE_OPTIONS</code> column for
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> did not
        display the <code class="literal">KEY_BLOCK_SIZE</code> option.
       (<a href="http://bugs.mysql.com/35275" target="_top">Bug#35275</a>)</p></li><li><p>
        On Windows, the <code class="literal">_PC</code> macro in
        <code class="filename">my_global.h</code> was causing problems for modern
        compilers. It has been removed because it is no longer used.
       (<a href="http://bugs.mysql.com/34309" target="_top">Bug#34309</a>)</p></li><li><p>
        For <a href="sql-syntax.html#drop-function" title="12.1.19. DROP FUNCTION Syntax"><code class="literal">DROP FUNCTION</code></a> with names that
        were qualified with a database name, the database name was
        handled in case-sensitive fashion even with
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> set to
        1.
       (<a href="http://bugs.mysql.com/33813" target="_top">Bug#33813</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client incorrectly parsed
        statements containing the word “<span class="quote">delimiter</span>” in
        mid-statement.
       (<a href="http://bugs.mysql.com/33812" target="_top">Bug#33812</a>)</p><p>See also <a href="http://bugs.mysql.com/38158" target="_top">Bug#38158</a>.</p></li><li><p>
        <code class="literal">Falcon</code> would allow you to explicitly create a
        table within the internal <code class="literal">FALCON_TEMPORARY</code>
        tablespace. You can no longer explicitly select the
        <code class="literal">FALCON_TEMPORARY</code> tablespace.
       (<a href="http://bugs.mysql.com/33720" target="_top">Bug#33720</a>)</p></li><li><p>
        It was possible to set <code class="literal">Falcon</code> memory
        parameters to values larger than the maximum memory supported by
        the supported by the host environment.
       (<a href="http://bugs.mysql.com/33583" target="_top">Bug#33583</a>)</p></li><li><p>
        The <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> command would not include the
        <code class="literal">TABLESPACE</code> information for
        <code class="literal">Falcon</code> tables within the dump information.
       (<a href="http://bugs.mysql.com/33148" target="_top">Bug#33148</a>)</p></li><li><p>
        Three conditions were discovered that could cause an upgrade
        from MySQL 5.0 to 5.1 to fail: 1) Triggers associated with a
        table that had a <code class="literal">#mysql50#</code> prefix in the name
        could cause assertion failure. 2)
        <a href="sql-syntax.html#alter-database" title="12.1.1. ALTER DATABASE Syntax"><code class="literal">ALTER DATABASE
        ... UPGRADE DATA DIRECTORY NAME</code></a> failed for databases
        that had a <code class="literal">#mysql50#</code> prefix if there were
        triggers in the database. 3) <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck
        --fix-table-name</strong></span></a> didn't use UTF8 as the default
        character set, resulting in parsing errors for tables with
        non-latin symbols in their names and trigger definitions.
       (<a href="http://bugs.mysql.com/33094" target="_top">Bug#33094</a>, <a href="http://bugs.mysql.com/41385" target="_top">Bug#41385</a>)</p></li><li><p>
        <code class="literal">libmysqld</code> was not built with all character
        sets.
       (<a href="http://bugs.mysql.com/32831" target="_top">Bug#32831</a>)</p></li><li><p>
        Queries with dependent subqueries were slow.
       (<a href="http://bugs.mysql.com/32665" target="_top">Bug#32665</a>)</p></li><li><p>
        <code class="literal">Falcon</code> would allow you to create a
        <code class="literal">Falcon</code> <code class="literal">TABLESPACE</code> with the
        same filename as existing datafiles (including datafiles of
        other engines). All <code class="literal">Falcon</code> tablespaces are
        now created with a <code class="literal">.fts</code> extension, regardless
        of the specified filename.
       (<a href="http://bugs.mysql.com/32398" target="_top">Bug#32398</a>)</p></li><li><p>
        For <a href="programs.html#mysqld-multi" title="4.3.4. mysqld_multi — Manage Multiple MySQL Servers"><span><strong class="command">mysqld_multi</strong></span></a>, using the
        <a href="programs.html#option_mysqld_multi_mysqld"><code class="option">--mysqld=mysqld_safe</code></a> option
        caused the <a href="programs.html#option_mysqld_multi_defaults-file"><code class="option">--defaults-file</code></a>
        and <a href="programs.html#option_mysqld_multi_defaults-extra-file"><code class="option">--defaults-extra-file</code></a>
        options to behave the same way.
       (<a href="http://bugs.mysql.com/32136" target="_top">Bug#32136</a>)</p></li><li><p>
        Attempts to open a valid MERGE table sometimes resulted in a
        <code class="literal">ER_WRONG_MRG_TABLE</code> error. This happened after
        failure to open an invalid MERGE table had also generated an
        <code class="literal">ER_WRONG_MRG_TABLE</code> error.
       (<a href="http://bugs.mysql.com/32047" target="_top">Bug#32047</a>)</p></li><li><p>
        Queries executed using join buffering of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> columns could produce
        incorrect results.
       (<a href="http://bugs.mysql.com/31399" target="_top">Bug#31399</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE CONVERT TO CHARACTER SET</code> did not
        convert <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">MEDIUMTEXT</code></a> columns to a longer
        text type if necessary when converting the column to a different
        character set.
       (<a href="http://bugs.mysql.com/31291" target="_top">Bug#31291</a>)</p></li><li><p>
        Server variables could not be set to their current values on
        Linux platforms. (These fixes are in addition to those made in
        MySQL 6.0.5 and 6.0.9.)
       (<a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>)</p><p>See also <a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a>.</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statements that added
        a column and added a non-partial index on the column failed to
        add the index.
       (<a href="http://bugs.mysql.com/31031" target="_top">Bug#31031</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld --help</strong></span></a> did not work as
        <code class="literal">root</code>.
       (<a href="http://bugs.mysql.com/30261" target="_top">Bug#30261</a>)</p></li><li><p>
        Static storage engines and plugins that were disabled and
        dynamic plugins that were installed but disabled were not listed
        in the <code class="literal">INFORMATION_SCHEMA</code> appropriate
        <a href="information-schema.html#plugins-table" title="19.17. The INFORMATION_SCHEMA PLUGINS Table"><code class="literal">PLUGINS</code></a> or
        <a href="information-schema.html#engines-table" title="19.18. The INFORMATION_SCHEMA ENGINES Table"><code class="literal">ENGINES</code></a> table.
       (<a href="http://bugs.mysql.com/29263" target="_top">Bug#29263</a>)</p></li><li><p>
        On Windows, Visual Studio does not take into account some x86
        hardware limitations, which led to incorrect results converting
        large <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> values to unsigned
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> values.
       (<a href="http://bugs.mysql.com/27483" target="_top">Bug#27483</a>)</p></li><li><p>
        If the default database was dropped, the value of
        <a href="server-administration.html#sysvar_character_set_database"><code class="literal">character_set_database</code></a> was not
        reset to <a href="server-administration.html#sysvar_character_set_server"><code class="literal">character_set_server</code></a>
        as it should have been.
       (<a href="http://bugs.mysql.com/27208" target="_top">Bug#27208</a>)</p></li><li><p>
        SSL support was not included in some “<span class="quote">generic</span>” RPM
        packages.
       (<a href="http://bugs.mysql.com/26760" target="_top">Bug#26760</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-table-status" title="12.5.6.36. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> could fail to
        produce output for tables with non-ASCII characters in their
        name.
       (<a href="http://bugs.mysql.com/25830" target="_top">Bug#25830</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-table" title="12.1.23. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> for
        <code class="literal">INFORMATION_SCHEMA</code> tables produced an
        <code class="literal">Unknown table</code> error rather than the more
        appropriate <code class="literal">Access denied</code>.
       (<a href="http://bugs.mysql.com/24062" target="_top">Bug#24062</a>)</p></li><li><p>
        Allocation of stack space for error messages could be too small
        on HP-UX, leading to stack overflow crashes.
       (<a href="http://bugs.mysql.com/21476" target="_top">Bug#21476</a>)</p></li><li><p>
        For the <a href="functions.html#operator_div"><code class="literal">DIV</code></a> operator, incorrect
        results could occur for non-integer operands that exceed
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> range. Now, if either
        operand has a non-integer type, the operands are converted to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> and divided using
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> arithmetic before
        converting the result to <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a>.
        If the result exceeds <code class="literal">BIGINT</code> range, an error
        occurs.
       (<a href="http://bugs.mysql.com/8457" target="_top">Bug#8457</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-9"></a>C.1.4. Changes in MySQL 6.0.9 (10 January 2009)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> and
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> now indicate in the
        server's error log which databases are being backed up or
        restored.
       (<a href="http://bugs.mysql.com/40307" target="_top">Bug#40307</a>)</p></li><li><p>
        Performance of <code class="literal">SELECT *</code> retrievals from
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> was
        improved slightly.
       (<a href="http://bugs.mysql.com/38918" target="_top">Bug#38918</a>)</p></li><li><p>
        Previously, index hints did not work for
        <code class="literal">FULLTEXT</code> searches. Now they work as follows:
      </p><p>
        For natural language mode searches, index hints are silently
        ignored. For example, <code class="literal">IGNORE INDEX(i)</code> is
        ignored with no warning and the index is still used.
      </p><p>
        For boolean mode searches, index hints with <code class="literal">FOR ORDER
        BY</code> or <code class="literal">FOR GROUP BY</code> are silently
        ignored. Index hints with <code class="literal">FOR JOIN</code> or no
        <code class="literal">FOR</code> modifier are honored. In contrast to how
        hints apply for non-<code class="literal">FULLTEXT</code> searches, the
        hint is used for all phases of query execution (finding rows and
        retrieval, grouping, and ordering). This is true even if the
        hint is given for a non-<code class="literal">FULLTEXT</code> index.
       (<a href="http://bugs.mysql.com/38842" target="_top">Bug#38842</a>)</p></li><li><p>
        MySQL support for adding collations using LDML specifications
        did not support the <code class="literal">&lt;i&gt;</code> identity rule
        that indicates one character sorts identically to another. The
        <code class="literal">&lt;i&gt;</code> rule now is supported.
       (<a href="http://bugs.mysql.com/37129" target="_top">Bug#37129</a>)</p></li><li><p>
        Previously, <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> overwrote any
        databases with information from the backup image. Now,
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> aborts with an error if
        the backup image contains any databases that currently exist on
        the server, unless the optional keyword
        <code class="literal">OVERWRITE</code> is given following the image file
        name.
       (<a href="http://bugs.mysql.com/34579" target="_top">Bug#34579</a>)</p></li><li><p>
        A new statement, <code class="literal">PURGE BACKUP LOGS</code>, enables
        the contents of the MySQL Backup logs to be culled. See
        <a href="sql-syntax.html#purge-backup-logs" title="12.5.3.2. PURGE BACKUP LOGS Syntax">Section 12.5.3.2, “<code class="literal">PURGE BACKUP LOGS</code> Syntax”</a>.
       (<a href="http://bugs.mysql.com/33364" target="_top">Bug#33364</a>)</p></li><li><p>
        A new algorithm that uses both index access to the joined table
        and a join buffer has been implemented. It is called the Batched
        Key Access (BKA) Join algorithm. The algorithm supports inner
        join, outer join and semi-join operations, including nested
        outer joins and nested semi-joins. Also, the Block Nested-Loop
        (BNL) Join algorithm previously used only for inner joins has
        been extended and can be employed for outer join and semi-join
        operations, including nested nested outer joins and nested
        semi-joins. For more information, see
        <a href="optimization.html#bnl-bka-optimization" title="7.2.15. Block Nested-Loop and Batched Key Access Joins">Section 7.2.15, “Block Nested-Loop and Batched Key Access Joins”</a>.
      </p><p>
        In conjunction with this work, there is a new system variable,
        <a href="server-administration.html#sysvar_join_cache_level"><code class="literal">join_cache_level</code></a>, that controls
        how join buffering is done.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        When the <code class="literal">DATA DIRECTORY</code> or <code class="literal">INDEX
        DIRECTORY</code> clause of a <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> statement referred to a subdirectory of the data
        directory via a symlinked component of the data directory path,
        it was accepted, when for security reasons it should be
        rejected.
       (<a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> did not check for collation changes made in
        MySQL 6.0.1 to <code class="literal">latin2_czech_cs</code> (<a href="http://bugs.mysql.com/25420" target="_top">Bug#25420</a>) or
        collation changes made in MySQL 6.0.6 to
        <code class="literal">big5_chinese_ci</code>,
        <code class="literal">cp866_general_ci</code>,
        <code class="literal">gb2312_chinese_ci</code>, and
        <code class="literal">gbk_chinese_ci</code>. This also affects
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> and
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>, which cause that statement to
        be executed. See <a href="installing.html#checking-index-changes" title="2.11.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/40054" target="_top">Bug#40054</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        Changing the transaction isolation level while replicating
        partitioned <code class="literal">InnoDB</code> tables could cause
        statement-based logging to fail.
       (<a href="http://bugs.mysql.com/39084" target="_top">Bug#39084</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        This bug was introduced in MySQL 6.0.5.
       (<a href="http://bugs.mysql.com/40954" target="_top">Bug#40954</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/30573" target="_top">Bug#30573</a>, <a href="http://bugs.mysql.com/33257" target="_top">Bug#33257</a>, <a href="http://bugs.mysql.com/33555" target="_top">Bug#33555</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        With <a href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a>
        transaction isolation level, <code class="literal">InnoDB</code>
        uses a semi-consistent read that releases non-matching rows
        after MySQL has evaluated the <code class="literal">WHERE</code> clause.
        However, this was not happening if the table used partitions.
       (<a href="http://bugs.mysql.com/40595" target="_top">Bug#40595</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        A <code class="literal">SELECT</code> using a range
        <code class="literal">WHERE</code> condition with an <code class="literal">ORDER
        BY</code> on a partitioned table caused a server crash.
       (<a href="http://bugs.mysql.com/40494" target="_top">Bug#40494</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        For a partitioned table having an
        <code class="literal">AUTO_INCREMENT</code> column: If the first statement
        following a start of the server or a <code class="literal">FLUSH
        TABLES</code> statement was an <code class="literal">UPDATE</code>
        statement, the <code class="literal">AUTO_INCREMENT</code> column was not
        incremented correctly.
       (<a href="http://bugs.mysql.com/40176" target="_top">Bug#40176</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        The server attempted to execute the statements <code class="literal">ALTER
        TABLE ... ANALYZE PARTITION</code>, <code class="literal">ALTER TABLE ...
        CHECK PARTITION</code>, <code class="literal">ALTER TABLE ... OPTIMIZE
        PARTITION</code>, and <code class="literal">ALTER TABLE ... REORGANIZE
        PARTITION</code> on tables that were not partitioned.
       (<a href="http://bugs.mysql.com/39434" target="_top">Bug#39434</a>)</p><p>See also <a href="http://bugs.mysql.com/20129" target="_top">Bug#20129</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        The value of the <code class="literal">CREATE_COLUMNS</code> column in
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> was not
        <code class="literal">partitioned</code> for partitioned tables.
       (<a href="http://bugs.mysql.com/38909" target="_top">Bug#38909</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        When executing an <code class="literal">ORDER BY</code> query on a
        partitioned <code class="literal">InnoDB</code> table using an index that
        was not in the partition expression, the results were sorted on
        a per-partition basis rather than for the table as a whole.
       (<a href="http://bugs.mysql.com/37721" target="_top">Bug#37721</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Partitioned table checking sometimes returned a warning with an
        error code of 0, making proper response to errors impossible.
        The fix also renders the error message subject to translation in
        non-English deployments.
       (<a href="http://bugs.mysql.com/36768" target="_top">Bug#36768</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        When <code class="literal">SHOW CREATE TABLE</code> was used on a
        partitioned table, all of the table's
        <code class="literal">PARTITION</code> and <code class="literal">SUBPARTITION</code>
        clauses were output on a single line, making it difficult to
        read or parse.
       (<a href="http://bugs.mysql.com/14326" target="_top">Bug#14326</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Row-based replication failed with non-partitioned
        <code class="literal">MyISAM</code> tables having no indexes.
       (<a href="http://bugs.mysql.com/40004" target="_top">Bug#40004</a>)</p></li><li><p>
        An assertion failure occurred for a join query when a small size
        of the join buffer was set and the value of
        <code class="literal">record_per_key</code> for the index used for a
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> access with this join
        buffer was big enough.
       (<a href="http://bugs.mysql.com/41204" target="_top">Bug#41204</a>)</p></li><li><p>
        Unique indexes on <code class="literal">FALCON</code> tables can not be
        created when the the column is <code class="literal">NOT NULL</code>.
       (<a href="http://bugs.mysql.com/40994" target="_top">Bug#40994</a>)</p></li><li><p>
        Accessing user variables within triggers could cause a server
        crash.
       (<a href="http://bugs.mysql.com/40770" target="_top">Bug#40770</a>)</p></li><li><p>
        For single-table <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>
        statements, an assertion failure resulted from a runtime error
        in a stored function (such as a recursive function call or an
        attempt to update the same table as in the
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement).
       (<a href="http://bugs.mysql.com/40745" target="_top">Bug#40745</a>)</p></li><li><p>
        Date values of <code class="literal">000-00-00</code> inserted into a
        <code class="literal">FALCON</code> table were incorrectly recognized and
        returned when performing a <code class="literal">SELECT</code> on a field
        with an index.
       (<a href="http://bugs.mysql.com/40614" target="_top">Bug#40614</a>)</p></li><li><p>
        Several MySQL Backup-related memory-use issues identified by
        Valgrind were corrected.
       (<a href="http://bugs.mysql.com/40480" target="_top">Bug#40480</a>)</p></li><li><p>
        When executing concurrent
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> statements on a <code class="literal">Maria</code> table,
        the error <code class="literal">Error: Memory allocated at trnman.c:129 was
        underrun, discovered at ma_close.c:65</code> error would be
        logged in the error file, and the server would eventually crash.
       (<a href="http://bugs.mysql.com/40416" target="_top">Bug#40416</a>)</p></li><li><p>
        Prepared statements allowed invalid dates to be inserted when
        the <a href="server-administration.html#sqlmode_allow_invalid_dates"><code class="literal">ALLOW_INVALID_DATES</code></a> SQL
        mode was not enabled.
       (<a href="http://bugs.mysql.com/40365" target="_top">Bug#40365</a>)</p></li><li><p>
        With statement-based binary logging format and a transaction
        isolation level of <a href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ
        COMMITTED</code></a> or stricter, <code class="literal">InnoDB</code>
        printed an error because statement-based logging might lead to
        inconsistency between master and slave databases. However, this
        error was printed even when binary logging was not enabled (in
        which case, no such inconsistency can occur).
       (<a href="http://bugs.mysql.com/40360" target="_top">Bug#40360</a>)</p></li><li><p>
        A query with an outer join where the <code class="literal">ON</code>
        expression evaluated to the constant <code class="literal">FALSE</code>
        could return incorrect results when a join buffer was used for
        the outer join operation.
       (<a href="http://bugs.mysql.com/40317" target="_top">Bug#40317</a>)</p></li><li><p>
        Errors from a <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> or
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation were shown by
        <a href="sql-syntax.html#show-warnings" title="12.5.6.40. SHOW WARNINGS Syntax"><code class="literal">SHOW WARNINGS</code></a> as warnings, not
        errors.
       (<a href="http://bugs.mysql.com/40304" target="_top">Bug#40304</a>)</p></li><li><p>
        If several errors occurred during a <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> or <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        operation, the final error was returned to the client, even
        though the first error is usually more pertinent.
       (<a href="http://bugs.mysql.com/40303" target="_top">Bug#40303</a>)</p></li><li><p>
        Creation of a tablespace file within <code class="literal">FALCON</code>
        could create a tablespace entry in the
        <code class="literal">INFORMATION_SCHEMA.FALCON_TABLESPACE_IO</code> even
        the underlying data file had not been created.
       (<a href="http://bugs.mysql.com/40302" target="_top">Bug#40302</a>)</p></li><li><p>
        Specifying the
        <a href="server-administration.html#option_mysqld_log-backup-output"><code class="option">--log-backup-output</code></a> option
        without an argument set the destination for the backup logs to
        <code class="literal">FILE</code> rather than to the default of
        <code class="literal">TABLE</code>.
       (<a href="http://bugs.mysql.com/40282" target="_top">Bug#40282</a>)</p></li><li><p>
        <span><strong class="command">mc.exe</strong></span> is no longer needed to compile MySQL
        on Windows. This makes it possible to build MySQL from source
        using Visual Studio Express 2008.
       (<a href="http://bugs.mysql.com/40280" target="_top">Bug#40280</a>)</p></li><li><p>
        The server could generate extra rows in the result set for a
        query with a nested outer join if the inner tables of the outer
        join were joined using join buffers.
       (<a href="http://bugs.mysql.com/40268" target="_top">Bug#40268</a>)</p></li><li><p>
        If <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> was used to
        back up an empty database and binary logging enabled, the backup
        image was flagged as containing binary log information even
        though it did not. Using <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        with the backup image then crashed trying to parse the binary
        log file name.
       (<a href="http://bugs.mysql.com/40262" target="_top">Bug#40262</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_backup_history_log_file"><code class="literal">backup_history_log_file</code></a> and
        <a href="server-administration.html#sysvar_backup_progress_log_file"><code class="literal">backup_progress_log_file</code></a> system
        variables were not settable at server startup. Now they are.
       (<a href="http://bugs.mysql.com/40219" target="_top">Bug#40219</a>)</p></li><li><p>
        The default value of the
        <a href="server-administration.html#sysvar_backup_history_log"><code class="literal">backup_history_log</code></a> and
        <a href="server-administration.html#sysvar_backup_progress_log"><code class="literal">backup_progress_log</code></a> system
        variables is <code class="literal">ON</code>, but explicitly setting them
        to <code class="literal">DEFAULT</code> set them to
        <code class="literal">OFF</code>.
       (<a href="http://bugs.mysql.com/40218" target="_top">Bug#40218</a>)</p></li><li><p>
        When an outer join employed a join buffer to join the first
        inner table by the Blocked Nested-Loop algorithm, extra
        <code class="literal">NULL</code>-complemented rows could be generated if
        the <code class="literal">WHERE</code> clause contained conditions that
        can be pushed down to this table.
       (<a href="http://bugs.mysql.com/40192" target="_top">Bug#40192</a>)</p></li><li><p>
        When the optimizer joined an inner table of an outer join using
        both “<span class="quote">not exists</span>” optimization and a join buffer,
        an incorrect result set could be returned.
       (<a href="http://bugs.mysql.com/40134" target="_top">Bug#40134</a>)</p></li><li><p>
        Support for the <code class="literal">revision</code> field in
        <code class="filename">.frm</code> files has been removed. This addresses
        the downgrading problem introduced by the fix for <a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>.
       (<a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>)</p></li><li><p>
        The MySQL Backup message logger caused an assertion failure.
       (<a href="http://bugs.mysql.com/39997" target="_top">Bug#39997</a>)</p></li><li><p>
        Retrieval speed from the following
        <code class="literal">INFORMATION_SCHEMA</code> tables was improved by
        shortening the <code class="literal">VARIABLE_VALUE</code> column to 1024
        characters:
        <a href="information-schema.html#variables-table" title="19.26. The INFORMATION_SCHEMA GLOBAL_VARIABLES and
      SESSION_VARIABLES
      Tables"><code class="literal">GLOBAL_VARIABLES</code></a>,
        <a href="information-schema.html#variables-table" title="19.26. The INFORMATION_SCHEMA GLOBAL_VARIABLES and
      SESSION_VARIABLES
      Tables"><code class="literal">SESSION_VARIABLES</code></a>,
        <a href="information-schema.html#status-table" title="19.25. The INFORMATION_SCHEMA GLOBAL_STATUS and
      SESSION_STATUS
      Tables"><code class="literal">GLOBAL_STATUS</code></a>,
        and
        <a href="information-schema.html#status-table" title="19.25. The INFORMATION_SCHEMA GLOBAL_STATUS and
      SESSION_STATUS
      Tables"><code class="literal">SESSION_STATUS</code></a>.
      </p><p>
        As a result of this change, any variable value longer than 1024
        characters will be truncated with a warning. This affects only
        the <a href="server-administration.html#sysvar_init_connect"><code class="literal">init_connect</code></a> system
        variable.
       (<a href="http://bugs.mysql.com/39955" target="_top">Bug#39955</a>)</p></li><li><p>
        If the operating system is configured to return leap seconds
        from OS time calls or if the MySQL server uses a time zone
        definition that has leap seconds, functions such as
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> could return a value having
        a time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code>. If such values are inserted into a
        table, they would be dumped as is by
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> but considered invalid when
        reloaded, leading to backup/restore problems.
      </p><p>
        Now leap second values are returned with a time part that ends
        with <code class="literal">:59:59</code>. This means that a function such
        as <a href="functions.html#function_now"><code class="literal">NOW()</code></a> can return the same
        value for two or three consecutive seconds during the leap
        second. It remains true that literal temporal values having a
        time part that ends with <code class="literal">:59:60</code> or
        <code class="literal">:59:61</code> are considered invalid.
      </p><p>
        For additional details about leap-second handling, see
        <a href="internationalization-localization.html#time-zone-leap-seconds" title="9.7.2. Time Zone Leap Second Support">Section 9.7.2, “Time Zone Leap Second Support”</a>.
       (<a href="http://bugs.mysql.com/39920" target="_top">Bug#39920</a>)</p></li><li><p>
        The server could crash during a sort-order optimization of a
        dependent subquery.
       (<a href="http://bugs.mysql.com/39844" target="_top">Bug#39844</a>)</p></li><li><p>
        Recovery of a tablespace for <code class="literal">FALCON</code> tables
        could fail if the tablespace was already in use.
       (<a href="http://bugs.mysql.com/39789" target="_top">Bug#39789</a>)</p></li><li><p>
        Creating a <code class="literal">FALCON</code> table while specifying a
        specific tablespace and partition to be used for the table will
        fail if the specified tablespace does not already exist,
        returning a error indicating general table creation failure. The
        message has been updated to indicate that the failure is due to
        non-existent tablespace.
       (<a href="http://bugs.mysql.com/39702" target="_top">Bug#39702</a>)</p></li><li><p>
        With the <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a>
        SQL mode enabled, the check for non-aggregated columns in
        queries with aggregate functions, but without a <code class="literal">GROUP
        BY</code> clause was treating all the parts of the query as
        if they were in the select list. This is fixed by ignoring the
        non-aggregated columns in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/39656" target="_top">Bug#39656</a>)</p></li><li><p>
        Concurrent execution of <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> and DML operations on
        <code class="literal">MyISAM</code> tables could produce a
        deadlock.
       (<a href="http://bugs.mysql.com/39602" target="_top">Bug#39602</a>)</p></li><li><p>
        The <span><strong class="command">do_abi_check</strong></span> program run during the build
        process depends on <code class="filename">mysql_version.h</code> but that
        file was not created first, resulting in build failure.
       (<a href="http://bugs.mysql.com/39571" target="_top">Bug#39571</a>)</p></li><li><p>
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> failed for
        <code class="literal">MyISAM</code>
        <code class="literal">INFORMATION_SCHEMA</code> tables.
       (<a href="http://bugs.mysql.com/39541" target="_top">Bug#39541</a>)</p></li><li><p>
        On 64-bit Windows systems, the server accepted
        <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a> values larger
        than 4GB, but allocated less. (For example, specifying a value
        of 5GB resulted in 1GB being allocated.)
       (<a href="http://bugs.mysql.com/39494" target="_top">Bug#39494</a>)</p></li><li><p>
        Compiling MySQL with <code class="literal">FALCON</code> support enabled
        with a compiler that does not support exceptions would fail to
        complete successfully. <span><strong class="command">configure</strong></span> has been
        updated to switch off <code class="literal">FALCON</code> support if the
        specified compiler does not support exceptions.
       (<a href="http://bugs.mysql.com/39419" target="_top">Bug#39419</a>)</p></li><li><p>
        Use of the <code class="literal">PACK_KEYS</code> or
        <code class="literal">MAX_ROWS</code> table option in
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> should have triggered
        table reconstruction but did not.
       (<a href="http://bugs.mysql.com/39372" target="_top">Bug#39372</a>)</p></li><li><p>
        The server returned a column type of
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> rather than
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> as the result from the
        <a href="functions.html#function_coalesce"><code class="literal">COALESCE()</code></a>,
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a>,
        <a href="functions.html#function_if"><code class="literal">IF()</code></a>,
        <a href="functions.html#function_greatest"><code class="literal">GREATEST()</code></a>, or
        <a href="functions.html#function_least"><code class="literal">LEAST()</code></a> functions or
        <a href="functions.html#operator_case"><code class="literal">CASE</code></a> expression if the result was
        obtained using <code class="literal">filesort</code> in an anonymous
        temporary table during the query execution.
       (<a href="http://bugs.mysql.com/39283" target="_top">Bug#39283</a>)</p></li><li><p>
        Starting MySQL with <code class="literal">FALCON</code> support when MySQL
        has not been compiled with a compiler supporting exceptions
        would lead to strange errors and results. MySQL will now fail to
        initialize if you have compiled without exceptions enabled with
        the following message:
      </p><pre class="programlisting">081116 12:21:12 [ERROR] Falcon must be compiled with C++ exceptions enabled to work. Please adjust your compile flags.
[Falcon] Error: Falcon exiting process</pre><p>(<a href="http://bugs.mysql.com/39260" target="_top">Bug#39260</a>)</p></li><li><p>
        A server built using yaSSL for SSL support would crash if
        configured to use an RSA key and a client sent a cipher list
        containing a non-RSA key as acceptable.
       (<a href="http://bugs.mysql.com/39178" target="_top">Bug#39178</a>)</p></li><li><p>
        When built with Valgrind, the server failed to access tables
        created with the <code class="literal">DATA DIRECTORY</code> or
        <code class="literal">INDEX DIRECTORY</code> table option.
       (<a href="http://bugs.mysql.com/39102" target="_top">Bug#39102</a>)</p></li><li><p>
        With binary logging enabled <a href="sql-syntax.html#create-view" title="12.1.16. CREATE VIEW Syntax"><code class="literal">CREATE
        VIEW</code></a> was subject to possible buffer overwrite and a
        server crash.
       (<a href="http://bugs.mysql.com/39040" target="_top">Bug#39040</a>)</p></li><li><p>
        The fast mutex implementation was subject to excessive lock
        contention.
       (<a href="http://bugs.mysql.com/38941" target="_top">Bug#38941</a>)</p></li><li><p>
        Use of <code class="literal">InnoDB</code> monitoring
        (<a href="sql-syntax.html#show-engine" title="12.5.6.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE INNODB
        STATUS</code></a> or one of the
        <code class="literal">InnoDB</code> Monitor tables) could cause
        a server crash due to invalid access to a shared variable in a
        concurrent environment.
       (<a href="http://bugs.mysql.com/38883" target="_top">Bug#38883</a>)</p></li><li><p>
        Column names constructed due to wild-card expansion done inside
        a stored procedure could point to freed memory if the expansion
        was performed after the first call to the stored procedure.
       (<a href="http://bugs.mysql.com/38823" target="_top">Bug#38823</a>)</p></li><li><p>
        If delayed insert failed to upgrade the lock, it did not free
        the temporary memory storage used to keep newly constructed
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values in memory, resulting
        in a memory leak.
       (<a href="http://bugs.mysql.com/38693" target="_top">Bug#38693</a>)</p></li><li><p>
        The server unnecessarily acquired a query cache mutex even with
        the query cache disabled, resulting in a small performance
        decrement.
       (<a href="http://bugs.mysql.com/38551" target="_top">Bug#38551</a>)</p></li><li><p>
        On Windows, a five-second delay occurred at shutdown of
        applications that used the embedded server.
       (<a href="http://bugs.mysql.com/38522" target="_top">Bug#38522</a>)</p></li><li><p>
        On Solaris, a scheduling policy applied to the main server
        process could be unintentionally overwritten in client-servicing
        threads.
       (<a href="http://bugs.mysql.com/38477" target="_top">Bug#38477</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> failed to use the
        native driver for a <code class="literal">Falcon</code> table if the table
        was partitioned.
       (<a href="http://bugs.mysql.com/38426" target="_top">Bug#38426</a>)</p></li><li><p>
        On Windows, the embedded server would crash in
        <a href="connectors-apis.html#mysql-library-init" title="20.10.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a> if the
        language file was missing.
       (<a href="http://bugs.mysql.com/38293" target="_top">Bug#38293</a>)</p></li><li><p>
        The Event Scheduler no longer logs “<span class="quote">started in
        thread</span>” or “<span class="quote">executed</span>” successfully messages
        to the error log.
       (<a href="http://bugs.mysql.com/38066" target="_top">Bug#38066</a>)</p></li><li><p>
        Setting the <a href="server-administration.html#sysvar_debug"><code class="literal">debug</code></a> system
        variable and executing a <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>
        statement resulted in a Valgrind warning.
       (<a href="http://bugs.mysql.com/38023" target="_top">Bug#38023</a>)</p></li><li><p>
        An incorrectly checked <code class="literal">XOR</code> subquery
        optimization resulted in an assertion failure.
       (<a href="http://bugs.mysql.com/37899" target="_top">Bug#37899</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> with a <code class="literal">NULL NOT
        IN</code> condition containing a complex subquery from the
        same table as in the outer select caused an assertion failure.
       (<a href="http://bugs.mysql.com/37894" target="_top">Bug#37894</a>)</p></li><li><p>
        Use of an uninitialized constant in
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> evaluation caused an
        assertion failure.
       (<a href="http://bugs.mysql.com/37870" target="_top">Bug#37870</a>)</p></li><li><p>
        The server did not shut down upon receipt of a
        <code class="literal">SIGINT</code> signal unless it was run within a
        debugger.
       (<a href="http://bugs.mysql.com/37869" target="_top">Bug#37869</a>)</p></li><li><p>
        A query that could use one index to produce the desired ordering
        and another index for range access with index condition pushdown
        could cause a server crash.
       (<a href="http://bugs.mysql.com/37851" target="_top">Bug#37851</a>)</p></li><li><p>
        Renaming an <code class="literal">ARCHIVE</code> table to the
        same name with different lettercase and then selecting from it
        could cause a server crash.
       (<a href="http://bugs.mysql.com/37719" target="_top">Bug#37719</a>)</p></li><li><p>
        For queries executed with the batched-key access method, an
        incorrect value of an internal parameter caused a server crash
        if <a href="server-administration.html#sysvar_join_buffer_size"><code class="literal">join_buffer_size</code></a> was less
        then 256.
       (<a href="http://bugs.mysql.com/37690" target="_top">Bug#37690</a>)</p></li><li><p>
        Compiling MySQL with <code class="literal">FALCON</code> support enabled
        on Solaris 9 using the Sun Studio compiler would fail with
        error:
      </p><pre class="programlisting">"Interlock.h", line 149: Error: #error cas not defined. We need&gt;= Solaris 10.</pre><p>(<a href="http://bugs.mysql.com/37622" target="_top">Bug#37622</a>)</p></li><li><p>
        <a href="functions.html#function_timediff"><code class="literal">TIMEDIFF()</code></a> was erroneously
        treated as always returning a positive result. Also,
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> of
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> values to
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> dropped the sign of
        negative values.
       (<a href="http://bugs.mysql.com/37553" target="_top">Bug#37553</a>)</p><p>See also <a href="http://bugs.mysql.com/42525" target="_top">Bug#42525</a>.</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> used
        <a href="sql-syntax.html#show-tables" title="12.5.6.37. SHOW TABLES Syntax"><code class="literal">SHOW FULL
        TABLES</code></a> to get the list of tables in a database. For
        some problems, such as an empty <code class="filename">.frm</code> file
        for a table, this would fail and <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>
        then would neglect to check other tables in the database.
       (<a href="http://bugs.mysql.com/37527" target="_top">Bug#37527</a>)</p></li><li><p>
        Updating a view with a subquery in the <code class="literal">CHECK</code>
        option could cause an assertion failure.
       (<a href="http://bugs.mysql.com/37460" target="_top">Bug#37460</a>)</p></li><li><p>
        Statements that displayed the value of system variables (for
        example, <a href="sql-syntax.html#show-variables" title="12.5.6.39. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a>) expect
        variable values to be encoded in
        <a href="server-administration.html#sysvar_character_set_system"><code class="literal">character_set_system</code></a>. However,
        variables set from the command line such as
        <a href="server-administration.html#sysvar_basedir"><code class="literal">basedir</code></a> or
        <a href="server-administration.html#sysvar_datadir"><code class="literal">datadir</code></a> were encoded using
        <a href="server-administration.html#sysvar_character_set_filesystem"><code class="literal">character_set_filesystem</code></a> and
        not converted correctly.
       (<a href="http://bugs.mysql.com/37339" target="_top">Bug#37339</a>)</p></li><li><p>
        On a 32-bit server built without big tables support, the offset
        argument in a <code class="literal">LIMIT</code> clause might be truncated
        due to a 64-bit to 32-bit cast.
       (<a href="http://bugs.mysql.com/37075" target="_top">Bug#37075</a>)</p></li><li><p>
        Specifying a database name twice to <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> caused a server crash. Now
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> ignores duplicate
        names.
       (<a href="http://bugs.mysql.com/36933" target="_top">Bug#36933</a>)</p></li><li><p>
        If a non-directory file <code class="filename">f</code> without an
        extension was created in the data directory, the server would
        allow clients to execute a <code class="literal">USE f</code> statement
        even though <code class="filename">f</code> could not be a database. The
        server now verifies that that the named database corresponds to
        a directory.
       (<a href="http://bugs.mysql.com/36897" target="_top">Bug#36897</a>)</p></li><li><p>
        The <code class="literal">FALCON</code> storage would silently recreate
        missing tablespace files if they did not exist. Errors are now
        written to the MySQL error log when the
        <code class="literal">FALCON</code> system tablespace files are found to
        be missing. Warnings are produce in the log file when attempting
        to access data tablespace files that do not exist.
       (<a href="http://bugs.mysql.com/36804" target="_top">Bug#36804</a>)</p></li><li><p>
        Use of <a href="functions.html#function_convert"><code class="literal">CONVERT()</code></a> with
        <code class="literal">GROUP BY</code> to convert numeric values to
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> could return truncated
        results.
       (<a href="http://bugs.mysql.com/36772" target="_top">Bug#36772</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client, when built with Visual
        Studio 2005, did not display Japanese characters.
       (<a href="http://bugs.mysql.com/36279" target="_top">Bug#36279</a>)</p></li><li><p>
        Setting the
        <a href="replication.html#sysvar_slave_compressed_protocol"><code class="literal">slave_compressed_protocol</code></a>
        system variable to <code class="literal">DEFAULT</code> failed in the
        embedded server.
       (<a href="http://bugs.mysql.com/35999" target="_top">Bug#35999</a>)</p></li><li><p>
        Processing for <code class="literal">NULL</code>-complemented rows in the
        result sets of queries with nested outer joins could be
        incorrect.
       (<a href="http://bugs.mysql.com/35835" target="_top">Bug#35835</a>)</p></li><li><p>
        The columns that store character set and collation names in
        several <code class="literal">INFORMATION_SCHEMA</code> tables were
        lengthened because they were not long enough to store some
        possible values: <a href="information-schema.html#schemata-table" title="19.1. The INFORMATION_SCHEMA SCHEMATA Table"><code class="literal">SCHEMATA</code></a>,
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">TABLES</code></a>,
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">COLUMNS</code></a>,
        <a href="information-schema.html#character-sets-table" title="19.9. The INFORMATION_SCHEMA CHARACTER_SETS Table"><code class="literal">CHARACTER_SETS</code></a>,
        <a href="information-schema.html#collations-table" title="19.10. The INFORMATION_SCHEMA COLLATIONS Table"><code class="literal">COLLATIONS</code></a>, and
        <a href="information-schema.html#collation-character-set-applicability-table" title="19.11. The INFORMATION_SCHEMA
      COLLATION_CHARACTER_SET_APPLICABILITY Table"><code class="literal">COLLATION_CHARACTER_SET_APPLICABILITY</code></a>.
       (<a href="http://bugs.mysql.com/35789" target="_top">Bug#35789</a>)</p></li><li><p>
        Queries executed using the batched-key access method could cause
        an assertion fail when key expressions for a
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> access depended on
        columns not only from the previous join table.
       (<a href="http://bugs.mysql.com/35685" target="_top">Bug#35685</a>)</p></li><li><p>
        Selecting from an <code class="literal">INFORMATION_SCHEMA</code> table
        into an incorrectly defined <code class="literal">MERGE</code>
        table caused an assertion failure.
       (<a href="http://bugs.mysql.com/35068" target="_top">Bug#35068</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> on Windows did not know about Win32
        system error codes.
       (<a href="http://bugs.mysql.com/34825" target="_top">Bug#34825</a>)</p></li><li><p>
        <code class="literal">EXPLAIN EXTENDED</code> evaluation of aggregate
        functions that required a temporary table caused a server crash.
       (<a href="http://bugs.mysql.com/34773" target="_top">Bug#34773</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> produced an
        incorrect error message when the backup image file name
        contained a non-existent directory.
       (<a href="http://bugs.mysql.com/34754" target="_top">Bug#34754</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-status" title="12.5.6.35. SHOW STATUS Syntax"><code class="literal">SHOW GLOBAL
        STATUS</code></a> shows values that aggregate the session status
        values for all threads. This did not work correctly for the
        embedded server.
       (<a href="http://bugs.mysql.com/34517" target="_top">Bug#34517</a>)</p></li><li><p>
        There were spurious warnings about <code class="literal">"Truncated incorrect
        DOUBLE value"</code> in queries with <code class="literal">MATCH ...
        AGAINST</code> and <code class="literal">&gt;</code> or
        <code class="literal">&lt;</code> with a constant (which was reported as
        an incorrect <code class="literal">DOUBLE</code> value) in the
        <code class="literal">WHERE</code> condition.
       (<a href="http://bugs.mysql.com/34374" target="_top">Bug#34374</a>)</p></li><li><p>
        <a href="programs.html#mysqldumpslow" title="4.6.9. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> did not aggregate times.
       (<a href="http://bugs.mysql.com/34129" target="_top">Bug#34129</a>)</p></li><li><p>
        <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> did not output
        <code class="option">-ldl</code> (or equivalent) when needed for
        <a href="programs.html#option_mysql_config_libmysqld-libs"><code class="option">--libmysqld-libs</code></a>, so its
        output could be insufficient to build applications that use the
        embedded server.
       (<a href="http://bugs.mysql.com/34025" target="_top">Bug#34025</a>)</p></li><li><p>
        For a stored procedure containing a <code class="literal">SELECT * ... RIGHT
        JOIN</code> query, execution failed for the second call.
       (<a href="http://bugs.mysql.com/33811" target="_top">Bug#33811</a>)</p></li><li><p>
        The CSV storage engine had been modified to require columns to
        be explicitly specified as <code class="literal">NOT NULL</code> in
        <code class="literal">CREATE TABLE</code> statements.
      </p><p>
        However, adding columns via the <code class="literal">ALTER TABLE</code>
        command allowed nullable columns to be added to an existing CSV
        table.
       (<a href="http://bugs.mysql.com/33696" target="_top">Bug#33696</a>)</p></li><li><p>
        The <code class="literal">ROUTINES.DATA_TYPE</code>,
        <code class="literal">REFERENTIAL_CONSTRAINTS.SPECIFIC_SCHEMA</code>,
        <code class="literal">REFERENTIAL_CONSTRAINTS.SPECIFIC_NAME</code>,
        <code class="literal">REFERENTIAL_CONSTRAINTS.PARAMETER_NAME</code>,
        <code class="literal">REFERENTIAL_CONSTRAINTS.DATA_TYPE</code> columns
        were declared longer than the maximum allowed identifier length.
       (<a href="http://bugs.mysql.com/33649" target="_top">Bug#33649</a>)</p></li><li><p>
        If a <code class="literal">TEMPORARY</code> table existed with the same
        name as a regular table, <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> saved the temporary table, causing a
        subsequent <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> to fail.
       (<a href="http://bugs.mysql.com/33574" target="_top">Bug#33574</a>)</p></li><li><p>
        Previously, use of index hints with views (which do not have
        indexes) produced the error <span class="errortext">ERROR 1221 (HY000):
        Incorrect usage of USE/IGNORE INDEX and VIEW</span>. Now
        this produces <span class="errortext">ERROR 1176 (HY000): Key '...' doesn't
        exist in table '...'</span>, the same error as for base
        tables without an appropriate index.
       (<a href="http://bugs.mysql.com/33461" target="_top">Bug#33461</a>)</p></li><li><p>
        Execution of a prepared statement that referred to a system
        variable caused a server crash.
       (<a href="http://bugs.mysql.com/32124" target="_top">Bug#32124</a>)</p></li><li><p>
        Some division operations produced a result with incorrect
        precision.
       (<a href="http://bugs.mysql.com/31616" target="_top">Bug#31616</a>)</p></li><li><p>
        Server variables could not be set to their current values on
        Linux platforms. (These fixes are in addition to those made in
        MySQL 6.0.5; additional fixes were made in MySQL 6.0.10.)
       (<a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>)</p><p>See also <a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a>.</p></li><li><p>
        For Solaris package installation using
        <span><strong class="command">pkgadd</strong></span>, the postinstall script failed,
        causing the system tables in the <code class="literal">mysql</code>
        database not to be created.
       (<a href="http://bugs.mysql.com/31164" target="_top">Bug#31164</a>)</p></li><li><p>
        For installation on Solaris using <span><strong class="command">pkgadd</strong></span>
        packages, the <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> script was
        generated in the <code class="filename">scripts</code> directory, but the
        temporary files used during the process were left there and not
        deleted.
       (<a href="http://bugs.mysql.com/31052" target="_top">Bug#31052</a>)</p></li><li><p>
        Searching for text values on a column using a character set that
        provides multi-weight characters and sequences on an
        <code class="literal">INNODB</code> or <code class="literal">FALCON</code> table
        with an index would fail to find the expanded value.
       (<a href="http://bugs.mysql.com/29246" target="_top">Bug#29246</a>)</p></li><li><p>
        Some <a href="sql-syntax.html#show" title="12.5.6. SHOW Syntax"><code class="literal">SHOW</code></a> statements and
        retrievals from the <code class="literal">INFORMATION_SCHEMA</code>
        <a href="information-schema.html#triggers-table" title="19.16. The INFORMATION_SCHEMA TRIGGERS Table"><code class="literal">TRIGGERS</code></a> and
        <a href="information-schema.html#events-table" title="19.20. The INFORMATION_SCHEMA EVENTS Table"><code class="literal">EVENTS</code></a> tables used a temporary
        table and incremented the
        <a href="server-administration.html#statvar_Created_tmp_disk_tables"><code class="literal">Created_tmp_disk_tables</code></a> status
        variable, due to the way that <code class="literal">TEXT</code> columns
        are handled. The <code class="literal">TRIGGERS.SQL_MODE</code>,
        <code class="literal">TRIGGERS.DEFINER</code>, and
        <code class="literal">EVENTS.SQL_MODE</code> columns now are
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> to avoid this problem.
       (<a href="http://bugs.mysql.com/29153" target="_top">Bug#29153</a>)</p></li><li><p>
        XA transaction rollbacks could result in corrupted transaction
        states and a server crash.
       (<a href="http://bugs.mysql.com/28323" target="_top">Bug#28323</a>)</p></li><li><p>
        There were cases where string-to-number conversions would
        produce warnings for <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> values
        but not for <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> values.
       (<a href="http://bugs.mysql.com/28299" target="_top">Bug#28299</a>)</p></li><li><p>
        For several read only system variables that were viewable with
        <a href="sql-syntax.html#show-variables" title="12.5.6.39. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a>, attempting to
        view them with <code class="literal">SELECT
        @@<em class="replaceable"><code>var_name</code></em></code> or set their
        values with <code class="literal">SET</code> resulted in an
        <code class="literal">unknown system variable</code> error. Now they can
        be viewed with <code class="literal">SELECT
        @@<em class="replaceable"><code>var_name</code></em></code> and attempting
        to set their values results in a message indicating that they
        are read only.
       (<a href="http://bugs.mysql.com/28234" target="_top">Bug#28234</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> for an
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> column could change column
        values.
       (<a href="http://bugs.mysql.com/23113" target="_top">Bug#23113</a>)</p></li><li><p>
        Setting the session value of the
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> or
        <a href="server-administration.html#sysvar_net_buffer_length"><code class="literal">net_buffer_length</code></a> system
        variable was allowed but had no effect. The session value of
        these variables is now read only.
       (<a href="http://bugs.mysql.com/22891" target="_top">Bug#22891</a>)</p></li><li><p>
        A race condition between the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld.exe</strong></span></a>
        server and the Windows service manager could lead to inability
        to stop the server from the service manager.
       (<a href="http://bugs.mysql.com/20430" target="_top">Bug#20430</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-8"></a>C.1.5. Changes in MySQL 6.0.8 (03 November 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The tables for MySQL Backup logging have been renamed, and the
        logging capabilities now are more flexible, similar to the
        capabilities provided for the general query log and slow query
        log.
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            The names of the MySQL Backup log tables in the
            <code class="literal">mysql</code> database have been changed from
            <code class="literal">online_backup</code> and
            <code class="literal">online_backup_progress</code> to
            <code class="literal">backup_history</code> and
            <code class="literal">backup_progress</code>.
          </p></li><li><p>
            Logging now can be enabled or disabled, it is possible to
            log to tables or to files, and the names of the log files
            can be changed. For details, see
            <a href="backup-and-recovery.html#backup-database-restore-log-control" title="6.3.3.1. MySQL Backup Log Control">Section 6.3.3.1, “MySQL Backup Log Control”</a>.
          </p></li><li><p>
            A new statement,
            <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH BACKUP
            LOGS</code></a>, closes and reopens the backup log files. A
            new option for
            <a href="connectors-apis.html#mysql-refresh" title="20.10.3.55. mysql_refresh()"><code class="literal">mysql_refresh()</code></a>,
            <code class="literal">REFRESH_BACKUP_LOG</code>, performs the same
            operation.
          </p></li></ul></div></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The <code class="option">--skip-thread-priority</code> option is now
        deprecated in MySQL 5.1 and is removed in MySQL 6.0 such that
        the server won't change the thread priorities by default. Giving
        threads different priorities might yield marginal improvements
        in some platforms (where it actually works), but it might
        instead cause significant degradation depending on the thread
        count and number of processors. Meddling with the thread
        priorities is a not a safe bet as it is very dependent on the
        behavior of the CPU scheduler and system where MySQL is being
        run.
       (<a href="http://bugs.mysql.com/35164" target="_top">Bug#35164</a>, <a href="http://bugs.mysql.com/37536" target="_top">Bug#37536</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The <a href="server-administration.html#option_mysqld_log"><code class="option">--log</code></a> option now is
        deprecated and will be removed (along with the
        <code class="literal">log</code> system variable) in the future. Instead,
        use the <a href="server-administration.html#sysvar_general_log"><code class="option">--general_log</code></a> option to
        enable the general query log and the
        <a href="server-administration.html#sysvar_general_log_file"><code class="option">--general_log_file=<em class="replaceable"><code>file_name</code></em></code></a>
        option to set the general query log file name. The values of
        these options are available in the
        <a href="server-administration.html#sysvar_general_log"><code class="literal">general_log</code></a> and
        <a href="server-administration.html#sysvar_general_log_file"><code class="literal">general_log_file</code></a> system
        variables, which can be changed at runtime.
      </p><p>
        Similar changes were made for the
        <a href="server-administration.html#option_mysqld_log-slow-queries"><code class="option">--log-slow-queries</code></a> option and
        <a href="server-administration.html#sysvar_log_slow_queries"><code class="literal">log_slow_queries</code></a> system
        variable. You should use the
        <a href="server-administration.html#sysvar_slow_query_log"><code class="option">--slow_query_log</code></a> and
        <a href="server-administration.html#sysvar_slow_query_log_file"><code class="option">--slow_query_log_file=<em class="replaceable"><code>file_name</code></em></code></a>
        options instead (and the
        <a href="server-administration.html#sysvar_slow_query_log"><code class="literal">slow_query_log</code></a> and
        <a href="server-administration.html#sysvar_slow_query_log_file"><code class="literal">slow_query_log_file</code></a> system
        variables).
      </p></li><li><p>
        The <code class="filename">BUILD/compile-solaris-*</code> scripts now
        compile MySQL with the <code class="literal">mtmalloc</code> library
        rather than <code class="literal">malloc</code>.
       (<a href="http://bugs.mysql.com/38727" target="_top">Bug#38727</a>)</p></li><li><p>
        Binary distributions for Solaris, Linux, and Mac OS X now are
        built with support for the <code class="literal">pool-of-threads</code>
        value of <a href="server-administration.html#sysvar_thread_handling"><code class="literal">thread_handling</code></a>.
       (<a href="http://bugs.mysql.com/38636" target="_top">Bug#38636</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> now performs an
        implicit commit, like <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>.
       (<a href="http://bugs.mysql.com/38261" target="_top">Bug#38261</a>)</p></li><li><p>
        The deprecated
        <a href="server-administration.html#option_mysqld_default-table-type"><code class="option">--default-table-type</code></a> server
        option has been removed.
       (<a href="http://bugs.mysql.com/34818" target="_top">Bug#34818</a>)</p></li><li><p>
        On WIndows, use of POSIX I/O interfaces in
        <code class="literal">mysys</code> was replaced with Win32 API calls
        (<code class="function">CreateFile()</code>,
        <code class="function">WriteFile()</code>, and so forth) and the default
        maximum number of open files has been increased to 16384. The
        maximum can be increased further by using the
        <a href="server-administration.html#option_mysqld_open-files-limit"><code class="option">--open-files-limit=<em class="replaceable"><code>N</code></em></code></a>
        option at server startup.
       (<a href="http://bugs.mysql.com/24509" target="_top">Bug#24509</a>)</p></li><li><p>
        Previously, prepared <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax"><code class="literal">CALL</code></a>
        statements could be used via the C API only for stored
        procedures that produce at most one result set, and applications
        could not use placeholders for <code class="literal">OUT</code> or
        <code class="literal">INOUT</code> parameters. For prepared
        <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax"><code class="literal">CALL</code></a> statements used via
        <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> and
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a>, placeholders could not
        be used for <code class="literal">OUT</code> or <code class="literal">INOUT</code>
        parameters.
      </p><p>
        For the C API, prepared <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax"><code class="literal">CALL</code></a>
        support now is expanded in the following ways:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            A stored procedure can produce any number of result sets.
            The number of columns and the data types of the columns need
            not be the same for all result sets.
          </p></li><li><p>
            The final values of <code class="literal">OUT</code> and
            <code class="literal">INOUT</code> parameters are available to the
            calling application after the procedure returns. These
            parameters are returned as an extra single-row result set
            following any result sets produced by the procedure itself.
            The row contains the values of the <code class="literal">OUT</code>
            and <code class="literal">INOUT</code> parameters in the order in
            which they are declared in the procedure parameter list.
          </p></li><li><p>
            A new C API function,
            <a href="connectors-apis.html#mysql-stmt-next-result" title="20.10.7.17. mysql_stmt_next_result()"><code class="literal">mysql_stmt_next_result()</code></a>, is
            available for processing stored procedure results. See
            <a href="connectors-apis.html#c-api-prepared-call-statements" title="20.10.15. C API Support for Prepared CALL
      Statements">Section 20.10.15, “C API Support for Prepared <code class="literal">CALL</code>
      Statements”</a>.
          </p></li><li><p>
            The <code class="literal">CLIENT_MULTI_RESULTS</code> flag now is
            enabled by default. It no longer needs to be enabled when
            you call
            <a href="connectors-apis.html#mysql-real-connect" title="20.10.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a>. (This
            flag is necessary for executing stored procedures because
            they can produce multiple result sets.)
          </p></li></ul></div><p>
        For <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> and
        <a href="sql-syntax.html#execute" title="12.7.2. EXECUTE Syntax"><code class="literal">EXECUTE</code></a>, placeholder support for
        <code class="literal">OUT</code> and <code class="literal">INOUT</code> parameters
        is now available. See <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax">Section 12.2.1, “<code class="literal">CALL</code> Syntax”</a>.
       (<a href="http://bugs.mysql.com/11638" target="_top">Bug#11638</a>, <a href="http://bugs.mysql.com/17898" target="_top">Bug#17898</a>)</p></li><li><p>
        MySQL now supports an interface for semisynchronous replication:
        A commit performed on the master side blocks before returning to
        the session that performed the transaction until at least one
        slave acknowleges that it has received and logged the events for
        the transaction. Semisynchronous replication is implemented
        through an optional plugin component. See
        <a href="replication.html#replication-semisync" title="16.2.9. Semisynchronous Replication">Section 16.2.9, “Semisynchronous Replication”</a>
      </p></li><li><p>
        Most statements that previously caused an implicit commit before
        executing now also cause an implicit commit after executing.
        Also, the <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH</code></a> statement and
        <a href="connectors-apis.html#mysql-refresh" title="20.10.3.55. mysql_refresh()"><code class="literal">mysql_refresh()</code></a> C API function
        now cause an implicit commit. See
        <a href="sql-syntax.html#implicit-commit" title="12.4.3. Statements That Cause an Implicit Commit">Section 12.4.3, “Statements That Cause an Implicit Commit”</a>.
      </p></li><li><p>
        The <code class="literal">FILES</code> and <code class="literal">TABLESPACES</code>
        tables have been added to <code class="literal">INFORMATION_SCHEMA</code>
        for tracking the individual files and tablespace details for
        <code class="literal">Falcon</code>. In addition, the
        <code class="literal">TABLES</code> table has been extended to incorporate
        the <code class="literal">TABLESPACE_NAME</code> field to specify the
        tablespace name that a specific table belongs to.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> did not check for incompatible collation
        changes made in MySQL 5.1.21 (<a href="http://bugs.mysql.com/29499" target="_top">Bug#29499</a>) and 5.1.23 (<a href="http://bugs.mysql.com/27562" target="_top">Bug#27562</a>,
        <a href="http://bugs.mysql.com/29461" target="_top">Bug#29461</a>). This also affects <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> and
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>, which cause that statement to
        be executed. See <a href="installing.html#checking-index-changes" title="2.11.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/39585" target="_top">Bug#39585</a>)</p><p>See also <a href="http://bugs.mysql.com/40984" target="_top">Bug#40984</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        In connection with view creation, the server created
        <code class="filename">arc</code> directories inside database directories
        and maintained useless copies of <code class="filename">.frm</code> files
        there. Creation and renaming procedures of those copies as well
        as creation of <code class="filename">arc</code> directories has been
        discontinued.
      </p><p>
        This change does cause a problem when downgrading to older
        server versions which manifests itself under these
        circumstances:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Create a view <code class="literal">v_orig</code> in MySQL 6.0.8 or
            higher.
          </p></li><li><p>
            Rename the view to <code class="literal">v_new</code> and then back to
            <code class="literal">v_orig</code>.
          </p></li><li><p>
            Downgrade to an older 6.0.x server and run
            <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>.
          </p></li><li><p>
            Try to rename <code class="literal">v_orig</code> to
            <code class="literal">v_new</code> again. This operation fails.
          </p></li></ol></div><p>
        As a workaround to avoid this problem, use either of these
        approaches:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Dump your data using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before
            downgrading and reload the dump file after downgrading.
          </p></li><li><p>
            Instead of renaming a view after the downgrade, drop it and
            recreate it.
          </p></li></ul></div><p>
        The downgrade problem introduced by the fix for this bug has
        been addressed as <a href="http://bugs.mysql.com/40021" target="_top">Bug#40021</a>.
       (<a href="http://bugs.mysql.com/17823" target="_top">Bug#17823</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        The <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege is now
        required to change the session value of
        <a href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a> as well as its
        global value. For more information about
        <a href="replication.html#sysvar_binlog_format"><code class="literal">binlog_format</code></a>, see
        <a href="replication.html#replication-formats" title="16.1.2. Replication Formats">Section 16.1.2, “Replication Formats”</a>.
       (<a href="http://bugs.mysql.com/39106" target="_top">Bug#39106</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        Replication to partitioned <code class="literal">MyISAM</code> tables
        could be slow with row-based binary logging.
       (<a href="http://bugs.mysql.com/35843" target="_top">Bug#35843</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        A duplicate key error raised when inserting into a partitioned
        table used a different error code from that returned by such an
        error raised when inserting into a table that was not
        partitioned.
       (<a href="http://bugs.mysql.com/38719" target="_top">Bug#38719</a>)</p><p>See also <a href="http://bugs.mysql.com/28842" target="_top">Bug#28842</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        If an error occurred when evaluating a column of a partitioned
        table for the partitioning function, the row could be inserted
        anyway.
       (<a href="http://bugs.mysql.com/38083" target="_top">Bug#38083</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Using <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> to insert records into a partitioned
        <code class="literal">MyISAM</code> table could fail if some partitions
        were empty and others are not.
       (<a href="http://bugs.mysql.com/38005" target="_top">Bug#38005</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing the statement <code class="literal">CHANGE MASTER TO ...
        MASTER_HEARTBEAT_PERIOD =
        <em class="replaceable"><code>period</code></em></code> using a value for
        <em class="replaceable"><code>period</code></em> outside the permitted range
        caused the slave to crash.
       (<a href="http://bugs.mysql.com/39077" target="_top">Bug#39077</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication of <code class="literal">BLACKHOLE</code> tables did not work
        with row-based binary logging.
       (<a href="http://bugs.mysql.com/38360" target="_top">Bug#38360</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        In some cases, a replication master sent a special event to a
        reconnecting slave to keep the slave's temporary tables, but
        they still had references to the “<span class="quote">old</span>” slave SQL
        thread and used them to access that thread's data.
       (<a href="http://bugs.mysql.com/38269" target="_top">Bug#38269</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication filtering rules were inappropiately applied when
        executing <a href="sql-syntax.html#binlog" title="12.5.7.1. BINLOG Syntax"><code class="literal">BINLOG</code></a> pseudo-queries.
        One way in which this problem showed itself was that, when
        replaying a binary log with <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a>, RBR
        events were sometimes not executed if the
        <a href="replication.html#option_mysqld_replicate-do-db"><code class="option">--replicate-do-db</code></a> option was
        specified. Now replication rules are applied only to those
        events executed by the slave SQL thread.
       (<a href="http://bugs.mysql.com/36099" target="_top">Bug#36099</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        For a <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE
        ... SELECT</code></a> statement that creates a table in a
        database other than the current one, the table could be created
        in the wrong database on replication slaves if row-based binary
        logging is used.
       (<a href="http://bugs.mysql.com/34707" target="_top">Bug#34707</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A statement did not always commit or roll back correctly when
        the server was shut down; the error could be triggered by having
        a failing <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> or
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement on a
        transactional table, causing an implicit rollback.
       (<a href="http://bugs.mysql.com/32709" target="_top">Bug#32709</a>)</p><p>See also <a href="http://bugs.mysql.com/38262" target="_top">Bug#38262</a>.</p></li><li><p>
        Compiling using <code class="option">--with-falcon</code> on Mac OS X fails
        if you use <code class="literal">CXX=gcc</code>. You must specify that the
        <span><strong class="command">g++</strong></span> compiler should be used for C++ using
        <code class="literal">CXX=g++</code>.
       (<a href="http://bugs.mysql.com/41270" target="_top">Bug#41270</a>)</p></li><li><p>
        When building <code class="literal">Falcon</code> support on Solaris 10 on
        the SPARC platform, falcon would not be compiled even when
        explicitly enabled.
       (<a href="http://bugs.mysql.com/40390" target="_top">Bug#40390</a>)</p></li><li><p>
        Running an online <code class="literal">DROP INDEX</code> operation on an
        index using the same key on a <code class="literal">Falcon</code> table
        would fail with an assertion.
       (<a href="http://bugs.mysql.com/40265" target="_top">Bug#40265</a>)</p></li><li><p>
        With <code class="literal">innodb_autoinc_lock_mode</code> set to 0
        (“<span class="quote">traditional</span>” locking), deadlock and lock-wait
        timeout errors encountered while reading
        <code class="literal">AUTO_INCREMENT</code> values were being reported as
        a generic <code class="literal">AUTO_INCREMENT</code> value allocation
        failure. (The actual error encountered was printed in the error
        log.) The transaction was being rolled back but all the user saw
        was an <code class="literal">AUTO_INCREMENT</code> failure code. Now the
        actual locking error code is returned to the user.
       (<a href="http://bugs.mysql.com/40224" target="_top">Bug#40224</a>)</p></li><li><p>
        Optimized builds of <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> crashed when built
        with Sun Studio on SPARC platforms.
       (<a href="http://bugs.mysql.com/40224" target="_top">Bug#40224</a>)</p></li><li><p>
        Creating a table, or selecting from a table using the
        <code class="literal">FALCON</code> storage engine and with a double quote
        in the name would cause an assertion failure.
       (<a href="http://bugs.mysql.com/40158" target="_top">Bug#40158</a>, <a href="http://bugs.mysql.com/39388" target="_top">Bug#39388</a>)</p></li><li><p>
        Windows builds were missing the MySQL Backup log tables.
       (<a href="http://bugs.mysql.com/40126" target="_top">Bug#40126</a>)</p></li><li><p>
        The maximum value for
        <code class="literal">falcon-serial-log-buffer</code> has been reduced to
        1000.
       (<a href="http://bugs.mysql.com/40123" target="_top">Bug#40123</a>)</p></li><li><p>
        The indexes and record contents of a <code class="literal">FALCON</code>
        table could get out of synchronization during a lrge number of
        updates. Because <code class="literal">FALCON</code> returns data only if
        it matches both the index and record data the result sets
        returned could be invalid when comparing the results of an index
        and non-index based <code class="literal">SELECT</code>.
       (<a href="http://bugs.mysql.com/40112" target="_top">Bug#40112</a>, <a href="http://bugs.mysql.com/40130" target="_top">Bug#40130</a>)</p></li><li><p>
        The <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
        FOR UPGRADE</code></a> statement did not check for incompatible
        collation changes made in MySQL 5.1.24 (<a href="http://bugs.mysql.com/27877" target="_top">Bug#27877</a>). This also
        affects <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> and
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>, which cause that statement to
        be executed. See <a href="installing.html#checking-index-changes" title="2.11.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
      </p><p>
        Prior to this fix, a binary upgrade (performed without dumping
        tables with <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before the upgrade and
        reloading the dump file after the upgrade) would corrupt tables
        that have indexes that use the
        <code class="literal">utf8_general_ci</code> or
        <code class="literal">ucs2_general_ci</code> collation for columns that
        contain <code class="literal">'ß'</code> LATIN SMALL LETTER SHARP S
        (German). After the fix,
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> properly detects the problem and warns about
        tables that need repair.
      </p><p>
        However, the fix is not backward compatible and can result in a
        downgrading problem under these circumstances:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Perform a binary upgrade to a version of MySQL that includes
            the fix.
          </p></li><li><p>
            Run <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE
            ... FOR UPGRADE</code></a> (or <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>
            or <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>) to upgrade tables.
          </p></li><li><p>
            Perform a binary downgrade to a version of MySQL that does
            not include the fix.
          </p></li></ol></div><p>
        The solution is to dump tables with <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>
        before the downgrade and reload the dump file after the
        downgrade. Alternatively, drop and recreate affected indexes.
       (<a href="http://bugs.mysql.com/40053" target="_top">Bug#40053</a>)</p></li><li><p>
        MySQL may crash during the recover of <code class="literal">Falcon</code>
        tables if the server was shutdown after a large data load.
       (<a href="http://bugs.mysql.com/39951" target="_top">Bug#39951</a>)</p></li><li><p>
        Non-ASCII error messages were corrupted.
       (<a href="http://bugs.mysql.com/39949" target="_top">Bug#39949</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Threads_created"><code class="literal">Threads_created</code></a> status
        variable was not correctly incremented when the server was
        started with the
        <a href="server-administration.html#sysvar_thread_handling"><code class="option">--thread-handling=pool-of-threads</code></a>
        option.
       (<a href="http://bugs.mysql.com/39916" target="_top">Bug#39916</a>)</p></li><li><p>
        When the <code class="literal">Falcon</code> serial log reaches a state
        where the serial log can no longer be written to, for example
        when the disk is full, or when permissions have been changed on
        an open log, then MySQL could crash.
       (<a href="http://bugs.mysql.com/39912" target="_top">Bug#39912</a>)</p></li><li><p>
        On Windows Vista, <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> did not
        correctly calculate the validity point from the backup stream.
       (<a href="http://bugs.mysql.com/39825" target="_top">Bug#39825</a>)</p></li><li><p>
        <code class="literal">Falcon</code> did not support online add/drop index
        creation on tables using a <code class="literal">NOT NULL</code> column.
       (<a href="http://bugs.mysql.com/39795" target="_top">Bug#39795</a>)</p></li><li><p>
        When creating a table with the <code class="literal">FALCON</code> engine
        where the size of the key in the index was larger than supported
        (the error message did not signify the severity of the problem.
        The message and error has been updated.
       (<a href="http://bugs.mysql.com/39708" target="_top">Bug#39708</a>)</p></li><li><p>
        Recovery of <code class="literal">Falcon</code> tables could crash because
        of an invalid or unrecognised tablespace ID.
       (<a href="http://bugs.mysql.com/39706" target="_top">Bug#39706</a>)</p></li><li><p>
        Performing an <code class="literal">INSERT</code> on
        <code class="literal">Maria</code> table with a <code class="literal">UNIQUE</code>
        column, MySQL could deadlock.
       (<a href="http://bugs.mysql.com/39697" target="_top">Bug#39697</a>)</p></li><li><p>
        Memory would be allocated for the <code class="literal">Falcon</code>
        sector cache even if the cache had been disabled
        (<a href="storage-engines.html#sysvar_falcon_use_sectorcache"><code class="literal">falcon_use_sectorcache</code></a>).
       (<a href="http://bugs.mysql.com/39692" target="_top">Bug#39692</a>)</p></li><li><p>
        The MySQL Backup <code class="literal">backup_history</code> log now
        contains a <code class="literal">backup_file_path</code> column.
        <code class="literal">backup_file</code> contains the basename and
        <code class="literal">backup_file_path</code> contains the directory of
        the image file path name.
       (<a href="http://bugs.mysql.com/39690" target="_top">Bug#39690</a>)</p></li><li><p>
        Some MySQL Backup-related memory-use warnings detected by
        Valgrind were corrected.
       (<a href="http://bugs.mysql.com/39598" target="_top">Bug#39598</a>)</p></li><li><p>
        Creating a table with a comment of 62 characters or longer
        caused a server crash.
       (<a href="http://bugs.mysql.com/39591" target="_top">Bug#39591</a>)</p></li><li><p>
        When loading very large datasets into a
        <code class="literal">Falcon</code> table, MySQL may crash because the
        size of the Falcon serial log exceeds 4GB. The maximum supported
        size of the serial log file has been increased from a 32-bit to
        a 64-bit integer to handle larger log file sizes.
       (<a href="http://bugs.mysql.com/39575" target="_top">Bug#39575</a>)</p></li><li><p>
        When recovering a crashed <code class="literal">Falcon</code> table when
        the page size had been set to 32K, MySQL could crash with an
        assertion.
       (<a href="http://bugs.mysql.com/39574" target="_top">Bug#39574</a>)</p></li><li><p>
        The Sun Studio compiler failed to build debug versions of the
        server due to use of features specific to
        <span><strong class="command">gcc</strong></span>.
       (<a href="http://bugs.mysql.com/39451" target="_top">Bug#39451</a>)</p></li><li><p>
        When performing a recovery of a crashed
        <code class="literal">Falcon</code> table on Windows, MySQL would report
        an exception when then recovery process completed, even though
        the recovery may have completed successfully.
       (<a href="http://bugs.mysql.com/39421" target="_top">Bug#39421</a>)</p></li><li><p>
        Performing an <code class="literal">ALTER TABLE</code> on a
        <code class="literal">Maria</code> table where you are changing the column
        name but not the type, a full table rebuild may be triggered,
        instead of just a simple rename.
       (<a href="http://bugs.mysql.com/39399" target="_top">Bug#39399</a>)</p></li><li><p>
        Dropping a locked <code class="literal">Maria</code> table leads to an
        assertion failure.
       (<a href="http://bugs.mysql.com/39395" target="_top">Bug#39395</a>)</p></li><li><p>
        For a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column in an
        <code class="literal">InnoDB</code> table, testing the column with
        multiple conditions in the <code class="literal">WHERE</code> clause
        caused a server crash.
       (<a href="http://bugs.mysql.com/39353" target="_top">Bug#39353</a>)</p></li><li><p>
        When using a <code class="literal">Falcon</code> table, equals (=)
        comparison of values of columns of type <code class="literal">YEAR</code>
        does not work when an index is present on the
        <code class="literal">YEAR</code> column(s).
       (<a href="http://bugs.mysql.com/39342" target="_top">Bug#39342</a>)</p></li><li><p>
        When running <code class="literal">TRUNCATE</code> on a table where other
        threads are also trying to access the same
        <code class="literal">Falcon</code> table, a deadlock could occur between
        the two executing threads.
       (<a href="http://bugs.mysql.com/39321" target="_top">Bug#39321</a>)</p></li><li><p>
        Performing a <code class="literal">INSERT INTO ... ON DUPLICATE KEY
        UPDATE</code> statement on a <code class="literal">Maria</code> table
        would fail with the error <code class="literal">1178: The storage engine for
        the table doesn't support UPDATE in WRITE CONCURRENT</code>.
       (<a href="http://bugs.mysql.com/39248" target="_top">Bug#39248</a>)</p></li><li><p>
        <code class="literal">Maria</code> could fail to find data in a table with
        an index on a <code class="literal">char</code> column.
       (<a href="http://bugs.mysql.com/39243" target="_top">Bug#39243</a>)</p></li><li><p>
        Running <code class="literal">ALTER TABLE PARTITION</code> on a
        <code class="literal">Maria</code> table would lead to a crash.
       (<a href="http://bugs.mysql.com/39227" target="_top">Bug#39227</a>)</p></li><li><p>
        Using <code class="literal">Maria</code>, executing <code class="literal">FLUSH TABLES
        WITH READ LOCK</code> after a <code class="literal">LOCK TABLES</code>
        statement would lead to a crash.
       (<a href="http://bugs.mysql.com/39226" target="_top">Bug#39226</a>)</p></li><li><p>
        When using <code class="literal">Falcon</code> on ReiserFS file systems,
        the initial size of the serial log could cause problems during
        recovery if the size of the log file was less than 4KB. The
        minimum size of the serial log file has now been increased to
        8KB to address the problem.
       (<a href="http://bugs.mysql.com/39212" target="_top">Bug#39212</a>)</p></li><li><p>
        Running multiple <code class="literal">SELECT</code>,
        <code class="literal">INSERT</code>, <code class="literal">UPDATE</code> and
        <code class="literal">DELETE</code> queries on the
        <code class="literal">Maria</code> table could lead to a deadlock.
       (<a href="http://bugs.mysql.com/39210" target="_top">Bug#39210</a>)</p></li><li><p>
        For <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a>, the server
        could add a <code class="literal">/</code> character to the end of the
        backup path, even when the path ended with a file name rather
        than a directory name.
       (<a href="http://bugs.mysql.com/39189" target="_top">Bug#39189</a>)</p></li><li><p>
        The server could crash when attempting to insert duplicate empty
        strings into a <code class="literal">utf8</code> <code class="literal">SET</code>
        column.
       (<a href="http://bugs.mysql.com/39186" target="_top">Bug#39186</a>)</p></li><li><p>
        References to local variables in stored procedures are replaced
        with
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST(<em class="replaceable"><code>name</code></em>,
        <em class="replaceable"><code>value</code></em>)</code></a> when written to the
        binary log. However, an “<span class="quote">illegal mix of collation</span>”
        error might occur when executing the log contents if the value's
        collation differed from that of the variable. Now information
        about the variable collation is written as well.
       (<a href="http://bugs.mysql.com/39182" target="_top">Bug#39182</a>)</p></li><li><p>
        Building MySQL with <code class="literal">Falcon</code> support using Sun
        Studio 10 would fail due to GNU CC specific code within
        <code class="filename">MemoryManager.h</code>.
       (<a href="http://bugs.mysql.com/39181" target="_top">Bug#39181</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> failed on
        PowerMac platforms due to type casting problems.
       (<a href="http://bugs.mysql.com/39127" target="_top">Bug#39127</a>)</p></li><li><p>
        MySQL Backup was not handling several errors.
       (<a href="http://bugs.mysql.com/39089" target="_top">Bug#39089</a>)</p></li><li><p>
        When performing online <code class="literal">ALTER</code> operations that
        change the indexes on <code class="literal">Falcon</code> tables, the
        indexes could get out of synchronization, leading to a crash.
       (<a href="http://bugs.mysql.com/39081" target="_top">Bug#39081</a>)</p></li><li><p>
        Some warnings were being reported as errors.
       (<a href="http://bugs.mysql.com/39059" target="_top">Bug#39059</a>)</p></li><li><p>
        Queries of the form <code class="literal">SELECT ... REGEXP BINARY
        NULL</code> could lead to a hung or crashed server.
       (<a href="http://bugs.mysql.com/39021" target="_top">Bug#39021</a>)</p></li><li><p>
        Statements of the form <code class="literal">INSERT ... SELECT .. ON
        DUPLICATE KEY UPDATE <em class="replaceable"><code>col_name</code></em> =
        DEFAULT</code> could result in a server crash.
       (<a href="http://bugs.mysql.com/39002" target="_top">Bug#39002</a>)</p></li><li><p>
        Repeated <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE ... SELECT</code></a> statements, where the created table
        contained an <code class="literal">AUTO_INCREMENT</code> column, could
        lead to an assertion failure.
       (<a href="http://bugs.mysql.com/38821" target="_top">Bug#38821</a>)</p></li><li><p>
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> crashed if a trigger and
        an event had the same name.
       (<a href="http://bugs.mysql.com/38810" target="_top">Bug#38810</a>)</p></li><li><p>
        For deadlock between two transactions that required a timeout to
        resolve, all server tables became inaccessible for the duration
        of the deadlock.
       (<a href="http://bugs.mysql.com/38804" target="_top">Bug#38804</a>)</p></li><li><p>
        Running multiple <code class="literal">SELECT</code> operations on the
        same <code class="literal">Falcon</code> table could lead to an assertion
        within the <code class="literal">Transaction::initialize</code>. The same
        operation could also lead to a deadlock situation on the
        specified table.
       (<a href="http://bugs.mysql.com/38739" target="_top">Bug#38739</a>, <a href="http://bugs.mysql.com/38748" target="_top">Bug#38748</a>)</p></li><li><p>
        When inserting a string into a duplicate-key error message, the
        server could improperly interpret the string, resulting in a
        crash.
       (<a href="http://bugs.mysql.com/38701" target="_top">Bug#38701</a>)</p></li><li><p>
        A race condition between threads sometimes caused unallocated
        memory to be addressed.
       (<a href="http://bugs.mysql.com/38692" target="_top">Bug#38692</a>)</p></li><li><p>
        A server crash resulted from concurrent execution of a
        multiple-table <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> that used a
        <code class="literal">NATURAL</code> or <code class="literal">USING</code> join
        together with <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
        TABLES WITH READ LOCK</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> for the table being updated.
       (<a href="http://bugs.mysql.com/38691" target="_top">Bug#38691</a>)</p></li><li><p>
        On ActiveState Perl, <span><strong class="command">mysql-test-run.pl
        --start-and-exit</strong></span> started but did not exit.
       (<a href="http://bugs.mysql.com/38629" target="_top">Bug#38629</a>)</p></li><li><p>
        Executing a light <code class="literal">INSERT</code> and
        <code class="literal">UPDATE</code> workload with
        <a href="storage-engines.html#sysvar_falcon_index_chill_threshold"><code class="literal">falcon_index_chill_threshold</code></a>
        set to 4K and
        <a href="storage-engines.html#sysvar_falcon_record_chill_threshold"><code class="literal">falcon_record_chill_threshold</code></a>
        set to to 4K, MySQL could crash.
       (<a href="http://bugs.mysql.com/38566" target="_top">Bug#38566</a>)</p></li><li><p>
        A server crash resulted from execution of an
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> that used a derived table
        together with <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
        TABLES</code></a>.
       (<a href="http://bugs.mysql.com/38499" target="_top">Bug#38499</a>)</p></li><li><p>
        Stored procedures involving substrings could crash the server on
        certain platforms due to invalid memory reads.
       (<a href="http://bugs.mysql.com/38469" target="_top">Bug#38469</a>)</p></li><li><p>
        The binary log file name stored in the
        <code class="literal">binlog_file</code> column of the
        <code class="literal">mysql.backup_history</code> MySQL Backup table now
        is the file basename (the final component). Previously, the full
        path name was stored, but this could be too long for the column
        width.
       (<a href="http://bugs.mysql.com/38462" target="_top">Bug#38462</a>)</p></li><li><p>
        On Windows, starting the server with the
        <code class="option">--external-locking=1</code> option caused
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> to fail.
       (<a href="http://bugs.mysql.com/38342" target="_top">Bug#38342</a>)</p></li><li><p>
        Inserting data into columns within a <code class="literal">Falcon</code>
        table that contains columns with names containing accented
        characters would cause the data to be null (empty).
       (<a href="http://bugs.mysql.com/38304" target="_top">Bug#38304</a>)</p></li><li><p>
        The <a href="http://dev.mysql.com/doc/refman/5.1/en/innodb-parameters.html#sysvar_innodb_log_arch_dir" target="_top"><code class="literal">innodb_log_arch_dir</code></a> system
        variable is no longer available but was present in some of the
        sample option files included with MySQL distributions (such as
        <code class="filename">my-huge.cnf</code>). The line was present as a
        comment but uncommenting it would cause server startup failure
        so the line has been removed.
       (<a href="http://bugs.mysql.com/38249" target="_top">Bug#38249</a>)</p></li><li><p>
        Errors during server startup caused destruction of an
        uninitialized mutex and assertion failure.
       (<a href="http://bugs.mysql.com/37961" target="_top">Bug#37961</a>)</p></li><li><p>
        The handlerton-to-plugin mapping implementation did not free
        handler plugin references when the plugin was uninstalled,
        resulting in a server crash after several install/uninstall
        cycles. Also, on Mac OS X, the server crashed when trying to
        access an <code class="literal">EXAMPLE</code> table after the
        <code class="literal">EXAMPLE</code> plugin was installed.
       (<a href="http://bugs.mysql.com/37958" target="_top">Bug#37958</a>)</p></li><li><p>
        The server crashed if an argument to a stored procedure was a
        subquery that returned more than one row.
       (<a href="http://bugs.mysql.com/37949" target="_top">Bug#37949</a>)</p></li><li><p>
        When analyzing the possible index use cases, the server was
        incorrectly reusing an internal structure, leading to a server
        crash.
       (<a href="http://bugs.mysql.com/37943" target="_top">Bug#37943</a>)</p></li><li><p>
        Access checks were skipped for <a href="sql-syntax.html#show-procedure-status" title="12.5.6.29. SHOW PROCEDURE STATUS Syntax"><code class="literal">SHOW
        PROCEDURE STATUS</code></a> and <a href="sql-syntax.html#show-function-status" title="12.5.6.21. SHOW FUNCTION STATUS Syntax"><code class="literal">SHOW
        FUNCTION STATUS</code></a>, which could lead to a server crash or
        insufficient access checks in subsequent statements.
       (<a href="http://bugs.mysql.com/37908" target="_top">Bug#37908</a>)</p></li><li><p>
        Comparisons could hang for <code class="literal">SET</code> or
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> columns that used
        <code class="literal">latin2_czech_cs</code> collation.
       (<a href="http://bugs.mysql.com/37854" target="_top">Bug#37854</a>)</p></li><li><p>
        It was possible to create a tasblespace using the name of one of
        the <code class="literal">Falcon</code> system tablespaces,
        <code class="literal">FALCON_MASTER</code>,
        <code class="literal">FALCON_TEMPORARY</code>, or
        <code class="literal">FALCON_BACKLOG</code> without an error message being
        raised. A suitable error is now produced when an attempt is made
        to create a table with the same name as a
        <code class="literal">Falcon</code> system tablespace.
       (<a href="http://bugs.mysql.com/37668" target="_top">Bug#37668</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a> displayed
        “<span class="quote">copy to tmp table</span>” when no such copy was
        occurring.
       (<a href="http://bugs.mysql.com/37550" target="_top">Bug#37550</a>)</p></li><li><p>
        The <a href="functions.html#operator_equal-to"><code class="literal">&lt;=&gt;</code></a>
        operator could return incorrect results when comparing
        <code class="literal">NULL</code> to <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>, or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values.
       (<a href="http://bugs.mysql.com/37526" target="_top">Bug#37526</a>)</p></li><li><p>
        MySQL Backup was not consistently checking for
        <code class="literal">BSTREAM_ERROR</code> errors.
       (<a href="http://bugs.mysql.com/37522" target="_top">Bug#37522</a>)</p></li><li><p>
        The combination of a subquery with a <code class="literal">GROUP
        BY</code>, an aggregate function calculated outside the
        subquery, and a <code class="literal">GROUP BY</code> on the outer
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> could cause the server to
        crash.
       (<a href="http://bugs.mysql.com/37348" target="_top">Bug#37348</a>)</p></li><li><p>
        Incorrect <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> handling by
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> could result in a server
        crash.
       (<a href="http://bugs.mysql.com/37212" target="_top">Bug#37212</a>)</p></li><li><p>
        The <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL
        mode was ignored for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> and <code class="literal">SELECT INTO ... OUTFILE</code>.
        The setting is taken into account now.
       (<a href="http://bugs.mysql.com/37114" target="_top">Bug#37114</a>)</p></li><li><p>
        If thread-pooling was used and a connection attempt was denied
        on the grounds of exceeding the user limits, the number of
        active connections for that user was erroneously decreased
        twice. The difference between the actual number connections and
        the internal count could then cause debug builds of the server
        to raise an assertion.
       (<a href="http://bugs.mysql.com/36970" target="_top">Bug#36970</a>)</p></li><li><p>
        Long error messages for <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        could be truncated.
       (<a href="http://bugs.mysql.com/36854" target="_top">Bug#36854</a>)</p></li><li><p>
        Running in strict mode, with a
        <code class="literal">auto_increment_increment</code> and
        <code class="literal">auto_increment_offset</code> set to a value larger
        than supportedf by the specified auto increment column within a
        <code class="literal">Falcon</code> table, a crash would occur.
       (<a href="http://bugs.mysql.com/36473" target="_top">Bug#36473</a>)</p></li><li><p>
        In some cases, references to views were confused with references
        to anonymous tables and privilege checking was not performed.
       (<a href="http://bugs.mysql.com/36086" target="_top">Bug#36086</a>)</p></li><li><p>
        For crash reports on Windows, symbol names in stack traces were
        not correctly resolved.
       (<a href="http://bugs.mysql.com/35987" target="_top">Bug#35987</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-event" title="12.1.2. ALTER EVENT Syntax"><code class="literal">ALTER EVENT</code></a> changed the
        <code class="literal">PRESERVE</code> attribute of an event even when
        <code class="literal">PRESERVE</code> was not specified in the statement.
       (<a href="http://bugs.mysql.com/35981" target="_top">Bug#35981</a>)</p></li><li><p>
        Host name values in SQL statements were not being checked for
        <code class="literal">'@'</code>, which is illegal according to RFC952.
       (<a href="http://bugs.mysql.com/35924" target="_top">Bug#35924</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed on machines that had
        the host name set to <code class="literal">localhost</code>.
       (<a href="http://bugs.mysql.com/35754" target="_top">Bug#35754</a>)</p></li><li><p>
        Dynamic plugins failed to load on i5/OS.
       (<a href="http://bugs.mysql.com/35743" target="_top">Bug#35743</a>)</p></li><li><p>
        With the
        <a href="server-administration.html#sqlmode_pad_char_to_full_length"><code class="literal">PAD_CHAR_TO_FULL_LENGTH</code></a> SQL
        mode enabled, a <code class="literal">ucs2</code>
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column returned additional
        garbage after trailing space characters.
       (<a href="http://bugs.mysql.com/35720" target="_top">Bug#35720</a>)</p></li><li><p>
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> did not set the
        <code class="literal">validity_point_time</code>,
        <code class="literal">binlog_pos</code>, and
        <code class="literal">binlog_file</code> fields of the
        <code class="literal">backup_history</code> log table row.
       (<a href="http://bugs.mysql.com/35240" target="_top">Bug#35240</a>)</p></li><li><p>
        With binary logging enabled,
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> failed if the source table was a log table.
       (<a href="http://bugs.mysql.com/34306" target="_top">Bug#34306</a>)</p></li><li><p>
        If <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> and
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> were done in a session
        with autocommit disabled, a later <a href="sql-syntax.html#drop-table" title="12.1.23. DROP TABLE Syntax"><code class="literal">DROP
        TABLE</code></a> or <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> in the
        same session failed.
       (<a href="http://bugs.mysql.com/34204" target="_top">Bug#34204</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_secure_file_priv"><code class="literal">secure_file_priv</code></a> system
        variable now applies to <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> and <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        operations: If the value is nonempty, backup and restore
        operations can read and write files only in the given directory.
       (<a href="http://bugs.mysql.com/34171" target="_top">Bug#34171</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-real-connect" title="20.10.3.52. mysql_real_connect()"><code class="literal">mysql_real_connect()</code></a> did not
        check whether the <code class="literal">MYSQL</code> connection handler
        was already connected and connected again even if so. Now an
        <code class="literal">CR_ALREADY_CONNECTED</code> error occurs.
       (<a href="http://bugs.mysql.com/33831" target="_top">Bug#33831</a>)</p></li><li><p>
        Shutting down the MySQL Server immediately following the
        execution of a <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a>
        statement caused the server to crash if the database to be
        backed up contained any <code class="literal">Falcon</code> tables.
       (<a href="http://bugs.mysql.com/33575" target="_top">Bug#33575</a>)</p></li><li><p>
        The server crashed for <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> if the backup progress tables in the
        <code class="literal">mysql</code> database were missing or created
        incorrectly.
       (<a href="http://bugs.mysql.com/33352" target="_top">Bug#33352</a>)</p></li><li><p>
        <a href="sql-syntax.html#checksum-table" title="12.5.2.3. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM TABLE</code></a> was not killable
        with <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL QUERY</code></a>.
       (<a href="http://bugs.mysql.com/33146" target="_top">Bug#33146</a>)</p></li><li><p>
        A trigger for an <code class="literal">InnoDB</code> table activating
        multiple times could lead to <code class="literal">AUTO_INCREMENT</code>
        gaps.
       (<a href="http://bugs.mysql.com/31612" target="_top">Bug#31612</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> could fail to dump views containing
        a large number of columns.
       (<a href="http://bugs.mysql.com/31434" target="_top">Bug#31434</a>)</p></li><li><p>
        The server could improperly type user-defined variables used in
        the select list of a query.
       (<a href="http://bugs.mysql.com/26020" target="_top">Bug#26020</a>)</p></li><li><p>
        For access to the
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> table, the
        server did not check the <a href="server-administration.html#priv_show-view"><code class="literal">SHOW
        VIEW</code></a> and <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>
        privileges, leading to inconsistency between output from that
        table and the <a href="sql-syntax.html#show-create-view" title="12.5.6.14. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a>
        statement.
       (<a href="http://bugs.mysql.com/22763" target="_top">Bug#22763</a>)</p></li><li><p>
        <code class="literal">mysqld_safe</code> would sometimes fail to remove
        the pid file for the old <code class="literal">mysql</code> process after
        a crash. As a result, the server would fail to start due to a
        false <code class="literal">A mysqld process already exists...</code>
        error.
       (<a href="http://bugs.mysql.com/11122" target="_top">Bug#11122</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-7"></a>C.1.6. Changes in MySQL 6.0.7 (29 September 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> now supports
        <a href="programs.html#option_mysqlbinlog_verbose"><code class="option">--verbose</code></a> and
        <a href="programs.html#option_mysqlbinlog_base64-output"><code class="option">--base64-output=DECODE-ROWS</code></a>
        options to display row events as commented SQL statements. (The
        default otherwise is to display row events encoded as base-64
        strings using <a href="sql-syntax.html#binlog" title="12.5.7.1. BINLOG Syntax"><code class="literal">BINLOG</code></a> statements.)
        See <a href="programs.html#mysqlbinlog-row-events" title="4.6.8.2. mysqlbinlog Row Event Display">Section 4.6.8.2, “<span><strong class="command">mysqlbinlog</strong></span> Row Event Display”</a>.
       (<a href="http://bugs.mysql.com/31455" target="_top">Bug#31455</a>)</p></li><li><p>
        <code class="literal">Falcon</code> builds on AMD64 platforms now.
       (<a href="http://bugs.mysql.com/38535" target="_top">Bug#38535</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> now installs signal handlers and
        generates a stack trace if it crashes.
       (<a href="http://bugs.mysql.com/37003" target="_top">Bug#37003</a>)</p></li><li><p>
        A new system variable,
        <a href="server-administration.html#sysvar_backupdir"><code class="literal">backupdir</code></a>, enables the default
        directory to be specified for <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> and <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        operations when the image file path name is not a full path
        name. The default value for this variable is the data directory.
       (<a href="http://bugs.mysql.com/35230" target="_top">Bug#35230</a>)</p></li><li><p>
        The <code class="literal">mysql.online_backup</code> and
        <code class="literal">mysql.online_backup_progress</code> tables now have
        a default character set of <code class="literal">utf8</code> rather than
        <code class="literal">latin1</code>.
       (<a href="http://bugs.mysql.com/33836" target="_top">Bug#33836</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> was changed to be more robust in
        the case of a race condition that can occur for rapid
        disconnect/connect sequences with the server. The account used
        by <span><strong class="command">mysqltest</strong></span> could reach its allowed
        simultaneous-sessions user limit if the connect attempt occurred
        before the server had fully processed the preceding disconnect.
        <span><strong class="command">mysqltest</strong></span> now checks specificaly for a
        user-limits error when it connects; if that error occurs, it
        delays briefly before retrying.
       (<a href="http://bugs.mysql.com/23921" target="_top">Bug#23921</a>)</p></li><li><p>
        Previously, <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> did
        not back up privileges and
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> did not restore them. Now
        privileges for backed-up databases are saved. This includes
        privileges at the database level and below (table, column,
        routine). Global privileges are not saved. For additional
        information about how privileges are backed up, see
        <a href="backup-and-recovery.html#backup-database-restore-quick-guide" title="6.3.1. Quick Guide to MySQL Backup">Section 6.3.1, “Quick Guide to MySQL Backup”</a>.
      </p></li><li><p>
        A new session system variable,
        <a href="server-administration.html#sysvar_backup_wait_timeout"><code class="literal">backup_wait_timeout</code></a>, controls
        the number of seconds a <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> or <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        operation waits for a blocked DDL statements before aborting
        with an error.
      </p></li><li><p>
        The <a href="server-administration.html#priv_create-tablespace"><code class="literal">CREATE TABLESPACE</code></a> privilege
        has been introduced. This privilege exists at the global
        (superuser) level and enables you to create, alter, and drop
        tablespaces and logfile groups.
      </p></li><li><p>
        Improvements made to MySQL Backup (the
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> and
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> statements):
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            A native driver for the <code class="literal">MyISAM</code> storage
            engine is included. This results in faster times for backup
            and restore operations, although the size of backup image
            files is larger.
          </p></li></ul></div></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        The server consumed excess memory while parsing statements with
        hundreds or thousands of nested boolean conditions (such as
        <code class="literal">OR (OR ... (OR ... ))</code>). This could lead to a
        server crash or incorrect statement execution, or cause other
        client statements to fail due to lack of memory. The latter
        result constitutes a denial of service.
       (<a href="http://bugs.mysql.com/38296" target="_top">Bug#38296</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        There were some problems using <code class="function">DllMain()</code>
        hook functions on Windows that automatically do global and
        per-thread initialization for
        <code class="filename">libmysqld.dll</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Per-thread initialization: MySQL internally counts the
            number of active threads, which causes a delay in
            <code class="function">my_end()</code> if not all threads have
            exited. But there are threads that can be started either by
            Windows internally (often in TCP/IP scenarios) or by users.
            Those threads do not necessarily use
            <code class="filename">libmysql.dll</code> functionality but still
            contribute to the open-thread count. (One symptom is a
            five-second delay in times for PHP scripts to finish.)
          </p></li><li><p>
            Process-initialization:
            <a href="connectors-apis.html#my-init" title="20.10.8.1. my_init()"><code class="literal">my_init()</code></a> calls
            <code class="function">WSAStartup</code> that itself loads DLLs and
            can lead to a deadlock in the Windows loader.
          </p></li></ul></div><p>
        To correct these problems, DLL initialization code now is not
        invoked from <code class="filename">libmysql.dll</code> by default.
       (<a href="http://bugs.mysql.com/37226" target="_top">Bug#37226</a>, <a href="http://bugs.mysql.com/33031" target="_top">Bug#33031</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Some performance problems of
        <a href="sql-syntax.html#show-engine" title="12.5.6.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE INNODB
        STATUS</code></a> were reduced by removing <code class="literal">used
        cells</code> and <code class="literal">Total number of lock structs in row
        lock hash table</code> from the output. Now these values are
        present only if the <code class="literal">UNIV_DEBUG</code> symbol is
        defined at MySQL build time.
       (<a href="http://bugs.mysql.com/36941" target="_top">Bug#36941</a>, <a href="http://bugs.mysql.com/36942" target="_top">Bug#36942</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The <code class="literal">INFORMATION_SCHEMA.FALCON_TABLES</code> table
        has been removed.
       (<a href="http://bugs.mysql.com/29211" target="_top">Bug#29211</a>, <a href="http://bugs.mysql.com/34705" target="_top">Bug#34705</a>, <a href="http://bugs.mysql.com/34706" target="_top">Bug#34706</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        When a partitioned table had a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column defined with
        <code class="literal">CURRENT_TIMESTAMP</code> as the default but with no
        <code class="literal">ON UPDATE</code> clause, the column's value was
        incorrectly set to <code class="literal">CURRENT_TIMESTAMP</code> when
        updating across partitions.
       (<a href="http://bugs.mysql.com/38272" target="_top">Bug#38272</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        A <code class="literal">LIST</code> partitioned <code class="literal">MyISAM</code>
        table returned erroneous results when an index was present on a
        column in the <code class="literal">WHERE</code> clause and <code class="literal">NOT
        IN</code> was used on that column.
      </p><p>
        Searches using the index were also much slower then if the index
        were not present.
       (<a href="http://bugs.mysql.com/35931" target="_top">Bug#35931</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">SELECT COUNT(*)</code> was not correct for some
        partitioned tables using a storage engine that did not support
        <code class="literal">HA_STATS_RECORDS_IS_EXACT</code>. Tables using the
        <code class="literal">ARCHIVE</code> storage engine were known to be
        affected.
      </p><p>
        This was because <code class="literal">ha_partition::records()</code> was
        not implemented, and so the default
        <code class="literal">handler::records()</code> was used in its place.
        However, this is not correct behavior if the storage engine does
        not support <code class="literal">HA_STATS_RECORDS_IS_EXACT</code>.
      </p><p>
        The solution was to implement
        <code class="literal">ha_partition::records()</code> as a wrapper around
        the underlying partition records.
      </p><p>
        As a result of this fix, the rows column in the output of
        <code class="literal">EXPLAIN PARTITIONS</code> now includes the total
        number of records in the partitioned table.
       (<a href="http://bugs.mysql.com/35745" target="_top">Bug#35745</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Server code used in binary logging could in some cases be
        invoked even though binary logging was not actually enabled,
        leading to asserts and other server errors.
       (<a href="http://bugs.mysql.com/38798" target="_top">Bug#38798</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Row-based replication broke for <code class="literal">utf8</code>
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns longer than 85
        characters.
       (<a href="http://bugs.mysql.com/37426" target="_top">Bug#37426</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> was set equal
        to <code class="literal">1</code> after starting a transaction, the binary
        log did not commit the outstanding transaction. The reason this
        happened was that the binary log commit function saw only the
        values of the new settings, and decided that there was nothing
        to commit.
      </p><p>
        This issue was first observed when using the
        <code class="literal">Falcon</code> storage engine, but it is possible
        that it affected other storage engines as well.
       (<a href="http://bugs.mysql.com/37221" target="_top">Bug#37221</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Some kinds of internal errors, such as <span class="errortext">Out of
        memory</span> errors, could cause the server to crash when
        replicating statements with user variables.
      </p><p>
        certain internal errors.
       (<a href="http://bugs.mysql.com/37150" target="_top">Bug#37150</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Row-based replication did not correctly copy
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> values from a
        big-endian storage engine to a little-endian storage engine.
       (<a href="http://bugs.mysql.com/37076" target="_top">Bug#37076</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The
        <code class="option">--replicate-<em class="replaceable"><code>*</code></em>-table</code>
        options were not evaluated correctly when replicating
        multi-table updates.
      </p><p>
        As a result of this fix, replication of multi-table updates no
        longer fails when an update references a missing table but does
        not update any of its columns.
       (<a href="http://bugs.mysql.com/37051" target="_top">Bug#37051</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Performing an insert on a table having an
        <code class="literal">AUTO_INCREMENT</code> column and an
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> trigger that was being
        replicated from a master running MySQL 5.0 or any version of
        MySQL 5.1 up to and including MySQL 5.1.11 to a slave running
        MySQL 5.1.12 or later caused the replication slave to crash.
       (<a href="http://bugs.mysql.com/36443" target="_top">Bug#36443</a>)</p><p>See also <a href="http://bugs.mysql.com/33029" target="_top">Bug#33029</a>.</p></li><li><p>
        Multiple concurrent inserts to a <code class="literal">Maria</code> table
        could lead to a deadlock situation.
       (<a href="http://bugs.mysql.com/39363" target="_top">Bug#39363</a>)</p></li><li><p>
        When renaming a <code class="literal">Falcon</code> table the
        corresponding indexes could become corrupt or unavailable.
       (<a href="http://bugs.mysql.com/39354" target="_top">Bug#39354</a>)</p></li><li><p>
        When performing an online <code class="literal">DROP INDEX</code> on a
        <code class="literal">Falcon</code> table, the operation may conflict with
        other index operations such as including index scans. When one
        client drops an index, another client may initiate a concurrent
        index operation that accesses the mapping object of the index
        being dropped, and this can cause a crash.
       (<a href="http://bugs.mysql.com/39349" target="_top">Bug#39349</a>, <a href="http://bugs.mysql.com/39350" target="_top">Bug#39350</a>, <a href="http://bugs.mysql.com/39845" target="_top">Bug#39845</a>, <a href="http://bugs.mysql.com/39846" target="_top">Bug#39846</a>)</p></li><li><p>
        Explicitly running an online index operation on a
        <code class="literal">Falcon</code> table using <code class="literal">ALTER ONLINE
        TABLE ...</code> would fail with an error specifying that the
        specified operation was not supported.
       (<a href="http://bugs.mysql.com/39347" target="_top">Bug#39347</a>)</p></li><li><p>
        Running <code class="literal">LOAD DATA INFILE</code> on a large source
        data into a <code class="literal">Falcon</code> table with millions of
        rows, a crash could occur.
       (<a href="http://bugs.mysql.com/39296" target="_top">Bug#39296</a>)</p></li><li><p>
        Compiling <code class="literal">Falcon</code> on Solaris SPARC or x86
        using the Sun Studio 12 compiler would lead to exceptions being
        disabled. Exceptions are required by Falcon and the build and
        binary would ultimately fail during execution.
       (<a href="http://bugs.mysql.com/39241" target="_top">Bug#39241</a>)</p></li><li><p>
        Host name lookup failure could lead to a server crash.
       (<a href="http://bugs.mysql.com/39153" target="_top">Bug#39153</a>)</p></li><li><p>
        When recovering from a serial log containing many
        <code class="literal">CREATE TABLESPACE</code> and <code class="literal">DROP
        TABLESPACE</code> statements, <code class="literal">Falcon</code> could
        lose data from tablespaces not referenced by these statements.
       (<a href="http://bugs.mysql.com/39138" target="_top">Bug#39138</a>)</p><p>See also <a href="http://bugs.mysql.com/39789" target="_top">Bug#39789</a>.</p></li><li><p>
        When specifying an alternative log directory for
        <code class="literal">FALCON</code> using
        <code class="option">serial_log_directory</code> the operation would fail
        silently if the directory did not exist. MySQL will now fail to
        start if the serial log in the specified directory cannot be
        opened or created, or if the
        <code class="filename">falcon_master.fts</code> cannot be opened or
        created.
       (<a href="http://bugs.mysql.com/39098" target="_top">Bug#39098</a>, <a href="http://bugs.mysql.com/38377" target="_top">Bug#38377</a>)</p></li><li><p>
        <code class="literal">Falcon</code> key pages were written to the serial
        log in the wrong order. This had the potential to cause problems
        if a failure of the server occurred during recovery.
       (<a href="http://bugs.mysql.com/39025" target="_top">Bug#39025</a>)</p></li><li><p>
        <code class="literal">Falcon</code> could hang trying to perform an
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> in one transaction while
        waiting for another transaction to be committed or rolled back.
       (<a href="http://bugs.mysql.com/38947" target="_top">Bug#38947</a>)</p></li><li><p>
        It was not possible to build the server with
        <code class="literal">Falcon</code> support on SPARC when using the Sun
        Studio compiler.
       (<a href="http://bugs.mysql.com/38891" target="_top">Bug#38891</a>)</p></li><li><p>
        On Solaris platforms, when the server was built with
        <code class="literal">Falcon</code> support and the data directory set in
        user's home directory, <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a>
        failed.
       (<a href="http://bugs.mysql.com/38843" target="_top">Bug#38843</a>)</p></li><li><p>
        <code class="literal">Falcon</code> did not honor the
        <a href="server-administration.html#option_mysqld_datadir"><code class="option">--datadir</code></a> option and created its
        files in the current directory instead. This error was apparent
        only when running the embedded version of MySQL.
       (<a href="http://bugs.mysql.com/38770" target="_top">Bug#38770</a>)</p></li><li><p>
        When built with <code class="literal">Falcon</code> support on 64-bit
        SPARC platforms, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> hung on startup. This
        occurred whether Sun Studio or <span><strong class="command">gcc</strong></span> was used
        to compile the server.
       (<a href="http://bugs.mysql.com/38766" target="_top">Bug#38766</a>)</p></li><li><p>
        <code class="literal">Falcon</code> did not build on Linux with Valgrind
        enabled.
       (<a href="http://bugs.mysql.com/38746" target="_top">Bug#38746</a>)</p></li><li><p>
        Performing a <code class="literal">DELETE</code> on a
        <code class="literal">Maria</code> table where the table has been locked
        using <code class="literal">LOCK TABLE ... WRITE CONCURRENT</code> would
        result in an assertion failure.
       (<a href="http://bugs.mysql.com/38606" target="_top">Bug#38606</a>)</p></li><li><p>
        When using <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> on MySQL built
        with Sun Studio 12 with the
        <a href="installing.html#option_configure_with-debug"><code class="option">--with-debug</code></a> option enabled,
        the server would crash.
       (<a href="http://bugs.mysql.com/38594" target="_top">Bug#38594</a>)</p></li><li><p>
        Server-side cursors were not initialized properly, which could
        cause a server crash.
       (<a href="http://bugs.mysql.com/38486" target="_top">Bug#38486</a>)</p></li><li><p>
        A server crash or Valgrind warnings could result when a stored
        procedure selected from a view that referenced a function.
       (<a href="http://bugs.mysql.com/38291" target="_top">Bug#38291</a>)</p></li><li><p>
        A failure to clean up binary log events was corrected (detected
        by Valgrind).
       (<a href="http://bugs.mysql.com/38290" target="_top">Bug#38290</a>)</p></li><li><p>
        Queries containing a subquery with <code class="literal">DISTINCT</code>
        and <code class="literal">ORDER BY</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/38191" target="_top">Bug#38191</a>)</p></li><li><p>
        <code class="literal">CREATE TABLESPACE</code> failed when invoked
        immediately following a <code class="literal">DROP TABLESPACE</code>
        statement that used the same tablespace name.
       (<a href="http://bugs.mysql.com/38186" target="_top">Bug#38186</a>, <a href="http://bugs.mysql.com/38743" target="_top">Bug#38743</a>)</p></li><li><p>
        Over-aggressive lock acquisition by <code class="literal">InnoDB</code>
        when calculating free space for tablespaces could result in
        performance degradation when multiple threads were executing
        statements on multi-core machines.
       (<a href="http://bugs.mysql.com/38185" target="_top">Bug#38185</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a> caused a problem such that on Unix, MySQL
        programs looked for options in <code class="filename">~/my.cnf</code>
        rather than the standard location of
        <code class="filename">~/.my.cnf</code>.
       (<a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>)</p></li><li><p>
        <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> values could have hyphens
        in the wrong place.
       (<a href="http://bugs.mysql.com/38160" target="_top">Bug#38160</a>)</p></li><li><p>
        Queries with a <code class="literal">HAVING</code> clause could return a
        spurious row.
       (<a href="http://bugs.mysql.com/38072" target="_top">Bug#38072</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> tables with non-ASCII characters in
        their names could not be backed up because the
        <code class="literal">MyISAM</code> native backup driver did not handle
        them properly.
       (<a href="http://bugs.mysql.com/38045" target="_top">Bug#38045</a>)</p></li><li><p>
        Dropping and re-creating a <code class="literal">Falcon</code> table, then
        adding indexes to the re-created table, could cause spurious
        errors or possibly a crash of the server.
       (<a href="http://bugs.mysql.com/38039" target="_top">Bug#38039</a>)</p></li><li><p>
        If the table definition cache contained tables with many
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns, much memory could
        be allocated to caching <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        values. Now a size limit on the cached
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values is enforced.
       (<a href="http://bugs.mysql.com/38002" target="_top">Bug#38002</a>)</p></li><li><p>
        The server returned incorrect results for <code class="literal">WHERE ... OR
        ... GROUP BY</code> queries against <code class="literal">InnoDB</code>
        tables.
       (<a href="http://bugs.mysql.com/37977" target="_top">Bug#37977</a>)</p></li><li><p>
        <a href="functions.html#function_sum"><code class="literal">SUM(DISTINCT)</code></a> and
        <a href="functions.html#function_avg"><code class="literal">AVG(DISTINCT)</code></a> for an empty result
        set in a subquery were not properly handled as being able to
        return <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/37891" target="_top">Bug#37891</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ORDER BY ...
        DESC</code> sometimes returned results in ascending order.
       (<a href="http://bugs.mysql.com/37830" target="_top">Bug#37830</a>)</p></li><li><p>
        The server returned unexpected results if a right side of the
        <code class="literal">NOT IN</code> clause consisted of the
        <code class="literal">NULL</code> value and some constants of the same
        type. For example, this query might return 3, 4, 5, and so forth
        if a table contained those values:
      </p><pre class="programlisting">SELECT * FROM t WHERE NOT t.id IN (NULL, 1, 2);
</pre><p>(<a href="http://bugs.mysql.com/37761" target="_top">Bug#37761</a>)</p></li><li><p>
        Executing large numbers of SQL statements using
        <code class="literal">LIMIT</code> on <code class="literal">Falcon</code> tables
        eventually led to a crash of the server.
       (<a href="http://bugs.mysql.com/37726" target="_top">Bug#37726</a>)</p></li><li><p>
        Setting the session value of the
        <a href="storage-engines.html#sysvar_innodb_table_locks"><code class="literal">innodb_table_locks</code></a> system
        variable caused a server crash.
       (<a href="http://bugs.mysql.com/37669" target="_top">Bug#37669</a>)</p></li><li><p>
        Nesting of <a href="functions.html#function_if"><code class="literal">IF()</code></a> inside of
        <a href="functions.html#function_sum"><code class="literal">SUM()</code></a> could cause an extreme
        server slowdown.
       (<a href="http://bugs.mysql.com/37662" target="_top">Bug#37662</a>)</p></li><li><p>
        For <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a>, if the
        <code class="literal">WITH COMPRESSION</code> clause was not used, an
        uninitialized variable could cause unpredictable results.
       (<a href="http://bugs.mysql.com/37654" target="_top">Bug#37654</a>)</p></li><li><p>
        Killing a query that used an <code class="literal">EXISTS</code> subquery
        as the argument to <a href="functions.html#function_sum"><code class="literal">SUM()</code></a> or
        <a href="functions.html#function_avg"><code class="literal">AVG()</code></a> caused a server crash.
       (<a href="http://bugs.mysql.com/37627" target="_top">Bug#37627</a>)</p></li><li><p>
        mysqld failed to build using the Sun Studio compiler.
       (<a href="http://bugs.mysql.com/37603" target="_top">Bug#37603</a>)</p></li><li><p>
        When using indexed <code class="literal">ORDER BY</code> sorting,
        incorrect query results could be produced if the optimizer
        switched from a covering index to a non-covering index.
       (<a href="http://bugs.mysql.com/37548" target="_top">Bug#37548</a>)</p></li><li><p>
        After <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for an <code class="literal">InnoDB</code> table,
        inserting explicit values into an
        <code class="literal">AUTO_INCREMENT</code> column could fail to increment
        the counter and result in a duplicate-key error for subsequent
        insertion of <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/37531" target="_top">Bug#37531</a>)</p></li><li><p>
        For a <code class="literal">MyISAM</code> table with <code class="literal">CHECKSUM =
        1</code> and <code class="literal">ROW_FORMAT = DYNAMIC</code> table
        options, a data consistency check (maximum record length) could
        fail and cause the table to be marked as corrupted.
       (<a href="http://bugs.mysql.com/37310" target="_top">Bug#37310</a>)</p></li><li><p>
        The <code class="literal">max_length</code> result set metadata value was
        calculated incorrectly under some circumstances.
       (<a href="http://bugs.mysql.com/37301" target="_top">Bug#37301</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_optimizer_switch"><code class="literal">optimizer_switch</code></a> system
        variable takes a comma-separated list of values, but only the
        first value in the list was used.
       (<a href="http://bugs.mysql.com/37120" target="_top">Bug#37120</a>)</p></li><li><p>
        Executing <code class="literal">ALTER TABLE ADD PARTITION</code> followed
        by <code class="literal">ALTER TABLE DROP PARTITION</code> on a Falcon
        table, and then killing the thread performing these statements
        could cause the server to crash.
       (<a href="http://bugs.mysql.com/37072" target="_top">Bug#37072</a>)</p></li><li><p>
        <code class="literal">NOT IN</code> subqueries that selected
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> values but produced an
        empty result could cause a server crash.
       (<a href="http://bugs.mysql.com/37004" target="_top">Bug#37004</a>)</p></li><li><p>
        A server crash resulted from attempts at semi-join and
        materialization optimizations for subqueries with a parent of
        <code class="literal">SELECT ... FROM DUAL</code>.
       (<a href="http://bugs.mysql.com/36896" target="_top">Bug#36896</a>)</p></li><li><p>
        Server crashed when starting a new <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> or <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        statement while a <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a>
        or <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> was ongoing.
       (<a href="http://bugs.mysql.com/36795" target="_top">Bug#36795</a>)</p></li><li><p>
        The <code class="literal">CSV</code> storage engine returned success even
        when it failed to open a table's data file.
       (<a href="http://bugs.mysql.com/36638" target="_top">Bug#36638</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT
        DISTINCT</code></a> from a simple view on an
        <code class="literal">InnoDB</code> table, where all selected columns
        belong to the same unique index key, returned incorrect results.
       (<a href="http://bugs.mysql.com/36632" target="_top">Bug#36632</a>)</p></li><li><p>
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> could fail if the server
        on which the restore operation took place had enabled triggers
        or events.
       (<a href="http://bugs.mysql.com/36530" target="_top">Bug#36530</a>)</p></li><li><p>
        The parser incorrectly allowed MySQL error code 0 to be
        specified for a condition handler. (This is incorrect because
        the condition must be a failure condition and 0 indicates
        success.)
       (<a href="http://bugs.mysql.com/36510" target="_top">Bug#36510</a>)</p></li><li><p>
        <a href="functions.html#function_char"><code class="literal">CHAR(256 USING utf32)</code></a> could
        generate a result with an incorrect length and result in a
        server crash.
       (<a href="http://bugs.mysql.com/36418" target="_top">Bug#36418</a>)</p></li><li><p>
        If initialization of an <code class="literal">INFORMATION_SCHEMA</code>
        plugin failed, <a href="sql-syntax.html#install-plugin" title="12.5.4.3. INSTALL PLUGIN Syntax"><code class="literal">INSTALL PLUGIN</code></a>
        freed some internal plugin data twice.
       (<a href="http://bugs.mysql.com/36399" target="_top">Bug#36399</a>)</p></li><li><p>
        When the fractional part in a multiplication of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values overflowed, the
        server truncated the first operand rather than the longest. Now
        the server truncates so as to produce more precise
        multiplications.
       (<a href="http://bugs.mysql.com/36270" target="_top">Bug#36270</a>)</p></li><li><p>
        The server could crash with an assertion failure (or cause the
        client to get a “<span class="quote">Packets out of order</span>” error) when
        the expected query result was that it should terminate with a
        “<span class="quote">Subquery returns more than 1 row</span>” error.
       (<a href="http://bugs.mysql.com/36135" target="_top">Bug#36135</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> statements
        with interleaving transactions could cause
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/35991" target="_top">Bug#35991</a>)</p><p>See also <a href="http://bugs.mysql.com/22165" target="_top">Bug#22165</a>.</p></li><li><p>
        When using both an <code class="literal">INSERT BEFORE</code> trigger to
        create a row and <code class="literal">AFTER INSERT</code> trigger to
        delete the same row on a <code class="literal">FALCON</code> table, the
        record count as reported by <code class="literal">SHOW TABLE STATUS</code>
        could get out of sync with the actual record contents. This was
        caused by the changes now being correctly updated in the table
        status information.
       (<a href="http://bugs.mysql.com/35939" target="_top">Bug#35939</a>)</p></li><li><p>
        Multiple threads executing repeated queries on the same
        <code class="literal">Falcon</code> table led eventually to a crash of the
        server.
       (<a href="http://bugs.mysql.com/35932" target="_top">Bug#35932</a>, <a href="http://bugs.mysql.com/36410" target="_top">Bug#36410</a>)</p></li><li><p>
        The <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> function returned
        UUIDs with the wrong time; this was because the offset for the
        time part in UUIDs was miscalculated.
       (<a href="http://bugs.mysql.com/35848" target="_top">Bug#35848</a>)</p></li><li><p>
        The <span><strong class="command">configure</strong></span> script did not allow
        <code class="literal">utf8_hungarian_ci</code> to be specified as the
        default collation.
       (<a href="http://bugs.mysql.com/35808" target="_top">Bug#35808</a>)</p></li><li><p>
        For <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a>, the parser did
        not enforce that parentheses were present in a <code class="literal">CHECK
        (<em class="replaceable"><code>expr</code></em>)</code> clause; now it does.
        The parser did not enforce that <code class="literal">CONSTRAINT
        [<em class="replaceable"><code>symbol</code></em>]</code> without a
        following <code class="literal">CHECK</code> clause was illegal; now it
        does.
       (<a href="http://bugs.mysql.com/35578" target="_top">Bug#35578</a>, <a href="http://bugs.mysql.com/11714" target="_top">Bug#11714</a>, <a href="http://bugs.mysql.com/38696" target="_top">Bug#38696</a>)</p></li><li><p>
        Freeing of an internal parser stack during parsing of complex
        stored programs caused a server crash.
       (<a href="http://bugs.mysql.com/35577" target="_top">Bug#35577</a>, <a href="http://bugs.mysql.com/37269" target="_top">Bug#37269</a>, <a href="http://bugs.mysql.com/37228" target="_top">Bug#37228</a>)</p></li><li><p>
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> left temporary files on the disk
        after shutdown, leading to the pollution of the temporary
        directory, which eventually caused
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> to fail. This caused problems in
        testing and other situations where
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> might be invoked many times in a
        relatively short period of time.
       (<a href="http://bugs.mysql.com/35543" target="_top">Bug#35543</a>)</p></li><li><p>
        The code for detecting a byte order mark (BOM) caused
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to crash for empty input.
       (<a href="http://bugs.mysql.com/35480" target="_top">Bug#35480</a>)</p></li><li><p>
        Index scans performed with the <code class="literal">sort_union()</code>
        access method returned wrong results, caused memory to be
        leaked, and caused temporary files to be deleted when the limit
        set by <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a> was
        reached.
       (<a href="http://bugs.mysql.com/35477" target="_top">Bug#35477</a>, <a href="http://bugs.mysql.com/35478" target="_top">Bug#35478</a>)</p></li><li><p>
        For uncorrelated subqueries without a <code class="literal">WHERE</code>
        clause, use of semi-join or materialization options could result
        in slow performance, or use of the LooseScan strategy could
        produce incorrect results.
       (<a href="http://bugs.mysql.com/35468" target="_top">Bug#35468</a>)</p></li><li><p>
        <code class="literal">CSV</code> tables with
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns caused
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> to produce a
        server crash.
       (<a href="http://bugs.mysql.com/35117" target="_top">Bug#35117</a>)</p></li><li><p>
        If a view depended on a base table that had been dropped,
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> caused a server
        crash.
       (<a href="http://bugs.mysql.com/34902" target="_top">Bug#34902</a>)</p></li><li><p>
        If a view was altered before backing up a database,
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> caused a server
        crash.
       (<a href="http://bugs.mysql.com/34867" target="_top">Bug#34867</a>)</p></li><li><p>
        Table checksum calculation could cause a server crash for
        <code class="literal">FEDERATED</code> tables with
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns containing
        <code class="literal">NULL</code> values.
       (<a href="http://bugs.mysql.com/34779" target="_top">Bug#34779</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> caused a server
        crash if it attempted to back up a view that depended on another
        view.
       (<a href="http://bugs.mysql.com/34758" target="_top">Bug#34758</a>, <a href="http://bugs.mysql.com/35347" target="_top">Bug#35347</a>)</p></li><li><p>
        A significant slowdown occurred when many
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements that return
        many rows from <code class="literal">InnoDB</code> tables were running
        concurrently.
       (<a href="http://bugs.mysql.com/34409" target="_top">Bug#34409</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if the server was
        running with an SQL mode of
        <a href="server-administration.html#sqlmode_traditional"><code class="literal">TRADITIONAL</code></a>. This program now
        resets the SQL mode internally to avoid this problem.
       (<a href="http://bugs.mysql.com/34159" target="_top">Bug#34159</a>)</p></li><li><p>
        Changes to build files were made to enable the MySQL
        distribution to compile on Microsoft Visual C++ Express 2008.
       (<a href="http://bugs.mysql.com/33907" target="_top">Bug#33907</a>)</p></li><li><p>
        Fast <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> operations were
        not fast for columns that used multibyte character sets.
       (<a href="http://bugs.mysql.com/33873" target="_top">Bug#33873</a>)</p></li><li><p>
        <code class="literal">ORDER BY</code> failed to take into account accents
        and lettercases in multi-level collations
        (<code class="literal">latin2_czech_cs</code> and
        <code class="literal">cp1250_czech_cs</code>).
       (<a href="http://bugs.mysql.com/33791" target="_top">Bug#33791</a>, <a href="http://bugs.mysql.com/30462" target="_top">Bug#30462</a>)</p></li><li><p>
        The internal functions <code class="function">my_getsystime()</code>,
        <code class="function">my_micro_time()</code>, and
        <code class="function">my_micro_time_and_time()</code> did not work
        correctly on Windows. One symptom was that uniqueness of
        <a href="functions.html#function_uuid"><code class="literal">UUID()</code></a> values could be
        compromised.
       (<a href="http://bugs.mysql.com/33748" target="_top">Bug#33748</a>)</p></li><li><p>
        The <a href="sql-syntax.html#show-function-code" title="12.5.6.20. SHOW FUNCTION CODE Syntax"><code class="literal">SHOW FUNCTION CODE</code></a> and
        <a href="sql-syntax.html#show-procedure-code" title="12.5.6.28. SHOW PROCEDURE CODE Syntax"><code class="literal">SHOW PROCEDURE CODE</code></a> statements
        are not present in non-debug builds, but attempting to use them
        resulted in a “<span class="quote">syntax error</span>” message. Now the error
        message indicates that the statements are disabled and that you
        must use a debug build.
       (<a href="http://bugs.mysql.com/33637" target="_top">Bug#33637</a>)</p></li><li><p>
        If a large number of databases were named in the
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> statement, the
        server crashed.
       (<a href="http://bugs.mysql.com/33568" target="_top">Bug#33568</a>)</p></li><li><p>
        Cached queries that used 256 or more tables were not properly
        cached, so that later query invalidation due to a
        <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for one of the tables caused the server to hang.
       (<a href="http://bugs.mysql.com/33362" target="_top">Bug#33362</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> did not properly
        set the flags in the first two bytes of the backup image.
       (<a href="http://bugs.mysql.com/33120" target="_top">Bug#33120</a>)</p></li><li><p>
        Unindexed <code class="literal">ORDER BY</code> did not work on short
        <code class="literal">utf32</code> columns, or on <code class="literal">utf16</code>
        columns with a short
        <a href="server-administration.html#sysvar_max_sort_length"><code class="literal">max_sort_length</code></a> value.
       (<a href="http://bugs.mysql.com/33073" target="_top">Bug#33073</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> followed by
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> could mangle object names
        if a non-standard charset was used.
       (<a href="http://bugs.mysql.com/33023" target="_top">Bug#33023</a>)</p></li><li><p>
        After an upgrade to MySQL 6.0.4 or higher, columns that used the
        old 3-byte Unicode <code class="literal">utf8</code> character set are
        treated as having the <code class="literal">utf8mb3</code> character set.
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> did not convert all system
        tables in the <code class="literal">mysql</code> database to use the new
        4-byte Unicode <code class="literal">utf8</code> character set rather than
        <code class="literal">utf8mb3</code>. This caused problems such as that
        the event scheduler would not start.
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> now performs the
        <code class="literal">utf8mb3</code> to <code class="literal">utf8</code> conversion
        for system tables.
       (<a href="http://bugs.mysql.com/33002" target="_top">Bug#33002</a>, <a href="http://bugs.mysql.com/33053" target="_top">Bug#33053</a>)</p></li><li><p>
        It was possible to insert invalid Unicode characters (with code
        point values greater than U+10FFFF) into <code class="literal">utf8</code>
        and <code class="literal">utf32</code> columns.
       (<a href="http://bugs.mysql.com/32914" target="_top">Bug#32914</a>)</p></li><li><p>
        <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a> constructs cannot contain
        <code class="literal">SELECT ... INTO</code> except in the final
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>. However, if a
        <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a> was used in a subquery and
        an <code class="literal">INTO</code> clause appeared in the top-level
        query, the parser interpreted it as having appeared in the
        <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a> and raised an error.
       (<a href="http://bugs.mysql.com/32858" target="_top">Bug#32858</a>)</p></li><li><p>
        Inserting <code class="literal">CURRENT_TIME</code>,
        <code class="literal">CURRENT_DATE</code>, or
        <code class="literal">CURRENT_TIMESTAMP</code> into a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column didn't work for
        non-ASCII character sets such as <code class="literal">ucs2</code>,
        <code class="literal">utf16</code>, or <code class="literal">utf32</code>.
       (<a href="http://bugs.mysql.com/32390" target="_top">Bug#32390</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> attempted to use the
        <code class="filename">/proc</code> file system even on systems that do
        not have it.
       (<a href="http://bugs.mysql.com/31605" target="_top">Bug#31605</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if run with the
        default table type set to <code class="literal">NDB</code>.
       (<a href="http://bugs.mysql.com/31315" target="_top">Bug#31315</a>)</p></li><li><p>
        Making <code class="literal">INFORMATION_SCHEMA</code> the default
        database caused the <code class="literal">DROP TABLESPACE</code> statement
        to be disabled.
       (<a href="http://bugs.mysql.com/31302" target="_top">Bug#31302</a>)</p></li><li><p>
        Several MySQL programs could fail if the <code class="literal">HOME</code>
        environment variable had an empty value.
       (<a href="http://bugs.mysql.com/30394" target="_top">Bug#30394</a>)</p></li><li><p>
        The Serbian translation for the
        <code class="literal">ER_INCORRECT_GLOBAL_LOCAL_VAR</code> error was
        corrected.
       (<a href="http://bugs.mysql.com/29738" target="_top">Bug#29738</a>)</p></li><li><p>
        The <span><strong class="command">BUILD/check-cpu</strong></span> build script failed if
        <span><strong class="command">gcc</strong></span> had a different name (such as
        <span><strong class="command">gcc.real</strong></span> on Debian).
       (<a href="http://bugs.mysql.com/27526" target="_top">Bug#27526</a>)</p></li><li><p>
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> could not be used to
        add columns to a table if the table had an index on a
        <code class="literal">utf8</code> column with a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> data type.
       (<a href="http://bugs.mysql.com/26180" target="_top">Bug#26180</a>)</p></li><li><p>
        The XPath <code class="literal">boolean()</code> function did not cast
        string and nodeset values correctly in some cases. It now
        returns <code class="literal">TRUE</code> for any non-empty string or
        nodeset and 0 for a <code class="literal">NULL</code> string, as specified
        in the XPath standard..
       (<a href="http://bugs.mysql.com/26051" target="_top">Bug#26051</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> with
        interleaving transactions could cause <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        to crash.
       (<a href="http://bugs.mysql.com/22165" target="_top">Bug#22165</a>)</p></li><li><p>
        The <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> statement did not produce an error when it
        failed.
       (<a href="http://bugs.mysql.com/21226" target="_top">Bug#21226</a>)</p></li><li><p>
        After executing a prepared statement that accesses a stored
        function, the next execution would fail to find the function if
        the stored function cache was flushed in the meantime.
       (<a href="http://bugs.mysql.com/12093" target="_top">Bug#12093</a>, <a href="http://bugs.mysql.com/21294" target="_top">Bug#21294</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> did not work for errors described in
        the <code class="filename">sql/share/errmsg.txt</code> file.
       (<a href="http://bugs.mysql.com/10143" target="_top">Bug#10143</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-6"></a>C.1.7. Changes in MySQL 6.0.6 (11 August 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">FEDERATED</code> storage engine is now disabled
        by default in binary distributions. The engine is still
        available and can be enabled by starting the server with the
        <code class="option">--federated</code> option.
       (<a href="http://bugs.mysql.com/37069" target="_top">Bug#37069</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">engines</code> column in the
        <code class="literal">mysql.online_backup</code> table has been renamed to
        <code class="literal">drivers</code> to better reflect its contents.
       (<a href="http://bugs.mysql.com/34965" target="_top">Bug#34965</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        A change has been made to the way that the server handles
        prepared statements. This affects prepared statements processed
        at the SQL level (using the
        <a href="sql-syntax.html#prepare" title="12.7.1. PREPARE Syntax"><code class="literal">PREPARE</code></a> statement) and those
        processed using the binary client-server protocol (using the
        <a href="connectors-apis.html#mysql-stmt-prepare" title="20.10.7.21. mysql_stmt_prepare()"><code class="literal">mysql_stmt_prepare()</code></a> C API
        function).
      </p><p>
        Previously, changes to metadata of tables or views referred to
        in a prepared statement could cause a server crash when the
        statement was next executed, or perhaps an error at execute time
        with a crash occurring later. For example, this could happen
        after dropping a table and recreating it with a different
        definition.
      </p><p>
        Now metadata changes to tables or views referred to by prepared
        statements are detected and cause automatic repreparation of the
        statement when it is next executed. Metadata changes occur for
        DDL statements such as those that create, drop, alter, rename,
        or truncate tables, or that analyze, optimize, or repair tables.
        Repreparation also occurs after referenced tables or views are
        flushed from the table definition cache, either implicitly to
        make room for new entries in the cache, or explicitly due to
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLES</code></a>.
      </p><p>
        Repreparation is automatic, but to the extent that it occurs,
        performance of prepared statements is diminished.
      </p><p>
        Table content changes (for example, with
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>) do not cause
        repreparation, nor do <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>
        statements.
      </p><p>
        An incompatibility with previous versions of MySQL is that a
        prepared statement may now return a different set of columns or
        different column types from one execution to the next. For
        example, if the prepared statement is <code class="literal">SELECT * FROM
        t1</code>, altering <code class="literal">t1</code> to contain a
        different number of columns causes the next execution to return
        a number of columns different from the previous execution.
      </p><p>
        Older versions of the client library cannot handle this change
        in behavior. For applications that use prepared statements with
        the new server, an upgrade to the new client library is strongly
        recommended.
      </p><p>
        Along with this change to statement repreparation, the default
        value of the
        <a href="server-administration.html#sysvar_table_definition_cache"><code class="literal">table_definition_cache</code></a> system
        variable has been increased from 128 to 256. The purpose of this
        increase is to lessen the chance that prepared statements will
        need repreparation due to referred-to tables/views having been
        flushed from the cache to make room for new entries.
      </p><p>
        A new status variable, <code class="literal">Com_stmt_reprepare</code>,
        has been introduced to track the number of repreparations.
       (<a href="http://bugs.mysql.com/27420" target="_top">Bug#27420</a>, <a href="http://bugs.mysql.com/27430" target="_top">Bug#27430</a>, <a href="http://bugs.mysql.com/27690" target="_top">Bug#27690</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        Some changes were made to
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ... FOR
        UPGRADE</code></a> and <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR
        TABLE</code></a> with respect to detection and handling of tables
        with incompatible <code class="filename">.frm</code> files (files created
        with a different version of the MySQL server). These changes
        also affect <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a> because that program
        uses <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> and
        <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>, and thus also
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> because that program invokes
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck</strong></span></a>.
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            If your table was created by a different version of the
            MySQL server than the one you are currently running,
            <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE ...
            FOR UPGRADE</code></a> indicates that the table has an
            <code class="filename">.frm</code> file with an incompatible version.
            In this case, the result set returned by
            <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> contains a line
            with a <code class="literal">Msg_type</code> value of
            <code class="literal">error</code> and a <code class="literal">Msg_text</code>
            value of <code class="literal">Table upgrade required. Please do "REPAIR
            TABLE `<em class="replaceable"><code>tbl_name</code></em>`" to fix
            it!</code>
          </p></li><li><p>
            <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> without
            <code class="literal">USE_FRM</code> upgrades the
            <code class="filename">.frm</code> file to the current version.
          </p></li><li><p>
            If you use <code class="literal">REPAIR TABLE ...USE_FRM</code> and
            your table was created by a different version of the MySQL
            server than the one you are currently running,
            <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> will not attempt
            to repair the table. In this case, the result set returned
            by <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> contains a
            line with a <code class="literal">Msg_type</code> value of
            <code class="literal">error</code> and a <code class="literal">Msg_text</code>
            value of <code class="literal">Failed repairing incompatible .FRM
            file</code>.
          </p><p>
            Previously, use of <code class="literal">REPAIR TABLE
            ...USE_FRM</code> with a table created by a different
            version of the MySQL server risked the loss of all rows in
            the table.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/36055" target="_top">Bug#36055</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The <code class="literal">Maria</code> Storage Engine is now available as
        standard. <code class="literal">Maria</code> is a crash safe version of
        <code class="literal">MyISAM</code>. <code class="literal">Maria</code> supports all
        of the main functionality of the <code class="literal">MyISAM</code>
        engine, but includes recovery support (in the event of a system
        crash), full logging (including <code class="literal">CREATE</code>,
        <code class="literal">DROP</code>, <code class="literal">RENAME</code>, and
        <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> operations), all
        <code class="literal">MyISAM</code> row formats and a new
        <code class="literal">Maria</code>-specific row format.
        <code class="literal">Maria</code> is documented at
        <a href="storage-engines.html#se-maria" title="13.6. The Maria Storage Engine">Section 13.6, “The <code class="literal">Maria</code> Storage Engine”</a>.
      </p></li><li><p><span class="bold"><strong>Important Note</strong></span>: 
        When MySQL is built with the <code class="literal">Maria</code> engine,
        all internal temporary on disk tables will use the
        <code class="literal">Maria</code> engine. Using <code class="literal">Maria</code>
        temporary tables in plkace of <code class="literal">MyISAM</code> tables
        should result in a performance gain.
      </p></li><li><p>
        On Unix, it is now possible for the output file for
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> to be an existing
        FIFO.
       (<a href="http://bugs.mysql.com/37012" target="_top">Bug#37012</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> now has a
        <a href="programs.html#option_mysql_upgrade_tmpdir"><code class="option">--tmpdir</code></a> option to enable
        the location of temporary files to be specified.
       (<a href="http://bugs.mysql.com/36469" target="_top">Bug#36469</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> now adds the
        <code class="literal">LOCAL</code> qualifier to the
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLES</code></a>
        statement that is sent to the server when the
        <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> option is
        enabled. This prevents the
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLES</code></a>
        statement from replicating to slaves, which is disadvantageous
        because it would cause slaves to block while the statement
        executes.
       (<a href="http://bugs.mysql.com/35157" target="_top">Bug#35157</a>)</p><p>See also <a href="http://bugs.mysql.com/38303" target="_top">Bug#38303</a>.</p></li><li><p>
        The use of the <code class="literal">SQL_CACHE</code> and
        <code class="literal">SQL_NO_CACHE</code> options in
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements now is checked
        more restrictively: 1) Previously, both options could be given
        in the same statement. This is no longer true; only one can be
        given. 2) Previously, these options could be given in
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements that were not
        at the top-level. This is no longer true; the options are
        disallowed in subqueries (including subqueries in the
        <code class="literal">FROM</code> clause, and
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements in unions other
        than the first <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/35020" target="_top">Bug#35020</a>)</p></li><li><p>
        MySQL source distributions are now available in Zip format.
       (<a href="http://bugs.mysql.com/27742" target="_top">Bug#27742</a>)</p></li><li><p>
        The undocumented, deprecated, and not useful <code class="literal">SHOW
        COLUMN TYPES</code> statement has been removed.
       (<a href="http://bugs.mysql.com/5299" target="_top">Bug#5299</a>)</p></li><li><p>
        The server now supports a Debug Sync facility for thread
        synchronization during testing and debugging. To compile in this
        facility, configure MySQL with the
        <a href="installing.html#option_configure_enable-debug-sync"><code class="option">--enable-debug-sync</code></a> option.
        The <a href="server-administration.html#sysvar_debug_sync"><code class="literal">debug_sync</code></a> system variable
        provides the user interface Debug Sync.
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> and
        <span><strong class="command">mysql-test-run.pl</strong></span> support a
        <a href="server-administration.html#option_mysqld_debug-sync-timeout"><code class="option">--debug-sync-timeout</code></a> option to
        enable the facility and set the default synchronization point
        timeout.
      </p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> now supports a
        <code class="option">--mysqltest</code> option for specifying options to
        the <span><strong class="command">mysqltest</strong></span> program.
      </p></li><li><p>
        Several improvements were made to MySQL Backup (the
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> and
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> statements):
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Drivers are now included for storage engines that do not
            store any data or rely on other storage engines for data
            storage: <code class="literal">MERGE</code>,
            <code class="literal">FEDERATED</code>, <code class="literal">BLACKHOLE</code>,
            <code class="literal">EXAMPLE</code>.
          </p></li><li><p>
            The backup kernel better determines the dependency ordering
            of objects to be backed up so that they can be restored in
            the proper order.
          </p></li><li><p>
            Restored events and triggers are not reactivated until the
            restore operation completes.
          </p></li></ul></div></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> now has a
        <code class="literal">WITH COMPRESSION</code> clause. This causes the
        image file to be compressed, which reduces its size. Compression
        also may result in improved backup time by reducing writes to
        disk.
      </p></li><li><p>
        When reading from <code class="literal">FALCON</code> tables,
        <code class="literal">FALCON</code> can take advantage of reading from the
        disk in larger blocks. When enabled, disk reads are in blocks of
        64KB. When switched off, disk reads are based on the page size
        as set by <a href="storage-engines.html#sysvar_falcon_page_size"><code class="literal">falcon_page_size</code></a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        Additional corrections were made for the symlink-related
        privilege problem originally addressed in MySQL 6.0.5. The
        original fix did not correctly handle the data directory path
        name if it contained symlinked directories in its path, and the
        check was made only at table-creation time, not at table-opening
        time later.
       (<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#show-status" title="12.5.6.35. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> took a lot of CPU
        time for calculating the value of the
        <a href="server-administration.html#statvar_Innodb_buffer_pool_pages_latched"><code class="literal">Innodb_buffer_pool_pages_latched</code></a>
        status variable. Now this variable is calculated and included in
        the output of <a href="sql-syntax.html#show-status" title="12.5.6.35. SHOW STATUS Syntax"><code class="literal">SHOW STATUS</code></a> only if
        the <code class="literal">UNIV_DEBUG</code> symbol is defined at MySQL
        build time.
       (<a href="http://bugs.mysql.com/36600" target="_top">Bug#36600</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Access privileges for several statements are more accurately
        checked:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> requires some
            privilege for the table.
          </p></li><li><p>
            <a href="sql-syntax.html#checksum-table" title="12.5.2.3. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM TABLE</code></a> requires
            <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> for the table.
          </p></li><li><p>
            <code class="literal">CREATE TABLE ... LIKE</code> requires
            <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> for the source table
            and <a href="server-administration.html#priv_create"><code class="literal">CREATE</code></a> for the
            destination table.
          </p></li><li><p>
            <a href="sql-syntax.html#show-columns" title="12.5.6.6. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> displays
            information only for those columns you have some privilege
            for.
          </p></li><li><p>
            <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> requires
            some privilege for the table (previously required
            <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a>).
          </p></li><li><p>
            <a href="sql-syntax.html#show-create-view" title="12.5.6.14. SHOW CREATE VIEW Syntax"><code class="literal">SHOW CREATE VIEW</code></a> requires
            <a href="server-administration.html#priv_show-view"><code class="literal">SHOW VIEW</code></a> and
            <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> for the view.
          </p></li><li><p>
            <a href="sql-syntax.html#show-index" title="12.5.6.23. SHOW INDEX Syntax"><code class="literal">SHOW INDEX</code></a> requires some
            privilege for any column.
          </p></li><li><p>
            <a href="sql-syntax.html#show-open-tables" title="12.5.6.25. SHOW OPEN TABLES Syntax"><code class="literal">SHOW OPEN TABLES</code></a> displays
            only tables for which you have some privilege on any table
            column.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/27145" target="_top">Bug#27145</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Certain characters were sorted incorrectly for the following
        collations: TILDE and GRAVE ACCENT in
        <code class="literal">big5_chinese_ci</code>; LATIN SMALL LETTER J in
        <code class="literal">cp866_general_ci</code>; TILDE in
        <code class="literal">gb2312_chinese_ci</code>; and TILDE in
        <code class="literal">gbk_chinese_ci</code>.
      </p><p>
        As a result of this fix, any indexes on columns that use these
        collations and contain the affected characters must be rebuilt
        when upgrading to 6.0.6 or higher. To do this, use
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to drop and re-add
        the indexes, or <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to dump the
        affected tables and <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to reload the dump
        file.
       (<a href="http://bugs.mysql.com/25420" target="_top">Bug#25420</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        An additional correction to the original MySQL 6.0.4 fix was
        made to normalize directory names before adding them to the list
        of directories. This prevents <code class="filename">/etc/</code> and
        <code class="filename">/etc</code> from being considered different, for
        example.
       (<a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a>)</p><p>See also <a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>.</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        Previously, <code class="literal">Falcon</code> failed silently when
        attempting to read incompatible datafiles created by an earlier
        version of the storage engine. Now, when
        <code class="literal">Falcon</code> encounters such datafiles, it refuses
        to start, and an appropriate error is issued instead.
       (<a href="http://bugs.mysql.com/35190" target="_top">Bug#35190</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The server no longer issues warnings for truncation of excess
        spaces for values inserted into
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns. This reverts a
        change in the previous release that caused warnings to be
        issued.
       (<a href="http://bugs.mysql.com/30059" target="_top">Bug#30059</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>Important Note</strong></span>: 
        The statements <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a>,
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a>,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>, and
        <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> are now supported
        for partitioned tables.
      </p><p>
        Also as a result of this fix, the following statements which
        were disabled in MySQL 6.0.5 have been re-enabled:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">ALTER TABLE ... ANALYZE PARTITION</code>
          </p></li><li><p>
            <code class="literal">ALTER TABLE ... CHECK PARTITION</code>
          </p></li><li><p>
            <code class="literal">ALTER TABLE ... OPTIMIZE PARTITION</code>
          </p></li><li><p>
            <code class="literal">ALTER TABLE ... REPAIR PARTITION</code>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/20129" target="_top">Bug#20129</a>)</p><p>See also <a href="http://bugs.mysql.com/39434" target="_top">Bug#39434</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> failed with an assertion error when
        analyzing a partitioned <code class="literal">MyISAM</code> table.
       (<a href="http://bugs.mysql.com/37537" target="_top">Bug#37537</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        When an attempt is made to change a table to an unsupported
        storage engine, the server normally uses the default storage
        engine in place of the requested engine while issuing a warning.
        However, if the table was partitioned, the same
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> statement failed with
        the error, <span class="errortext">The mix of handlers in the partitions is
        not allowed in this version of MySQL</span>. This happened
        even if the server was not running in
        <a href="server-administration.html#sqlmode_no_engine_substitution"><code class="literal">NO_ENGINE_SUBSTITUTION</code></a> mode.
        Now the behavior for partitioned tables is the same as for other
        MySQL tables; the substitution is made, and a warning is issued.
       (<a href="http://bugs.mysql.com/35765" target="_top">Bug#35765</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">MyISAM</code> recovery enabled with the
        <a href="server-administration.html#option_mysqld_myisam-recover"><code class="option">--myisam-recover</code></a> option did not
        work for partitioned <code class="literal">MyISAM</code> tables.
       (<a href="http://bugs.mysql.com/35161" target="_top">Bug#35161</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        When one user was in the midst of a transaction on a partitioned
        table, a second user performing an <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> on this table caused the server to hang.
       (<a href="http://bugs.mysql.com/34604" target="_top">Bug#34604</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Inserts failed on partitioned tables containing user-supplied
        values for an <code class="literal">AUTO_INCREMENT</code> column.
       (<a href="http://bugs.mysql.com/33479" target="_top">Bug#33479</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Partition-level <code class="literal">TABLESPACE</code> options were
        ignored for <code class="literal">Falcon</code> tables.
       (<a href="http://bugs.mysql.com/33404" target="_top">Bug#33404</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        For <code class="literal">InnoDB</code> tables, there was a race condition
        involving the data dictionary and repartitioning.
       (<a href="http://bugs.mysql.com/33349" target="_top">Bug#33349</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#create-procedure" title="12.1.12. CREATE PROCEDURE and
      CREATE FUNCTION Syntax"><code class="literal">CREATE PROCEDURE</code></a> and
        <a href="sql-syntax.html#create-function" title="12.1.10. CREATE FUNCTION Syntax"><code class="literal">CREATE FUNCTION</code></a> statements
        containing extended comments were not written to the binary log
        correctly, causing parse errors on the slave.
       (<a href="http://bugs.mysql.com/36570" target="_top">Bug#36570</a>)</p><p>See also <a href="http://bugs.mysql.com/32575" target="_top">Bug#32575</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When flushing tables, there was a slight chance that the flush
        occurred between the processing of one table map event and the
        next. Since the tables were opened one by one, subsequent
        locking of tables would cause the slave to crash. This problem
        was observed when replicating
        <code class="literal">NDBCLUSTER</code> or
        <code class="literal">InnoDB</code> tables, when executing multi-table
        updates, and when a trigger or a stored routine performed an
        (additional) insert on a table so that two tables were
        effectively being inserted into in the same statement.
       (<a href="http://bugs.mysql.com/36197" target="_top">Bug#36197</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#install-plugin" title="12.5.4.3. INSTALL PLUGIN Syntax"><code class="literal">INSTALL PLUGIN</code></a> and
        <a href="sql-syntax.html#uninstall-plugin" title="12.5.4.4. UNINSTALL PLUGIN Syntax"><code class="literal">UNINSTALL PLUGIN</code></a> caused row-based
        replication to fail.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          These statements are not replicated; however, when using
          row-based logging, the changes they introduce in the
          <code class="literal">mysql</code> system tables are written to the
          binary log.
        </p></div><p>(<a href="http://bugs.mysql.com/35807" target="_top">Bug#35807</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#create-view" title="12.1.16. CREATE VIEW Syntax"><code class="literal">CREATE VIEW</code></a> statements containing
        extended comments were not written to the binary log correctly,
        causing parse errors on the slave. Now, all comments are
        stripped from such statements before being written to the binary
        log.
       (<a href="http://bugs.mysql.com/32575" target="_top">Bug#32575</a>)</p><p>See also <a href="http://bugs.mysql.com/36570" target="_top">Bug#36570</a>.</p></li><li><p>
        The minimum page size accepted by <code class="literal">FALCON</code> has
        been increased from 1K to 2K.
       (<a href="http://bugs.mysql.com/39707" target="_top">Bug#39707</a>)</p></li><li><p>
        Trying to execute a DDL statement on a <code class="literal">Falcon</code>
        table while a transaction was being rolled back could cause the
        server to crash.
       (<a href="http://bugs.mysql.com/38933" target="_top">Bug#38933</a>)</p></li><li><p>
        When building <code class="literal">FALCON</code> using the Sun Studio 12
        compiler, a requirement for the GNU Standard C++
        (<code class="literal">libstdc++</code>) library would be added to the
        build requirements, causing the build to fail.
       (<a href="http://bugs.mysql.com/38556" target="_top">Bug#38556</a>)</p></li><li><p>
        The <code class="literal">Falcon</code> memory manager did not always
        perform initialization of internal objects correctly.
       (<a href="http://bugs.mysql.com/38519" target="_top">Bug#38519</a>)</p><p>See also <a href="http://bugs.mysql.com/38770" target="_top">Bug#38770</a>.</p></li><li><p>
        Disconnecting a session where you have a applied a
        <code class="literal">WRITE CONCURRENT</code> lock on
        <code class="literal">Maria</code> tables would lead to a crash.
       (<a href="http://bugs.mysql.com/38492" target="_top">Bug#38492</a>)</p></li><li><p>
        Range queries on a <code class="literal">Maria</code> table could fail to
        return the correct rows.
       (<a href="http://bugs.mysql.com/38466" target="_top">Bug#38466</a>)</p></li><li><p>
        The Windows <code class="filename">my-template.ini</code> template file
        contained a reference to the
        <a href="http://dev.mysql.com/doc/refman/4.1/en/server-system-variables.html#sysvar_myisam_max_extra_sort_file_size" target="_top"><code class="literal">myisam_max_extra_sort_file_size</code></a>
        system variable, which no longer exists, causing the installed
        server to fail upon startup.
       (<a href="http://bugs.mysql.com/38371" target="_top">Bug#38371</a>)</p></li><li><p>
        Incorrect handling of aggregate functions when loose index scan
        was used caused a server crash.
       (<a href="http://bugs.mysql.com/38195" target="_top">Bug#38195</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/33812" target="_top">Bug#33812</a> had the side effect of causing the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client not to be able to read some dump
        files produced with <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>. To address
        this, that fix was reverted.
       (<a href="http://bugs.mysql.com/38158" target="_top">Bug#38158</a>)</p></li><li><p>
        The <code class="literal">MyISAM</code> backup driver was subject to a
        race condition that allowed multiple
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operations to occur
        simultaneously. This could result in locking conflicts,
        incorrect entries in the progress tables, or other problems.
       (<a href="http://bugs.mysql.com/38108" target="_top">Bug#38108</a>)</p></li><li><p>
        Concurrent adding or dropping of indexes and execution of DML
        statements on a <code class="literal">Falcon</code> table could cause the
        server to crash.
       (<a href="http://bugs.mysql.com/38044" target="_top">Bug#38044</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> and DML
        statements concurrently on <code class="literal">Falcon</code> tables
        could cause the server to hang.
       (<a href="http://bugs.mysql.com/38043" target="_top">Bug#38043</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE ... ADD KEY</code> and <code class="literal">ALTER
        TABLE ... DROP KEY</code> were not always handled correctly
        for <code class="literal">Falcon</code> tables, resulting in spurious
        duplicate key and other errors.
       (<a href="http://bugs.mysql.com/38041" target="_top">Bug#38041</a>)</p></li><li><p>
        If a table has a <code class="literal">BIT NOT NULL</code> column
        <code class="literal">c1</code> with a length shorter than 8 bits and some
        additional <code class="literal">NOT NULL</code> columns
        <code class="literal">c2</code>, ..., and a
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> query has a
        <code class="literal">WHERE</code> clause of the form <code class="literal">(c1 =
        <em class="replaceable"><code>constant</code></em>) AND c2 ...</code>, the
        query could return an unexpected result set.
       (<a href="http://bugs.mysql.com/37799" target="_top">Bug#37799</a>)</p></li><li><p>
        MySQL server binaries built using <span><strong class="command">gcc4.3</strong></span>
        could crash when running large numbers of DML statements on
        <code class="literal">Falcon</code> tables.
       (<a href="http://bugs.mysql.com/37725" target="_top">Bug#37725</a>)</p></li><li><p>
        When building <code class="literal">FALCON</code> using the Sun Studio 12
        compiler on OpenSolaris the build would fail due to a missing
        header file, <code class="filename">Interlock.h</code>.
       (<a href="http://bugs.mysql.com/37679" target="_top">Bug#37679</a>)</p></li><li><p>
        Building MySQL with SSL and <code class="literal">Falcon</code> enabled
        would lead to a build failure.
       (<a href="http://bugs.mysql.com/37517" target="_top">Bug#37517</a>)</p></li><li><p>
        A large number of updates on a <code class="literal">Falcon</code> table
        followed by a query of the form <code class="literal">SELECT
        AVG(<em class="replaceable"><code>int_non_key_column</code></em>) FROM
        <em class="replaceable"><code>table</code></em> WHERE
        <em class="replaceable"><code>int_non_key_column</code></em> &lt;
        <em class="replaceable"><code>constant</code></em> GROUP BY
        <em class="replaceable"><code>int_key_column</code></em> LIMIT
        <em class="replaceable"><code>limit</code></em></code> could crash the
        server.
       (<a href="http://bugs.mysql.com/37344" target="_top">Bug#37344</a>)</p></li><li><p>
        Queries with complex conditions in the <code class="literal">WHERE</code>
        clause on <code class="literal">Falcon</code> tables when
        <a href="storage-engines.html#sysvar_falcon_page_size"><code class="literal">falcon_page_size</code></a> was set to a
        low value could cause the server to crash.
       (<a href="http://bugs.mysql.com/37343" target="_top">Bug#37343</a>)</p></li><li><p>
        Within stored programs or prepared statements,
        <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> could return incorrect
        results due to improper initialization.
       (<a href="http://bugs.mysql.com/37337" target="_top">Bug#37337</a>)</p></li><li><p>
        When running a concurrent scenario involving transactions, each
        executing a small number of <code class="literal">DELETE</code> and
        <code class="literal">UPDATE</code> operations on a small number of
        records on <code class="literal">FALCON</code> tables, a deadlock could
        occur.
       (<a href="http://bugs.mysql.com/37251" target="_top">Bug#37251</a>)</p></li><li><p>
        When performing operations on a table in one client while a
        different client is performing a <code class="literal">TRUNCATE</code>
        operation on the same <code class="literal">FALCON</code> table a deadlock
        could be introduced.
       (<a href="http://bugs.mysql.com/37080" target="_top">Bug#37080</a>)</p></li><li><p>
        The
        <a href="storage-engines.html#sysvar_falcon_max_transaction_backlog"><code class="literal">falcon_max_transaction_backlog</code></a>
        has been removed. The option was originally introduced to ensure
        that the backlog of transactions did not exceed a certain level
        with the gopher thread. <code class="literal">FALCON</code> now uses
        multiple gopher threads. The transaction backlog is handled
        internally by <code class="literal">FALCON</code>.
       (<a href="http://bugs.mysql.com/36991" target="_top">Bug#36991</a>)</p></li><li><p>
        The <a href="storage-engines.html#sysvar_falcon_initial_allocation"><code class="literal">falcon_initial_allocation</code></a>
        has been removed. The option created new tablespace files with
        the specified size to force allocation on disk of specified
        block of contiguous space. The option had little effect on the
        performance of the tablespace files, and has therefore been
        removed.
       (<a href="http://bugs.mysql.com/36990" target="_top">Bug#36990</a>)</p></li><li><p>
        The
        <a href="storage-engines.html#sysvar_falcon_index_chill_threshold"><code class="literal">falcon_index_chill_threshold</code></a>
        and
        <a href="storage-engines.html#sysvar_falcon_record_chill_threshold"><code class="literal">falcon_record_chill_threshold</code></a>
        options have been modified so that the specification for the
        size can be specified in bytes, and support the KB, MB, and GB
        modifiers.
       (<a href="http://bugs.mysql.com/36825" target="_top">Bug#36825</a>)</p></li><li><p>
        The code for the <code class="function">ut_usectime()</code> function in
        <code class="literal">InnoDB</code> did not handle errors from the
        <code class="function">gettimeofday()</code> system call. Now it retries
        <code class="function">gettimeofday()</code> several times and updates
        the value of the
        <a href="server-administration.html#statvar_Innodb_row_lock_time_max"><code class="literal">Innodb_row_lock_time_max</code></a>
        status variable only if <code class="function">ut_usectime()</code> was
        successful.
       (<a href="http://bugs.mysql.com/36819" target="_top">Bug#36819</a>)</p></li><li><p>
        If the length of a field was 3, internal
        <code class="literal">InnoDB</code> to integer type conversion didn't work
        on big-endian machines in the
        <code class="function">row_search_autoinc_column()</code> function.
       (<a href="http://bugs.mysql.com/36793" target="_top">Bug#36793</a>)</p></li><li><p>
        For a view that referred to a <code class="literal">MyISAM</code> table,
        the contents of the table could be empty after
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> followed by
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>.
       (<a href="http://bugs.mysql.com/36782" target="_top">Bug#36782</a>)</p></li><li><p>
        Data loss could be caused by attempts to read data from a
        database being restored by a
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation.
       (<a href="http://bugs.mysql.com/36778" target="_top">Bug#36778</a>)</p></li><li><p>
        Some warnings were being reported as errors.
       (<a href="http://bugs.mysql.com/36777" target="_top">Bug#36777</a>)</p></li><li><p>
        Data loss could be caused by activation of a trigger for a
        <code class="literal">MyISAM</code> table being restored by a
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation.
       (<a href="http://bugs.mysql.com/36749" target="_top">Bug#36749</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> from a
        <code class="literal">Falcon</code>-enabled build crashed on
        Solaris/SPARC.
       (<a href="http://bugs.mysql.com/36745" target="_top">Bug#36745</a>)</p></li><li><p>
        On Windows 64-bit systems, temporary variables of
        <code class="literal">long</code> types were used to store
        <code class="literal">ulong</code> values, causing key cache
        initialization to receive distorted parameters. The effect was
        that setting <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a> to
        values of 2GB or more caused memory exhaustion to due allocation
        of too much memory.
       (<a href="http://bugs.mysql.com/36705" target="_top">Bug#36705</a>)</p></li><li><p>
        Multiple-table <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements
        that used a temporary table could fail to update all qualifying
        rows or fail with a spurious duplicate-key error.
       (<a href="http://bugs.mysql.com/36676" target="_top">Bug#36676</a>)</p></li><li><p>
        A query which had an <code class="literal">ORDER BY DESC</code> clause
        that is satisfied with a reverse range scan could cause a server
        crash for some specific CPU/compiler combinations.
       (<a href="http://bugs.mysql.com/36639" target="_top">Bug#36639</a>)</p></li><li><p>
        The online backup stream library failed to parse the backup
        stream on 64-bit systems.
       (<a href="http://bugs.mysql.com/36624" target="_top">Bug#36624</a>)</p></li><li><p>
        <code class="literal">FALCON</code> would try to open a number of files
        during startup that are not required by the MySQL storage engine
        implmentation. These operations have been removed.
       (<a href="http://bugs.mysql.com/36620" target="_top">Bug#36620</a>)</p></li><li><p>
        On 64-bit platforms, <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> hung for backups of more than 32KB.
       (<a href="http://bugs.mysql.com/36586" target="_top">Bug#36586</a>)</p></li><li><p>
        Dumping information about locks in use by sending a
        <code class="literal">SIGHUP</code> signal to the server or by invoking
        the <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin debug</strong></span></a> command could lead to a
        server crash in debug builds or to undefined behavior in
        production builds.
       (<a href="http://bugs.mysql.com/36579" target="_top">Bug#36579</a>)</p></li><li><p>
        A <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> match could return
        incorrect rows when the previous row matched the expression and
        used <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> with an empty
        string.
       (<a href="http://bugs.mysql.com/36488" target="_top">Bug#36488</a>)</p></li><li><p>
        The server could not be compiled with <code class="literal">Falcon</code>
        support on Solaris/x86.
       (<a href="http://bugs.mysql.com/36486" target="_top">Bug#36486</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> ignored the value of
        <code class="option">--tmpdir</code> in one place.
       (<a href="http://bugs.mysql.com/36465" target="_top">Bug#36465</a>)</p></li><li><p>
        The <code class="literal">ER_TRUNCATED_WRONG_VALUE</code> warning
        condition was sometimes raised as an error.
       (<a href="http://bugs.mysql.com/36457" target="_top">Bug#36457</a>)</p></li><li><p>
        When one MySQL client application committed a transaction
        affecting a <code class="literal">Falcon</code> table at the same time
        that another client dropped this table, the
        <a href="sql-syntax.html#drop-table" title="12.1.23. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> statement did not
        “<span class="quote">see</span>” that transaction. This led to a situation
        such that a row affected by the transaction was later accessed
        in a manner that referred to the deleted table, resulting in a
        crash of the server.
       (<a href="http://bugs.mysql.com/36438" target="_top">Bug#36438</a>)</p></li><li><p>
        <code class="filename">ha_innodb.so</code> was incorrectly installed in
        the <code class="filename">lib/mysql</code> directory rather than in
        <code class="filename">lib/mysql/plugin</code>.
       (<a href="http://bugs.mysql.com/36434" target="_top">Bug#36434</a>)</p></li><li><p>
        Compiling the server with <code class="literal">Falcon</code> support
        failed on Solaris 10 due to problems with DTrace. This occurred
        even when the build was configured using
        <a href="installing.html#option_configure_enable-dtrace"><code class="option">--disable-dtrace</code></a>.
       (<a href="http://bugs.mysql.com/36403" target="_top">Bug#36403</a>)</p></li><li><p>
        Compiling the server with <code class="literal">Falcon</code> support
        failed on Solaris 10 for x86 platforms failed due to use of
        assembler code specific to <span><strong class="command">gcc</strong></span>.
       (<a href="http://bugs.mysql.com/36400" target="_top">Bug#36400</a>)</p></li><li><p>
        Dropping a <code class="literal">Falcon</code> tablespace concurrently
        with dropping a table using that tablespace caused the server to
        crash.
       (<a href="http://bugs.mysql.com/36396" target="_top">Bug#36396</a>)</p></li><li><p>
        Attempting to compile the server with Falcon support using the
        Sun Studio 12 compiler failed with the error
        <span class="errortext">"Value.h", line 185: Error: A union member cannot
        have a user-defined assignment operator</span>.
       (<a href="http://bugs.mysql.com/36368" target="_top">Bug#36368</a>)</p></li><li><p>
        The default drivers for <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> and <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        now support a cancel operation, which also allows better cleanup
        if a driver error occurs.
       (<a href="http://bugs.mysql.com/36323" target="_top">Bug#36323</a>)</p></li><li><p>
        The server crashed while parsing large floating-point numbers
        such as <code class="literal">1e37</code> or <code class="literal">-1e15</code>.
       (<a href="http://bugs.mysql.com/36320" target="_top">Bug#36320</a>)</p></li><li><p>
        When updating an existing instance (for example, from MySQL 5.0
        to 5.1, or 5.1 to 6.0), the Instance Configuration Wizard
        unnecessarily prompted for a <code class="literal">root</code> password
        when there was an existing <code class="literal">root</code> password.
       (<a href="http://bugs.mysql.com/36305" target="_top">Bug#36305</a>)</p></li><li><p>
        Following a number of
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statements on a <code class="literal">Falcon</code>
        table, creating a second <code class="literal">Falcon</code> table using
        the same tablespace as the table into which the inserts were
        made and then performing a simple
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> on the new table caused
        the server to crash.
       (<a href="http://bugs.mysql.com/36294" target="_top">Bug#36294</a>, <a href="http://bugs.mysql.com/36367" target="_top">Bug#36367</a>)</p><p>See also <a href="http://bugs.mysql.com/29648" target="_top">Bug#29648</a>.</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, the
        <code class="literal">DATA_FREE</code> column of the
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> displayed
        free space in kilobytes rather than bytes. Now it displays
        bytes.
       (<a href="http://bugs.mysql.com/36278" target="_top">Bug#36278</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> failed to back up
        views that depend on tables in a different database.
       (<a href="http://bugs.mysql.com/36265" target="_top">Bug#36265</a>)</p></li><li><p>
        The project files created for Windows were missing the
        <code class="literal">GenError</code> project dependency.
       (<a href="http://bugs.mysql.com/36257" target="_top">Bug#36257</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client failed to recognize comment
        lines consisting of <code class="literal">--</code> followed by a newline.
       (<a href="http://bugs.mysql.com/36244" target="_top">Bug#36244</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-index" title="12.1.11. CREATE INDEX Syntax"><code class="literal">CREATE INDEX</code></a> for
        <code class="literal">InnoDB</code> tables could under very rare
        circumstances cause the server to crash..
       (<a href="http://bugs.mysql.com/36169" target="_top">Bug#36169</a>)</p></li><li><p>
        A read past the end of the string could occur while parsing the
        value of the
        <a href="storage-engines.html#sysvar_innodb_data_file_path"><code class="option">--innodb-data-file-path</code></a> option.
       (<a href="http://bugs.mysql.com/36149" target="_top">Bug#36149</a>)</p></li><li><p>
        Conversion of a <code class="literal">FLOAT ZEROFILL</code> value to
        string could cause a server crash if the value was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/36139" target="_top">Bug#36139</a>)</p></li><li><p>
        The combination of semi-join and materialization both being
        enabled could lead to assertion failure during subquery
        processing.
       (<a href="http://bugs.mysql.com/36137" target="_top">Bug#36137</a>)</p></li><li><p>
        Range optimizer evaluation of <code class="literal">IN</code> subqueries
        to be handled with the materialization strategy could lead to
        assertion failure.
       (<a href="http://bugs.mysql.com/36133" target="_top">Bug#36133</a>)</p></li><li><p>
        A server crash could occur during the cleanup phase of subquery
        execution.
       (<a href="http://bugs.mysql.com/36128" target="_top">Bug#36128</a>)</p></li><li><p>
        On Windows, the installer attempted to use JScript to determine
        whether the target data directory already existed. On Windows
        Vista x64, this resulted in an error because the installer was
        attempting to run the JScript in a 32-bit engine, which wasn't
        registered on Vista. The installer no longer uses JScript but
        instead relies on a native WiX command.
       (<a href="http://bugs.mysql.com/36103" target="_top">Bug#36103</a>)</p></li><li><p>
        A <code class="literal">SELECT ... LIKE</code> query issued following a
        number of <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statements on a
        <code class="literal">Falcon</code> table failed to return all matching
        records.
       (<a href="http://bugs.mysql.com/36097" target="_top">Bug#36097</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> was performing escape processing
        for the <code class="option">--replace_result</code> command, which it
        should not have been.
       (<a href="http://bugs.mysql.com/36041" target="_top">Bug#36041</a>)</p></li><li><p>
        An error in calculation of the precision of zero-length items
        (such as <code class="literal">NULL</code>) caused a server crash for
        queries that employed temporary tables.
       (<a href="http://bugs.mysql.com/36023" target="_top">Bug#36023</a>)</p></li><li><p>
        For <code class="literal">EXPLAIN EXTENDED</code>, execution of an
        uncorrelated <code class="literal">IN</code> subquery caused a crash if
        the subquery required a temporary table for its execution.
       (<a href="http://bugs.mysql.com/36011" target="_top">Bug#36011</a>)</p></li><li><p>
        The <code class="literal">MERGE</code> storage engine did a table scan for
        <code class="literal">SELECT COUNT(*)</code> statements when it could
        calculate the number of records from the underlying tables.
       (<a href="http://bugs.mysql.com/36006" target="_top">Bug#36006</a>)</p></li><li><p>
        The server crashed inside <code class="literal">NOT IN</code> subqueries
        with an impossible <code class="literal">WHERE</code> or
        <code class="literal">HAVING</code> clause, such as <code class="literal">NOT IN
        (SELECT ... FROM t1, t2, ... WHERE 0)</code>.
       (<a href="http://bugs.mysql.com/36005" target="_top">Bug#36005</a>)</p></li><li><p>
        <a href="connectors-apis.html#mysql-stmt-prepare" title="20.10.7.21. mysql_stmt_prepare()"><code class="literal">mysql_stmt_prepare()</code></a> did not
        reset the list of messages (those messages available via
        <a href="sql-syntax.html#show-warnings" title="12.5.6.40. SHOW WARNINGS Syntax"><code class="literal">SHOW WARNINGS</code></a>).
       (<a href="http://bugs.mysql.com/36004" target="_top">Bug#36004</a>)</p></li><li><p>
        The Event Scheduler was not designed to work under the embedded
        server. It is now disabled for the embedded server, and the
        <a href="server-administration.html#sysvar_event_scheduler"><code class="literal">event_scheduler</code></a> system variable
        is not displayed.
       (<a href="http://bugs.mysql.com/35997" target="_top">Bug#35997</a>)</p></li><li><p>
        Grouping or ordering of long values in unindexed
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns with the
        <code class="literal">gbk</code> or <code class="literal">big5</code> character set
        crashed the server.
       (<a href="http://bugs.mysql.com/35993" target="_top">Bug#35993</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL debug=''</code> resulted in a Valgrind
        warning in <code class="function">DbugParse()</code>, which was reading
        beyond the end of the control string.
       (<a href="http://bugs.mysql.com/35986" target="_top">Bug#35986</a>)</p></li><li><p>
        If a <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> table list contained
        at least one <code class="literal">INFORMATION_SCHEMA</code> table, the
        required privileges for accessing the other tables were reduced.
       (<a href="http://bugs.mysql.com/35955" target="_top">Bug#35955</a>)</p></li><li><p>
        Some syntactically invalid statements could cause the server to
        return an error message containing garbage characters.
       (<a href="http://bugs.mysql.com/35936" target="_top">Bug#35936</a>)</p></li><li><p>
        MySQL could not be built using Sun Studio due to the use of
        compiler options specific to <span><strong class="command">gcc</strong></span>.
       (<a href="http://bugs.mysql.com/35929" target="_top">Bug#35929</a>)</p></li><li><p>
        The “<span class="quote">prefer full scan on clustered primary key over full
        scan of any secondary key</span>” optimizer rule introduced by
        <a href="http://bugs.mysql.com/26447" target="_top">Bug#26447</a> caused a performance regression for some queries, so
        it has been disabled.
       (<a href="http://bugs.mysql.com/35850" target="_top">Bug#35850</a>)</p></li><li><p>
        The server ignored any covering index used for
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a> access of a table in a
        query with <code class="literal">ORDER BY</code> if this index was
        incompatible with the <code class="literal">ORDER BY</code> list and there
        was another covering index compatible with this list. As a
        result, suboptimal execution plans were chosen for some queries
        that used an <code class="literal">ORDER BY</code> clause.
       (<a href="http://bugs.mysql.com/35844" target="_top">Bug#35844</a>)</p></li><li><p>
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> did not properly update the
        <code class="literal">mysql.event</code> table.
       (<a href="http://bugs.mysql.com/35824" target="_top">Bug#35824</a>)</p></li><li><p>
        The current system time (as returned by
        <a href="functions.html#function_now"><code class="literal">NOW()</code></a> or synonyms) became
        constant after a <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>
        operation.
       (<a href="http://bugs.mysql.com/35806" target="_top">Bug#35806</a>)</p></li><li><p>
        Processing of an uncorrelated subquery using semi-join could
        cause incorrect results or a server crash.
       (<a href="http://bugs.mysql.com/35767" target="_top">Bug#35767</a>)</p></li><li><p>
        An incorrect error and message was produced for attempts to
        create a <code class="literal">MyISAM</code> table with an index
        (<code class="filename">.MYI</code>) file name that was already in use by
        some other <code class="literal">MyISAM</code> table that was open at the
        same time. For example, this might happen if you use the same
        value of the <code class="literal">INDEX DIRECTORY</code> table option for
        tables belonging to different databases.
       (<a href="http://bugs.mysql.com/35733" target="_top">Bug#35733</a>)</p></li><li><p>
        Enabling the <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> system
        variable while autocommit mode was enabled caused
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements for
        transactional storage engines to fail.
       (<a href="http://bugs.mysql.com/35732" target="_top">Bug#35732</a>)</p></li><li><p>
        The range optimizer ignored conditions on inner tables in
        semi-join <code class="literal">IN</code> subqueries, causing the
        optimizer to miss good query execution plans.
       (<a href="http://bugs.mysql.com/35674" target="_top">Bug#35674</a>)</p></li><li><p>
        An empty bit-string literal (<code class="literal">b''</code>) caused a
        server crash. Now the value is parsed as an empty bit value
        (which is treated as an empty string in string context or 0 in
        numeric context).
       (<a href="http://bugs.mysql.com/35658" target="_top">Bug#35658</a>)</p></li><li><p>
        On 64-bit systems, assigning values of 2
        <sup>63</sup> – 1 or larger to
        <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a> caused memory
        overruns.
       (<a href="http://bugs.mysql.com/35616" target="_top">Bug#35616</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables,
        <a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements used
        “<span class="quote">traditional</span>” style locking, regardless of the
        setting of
        <a href="storage-engines.html#sysvar_innodb_autoinc_lock_mode"><code class="literal">innodb_autoinc_lock_mode</code></a>. Now
        <a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a> works the same way as
        “<span class="quote">simple inserts</span>” instead of using the old locking
        algorithm. (<a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements
        are treated in the same way as as
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statements.)
       (<a href="http://bugs.mysql.com/35602" target="_top">Bug#35602</a>)</p></li><li><p>
        Different invocations of <a href="sql-syntax.html#checksum-table" title="12.5.2.3. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM
        TABLE</code></a> could return different results for a table
        containing columns with spatial data types.
       (<a href="http://bugs.mysql.com/35570" target="_top">Bug#35570</a>)</p></li><li><p>
        A semi-join subquery in the <code class="literal">ON</code> clause in the
        absence of a <code class="literal">WHERE</code> clause caused a server
        crash.
       (<a href="http://bugs.mysql.com/35550" target="_top">Bug#35550</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> was not updating the
        <a href="server-administration.html#statvar_Handler_delete"><code class="literal">Handler_delete</code></a> or
        <a href="server-administration.html#statvar_Handler_update"><code class="literal">Handler_update</code></a> status
        variables.
       (<a href="http://bugs.mysql.com/35537" target="_top">Bug#35537</a>)</p></li><li><p>
        The method for enumerating view dependencies could cause the
        server to deadlock.
       (<a href="http://bugs.mysql.com/35395" target="_top">Bug#35395</a>)</p></li><li><p>
        If the server crashed with an <code class="literal">InnoDB</code> error
        due to unavailability of undo slots, errors could persist during
        rollback when the server was restarted: There are two
        <code class="literal">UNDO</code> slot caches (for
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>). If all slots end up in
        one of the slot caches, a request for a slot from the other slot
        cache would fail. This can happen if the request is for an
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> slot and all slots are in
        the <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> slot cache, or vice
        versa.
       (<a href="http://bugs.mysql.com/35352" target="_top">Bug#35352</a>)</p></li><li><p>
        Simultaneous inserts and updates on an updateable view
        referencing a <code class="literal">Falcon</code> table could sometimes
        cause duplicate key errors.
       (<a href="http://bugs.mysql.com/35322" target="_top">Bug#35322</a>)</p></li><li><p>
        The combination of
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a>,
        <code class="literal">DISTINCT</code>, and <code class="literal">LEFT JOIN</code>
        could crash the server when the right table is empty.
       (<a href="http://bugs.mysql.com/35298" target="_top">Bug#35298</a>)</p></li><li><p>
        Accessing a <code class="literal">MERGE</code> table with an empty
        underlying table list incorrectly resulted in a “<span class="quote">wrong
        index</span>” error message rather than “<span class="quote">end of
        file.</span>”
       (<a href="http://bugs.mysql.com/35274" target="_top">Bug#35274</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> caused a server
        crash upon encountering a table row that has been marked for
        deletion but not removed.
       (<a href="http://bugs.mysql.com/35249" target="_top">Bug#35249</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, <code class="literal">ALTER TABLE
        DROP</code> failed if the name of the column to be dropped
        began with “<span class="quote">foreign</span>”.
       (<a href="http://bugs.mysql.com/35220" target="_top">Bug#35220</a>)</p></li><li><p>
        The table pullout strategy was not reflected in <code class="literal">EXPLAIN
        EXTENDED</code> output if not all of the subquery tables were
        pulled out.
       (<a href="http://bugs.mysql.com/35160" target="_top">Bug#35160</a>)</p></li><li><p>
        Access-denied messages for <code class="literal">INFORMATION_SCHEMA</code>
        incorrectly showed the name of the default database instead.
       (<a href="http://bugs.mysql.com/35096" target="_top">Bug#35096</a>)</p></li><li><p>
        Passing an invalid parameter to
        <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> in an <code class="literal">ORDER
        BY</code> clause caused the server to hang.
       (<a href="http://bugs.mysql.com/34949" target="_top">Bug#34949</a>)</p></li><li><p>
        Some binaries produced stack corruption messages due to being
        built with versions of <span><strong class="command">bison</strong></span> older than 2.1.
        Builds are now created using <span><strong class="command">bison</strong></span> 2.3.
       (<a href="http://bugs.mysql.com/34926" target="_top">Bug#34926</a>)</p></li><li><p>
        Concurrent execution of
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLES</code></a>
        along with <a href="sql-syntax.html#show-function-status" title="12.5.6.21. SHOW FUNCTION STATUS Syntax"><code class="literal">SHOW FUNCTION STATUS</code></a>
        or <a href="sql-syntax.html#show-procedure-status" title="12.5.6.29. SHOW PROCEDURE STATUS Syntax"><code class="literal">SHOW PROCEDURE STATUS</code></a> could
        cause a server crash.
       (<a href="http://bugs.mysql.com/34895" target="_top">Bug#34895</a>)</p></li><li><p>
        Creating a new <code class="literal">Falcon</code> table using
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> where the table uses a primary key, and rows
        contain duplicate keys, could lead to a table being created but
        not populated. Because the pending (bad) record was not
        committed, the table remains in a state that means it cannot be
        dropped or recreated.
       (<a href="http://bugs.mysql.com/34892" target="_top">Bug#34892</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_log_output"><code class="literal">log_output</code></a> system variable
        could be set to an illegal value.
       (<a href="http://bugs.mysql.com/34820" target="_top">Bug#34820</a>)</p></li><li><p>
        A server crash or memory overrun could occur with a dependent
        subquery and joins.
       (<a href="http://bugs.mysql.com/34799" target="_top">Bug#34799</a>)</p></li><li><p>
        An assertion could be raised when the dependencies on a
        transaction could not be released after a specified time when
        using <code class="literal">FALCON</code> tables.
       (<a href="http://bugs.mysql.com/34602" target="_top">Bug#34602</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could crash if overflow occurred for
        an <code class="literal">AUTO_INCREMENT</code> column.
       (<a href="http://bugs.mysql.com/34335" target="_top">Bug#34335</a>)</p></li><li><p>
        On Windows 64-bit builds, an apparent compiler bug caused memory
        overruns for code in <code class="filename">innobase/mem/*</code>.
        Removed optimizations so as not to trigger this problem.
       (<a href="http://bugs.mysql.com/34297" target="_top">Bug#34297</a>)</p></li><li><p>
        Several additional configuration scripts in the
        <code class="filename">BUILD</code> directory now are included in source
        distributions. These may be useful for users who wish to build
        MySQL from source. (See
        <a href="installing.html#installing-source-tree" title="2.9.3. Installing from the Development Source Tree">Section 2.9.3, “Installing from the Development Source Tree”</a>, for information about
        what they do.)
       (<a href="http://bugs.mysql.com/34291" target="_top">Bug#34291</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables, loss of data resulted from
        performing inserts concurrently with a
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation.
       (<a href="http://bugs.mysql.com/34210" target="_top">Bug#34210</a>)</p></li><li><p>
        In some cases, concurrent <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        and <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements on the same
        <code class="literal">Falcon</code> table could cause the server to crash,
        due to a failure to find a record that should have been in the
        table.
       (<a href="http://bugs.mysql.com/33933" target="_top">Bug#33933</a>)</p></li><li><p>
        A number of problems in new subquery optimization code meant
        that MySQL could pick an incorrect query plan when using
        InsideOut and/or FirstMatch subquery optimizations, which in
        turn would cause wrong query results.
       (<a href="http://bugs.mysql.com/33743" target="_top">Bug#33743</a>)</p></li><li><p>
        If <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> or
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> of a
        <code class="literal">Falcon</code> table failed, it was not possible to
        create another table in the same database having the same name
        unless the server was restarted. In some cases, subsequent
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statements could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/33723" target="_top">Bug#33723</a>)</p></li><li><p>
        Attempts to access a <code class="literal">FEDERATED</code> table using a
        non-existent server did not reliably return a proper error.
       (<a href="http://bugs.mysql.com/33702" target="_top">Bug#33702</a>)</p></li><li><p>
        It was possible for multiple <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> instances
        to use the same <code class="literal">Falcon</code> tablespace and
        metadata files, which could lead to corruption of the tablespace
        files, metadata files, or both.
       (<a href="http://bugs.mysql.com/33607" target="_top">Bug#33607</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns were restored
        to the current date and time (not their actual values) by a
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation.
       (<a href="http://bugs.mysql.com/33573" target="_top">Bug#33573</a>)</p></li><li><p>
        Use of 61 nested subqueries caused a server crash.
       (<a href="http://bugs.mysql.com/33509" target="_top">Bug#33509</a>)</p></li><li><p>
        An <code class="literal">ALTER TABLE ... TABLESPACE</code> statement
        referencing a non-existant tablespace on a
        <code class="literal">Falcon</code> table failed with an inappropriate
        error message the first time it was executed. A second attempt
        to execute the statement led to a crash of the MySQL server.
       (<a href="http://bugs.mysql.com/33397" target="_top">Bug#33397</a>)</p></li><li><p>
        Executing a <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> statement after creating a temporary table
        in the <code class="literal">mysql</code> database with the same name as
        one of the MySQL system tables caused the server to crash.
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
            While it is possible to shadow a system table in this way,
            the temporary table exists only for the current user and
            connection, and does not effect any user privileges.
          </p></div><p>
       (<a href="http://bugs.mysql.com/33275" target="_top">Bug#33275</a>)</p></li><li><p>
        Selecting from a view that referenced the same table in the
        <code class="literal">FROM</code> clause and an <code class="literal">IN</code>
        clause caused a server crash.
       (<a href="http://bugs.mysql.com/33245" target="_top">Bug#33245</a>)</p></li><li><p>
        When creating a new tablespace and specifying the name of an
        existing tablespace file, an incorrect error message would be
        reported specifying that the tablespace already existed. The
        error message has been updated to reflect the actual error.
       (<a href="http://bugs.mysql.com/33213" target="_top">Bug#33213</a>)</p></li><li><p>
        There was a race condition between the event scheduler and the
        server shutdown thread.
       (<a href="http://bugs.mysql.com/32771" target="_top">Bug#32771</a>)</p></li><li><p>
        Assignment of relative path names to
        <a href="server-administration.html#sysvar_general_log_file"><code class="literal">general_log_file</code></a> or
        <a href="server-administration.html#sysvar_slow_query_log_file"><code class="literal">slow_query_log_file</code></a> did not
        always work.
       (<a href="http://bugs.mysql.com/32748" target="_top">Bug#32748</a>)</p></li><li><p>
        Deeply nested subqueries could cause stack overflow or a server
        crash.
       (<a href="http://bugs.mysql.com/32680" target="_top">Bug#32680</a>)</p></li><li><p>
        Query results from a <code class="literal">FEDERATED</code> table were
        corrupt if the query included an <code class="literal">ORDER BY</code> on
        a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column.
       (<a href="http://bugs.mysql.com/32426" target="_top">Bug#32426</a>)</p></li><li><p>
        Conversion of binary values to multi-byte character sets could
        fail to left-pad values to the correct length. This could result
        in a server crash.
       (<a href="http://bugs.mysql.com/32394" target="_top">Bug#32394</a>)</p></li><li><p>
        On all x86 platforms, the default was to attempt to build the
        server with the <code class="literal">Falcon</code> storage engine, even
        if <code class="literal">Falcon</code> was not supported for a given
        platform.
       (<a href="http://bugs.mysql.com/32287" target="_top">Bug#32287</a>)</p></li><li><p>
        Killing a statement that invoked a stored function could return
        an incorrect error message indicating table corruption rather
        than that the statement had been interrupted.
       (<a href="http://bugs.mysql.com/32140" target="_top">Bug#32140</a>)</p></li><li><p>
        Occurrence of an error within a stored routine did not always
        cause immediate statement termination.
       (<a href="http://bugs.mysql.com/31881" target="_top">Bug#31881</a>)</p></li><li><p>
        For <code class="literal">DROP FUNCTION
        <em class="replaceable"><code>db_name</code></em>.<em class="replaceable"><code>func_name</code></em></code>
        (that is, when the function name is qualified with the database
        name), the statement should apply only to a stored function
        named <code class="filename">func_name</code> in the given database.
        However, if a UDF with the same name existed, the statement
        dropped the UDF instead.
       (<a href="http://bugs.mysql.com/31767" target="_top">Bug#31767</a>)</p></li><li><p>
        On NetWare, <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> could appear to
        execute normally even if it failed to create the initial
        databases.
       (<a href="http://bugs.mysql.com/30129" target="_top">Bug#30129</a>)</p></li><li><p>
        A problem related to HP-UX compilers that caused incorrect
        <a href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a> results was
        fixed.
       (<a href="http://bugs.mysql.com/29825" target="_top">Bug#29825</a>)</p></li><li><p>
        <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> for <code class="literal">InnoDB</code> tables returned a
        count showing too many rows affected. Now the statement returns
        0 for <code class="literal">InnoDB</code> tables.
       (<a href="http://bugs.mysql.com/29507" target="_top">Bug#29507</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> could return an incorrect rows-updated
        value for <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/29157" target="_top">Bug#29157</a>)</p></li><li><p>
        The <code class="literal">mysql.servers</code> table was not created
        during installation on Windows.
       (<a href="http://bugs.mysql.com/28680" target="_top">Bug#28680</a>, <a href="http://bugs.mysql.com/32797" target="_top">Bug#32797</a>)</p></li><li><p>
        The <code class="literal">jp</code> test suite was not working.
       (<a href="http://bugs.mysql.com/28563" target="_top">Bug#28563</a>)</p></li><li><p>
        The internal <code class="function">init_time()</code> library function
        was renamed to <code class="function">my_init_time()</code> to avoid
        conflicts with external libraries.
       (<a href="http://bugs.mysql.com/26294" target="_top">Bug#26294</a>)</p></li><li><p>
        In some cases, the parser interpreted the <code class="literal">;</code>
        character as the end of input and misinterpreted stored program
        definitions.
       (<a href="http://bugs.mysql.com/26030" target="_top">Bug#26030</a>)</p></li><li><p>
        Statements to create, alter, or drop a view were not waiting for
        completion of statements that were using the view, which led to
        incorrect sequences of statements in the binary log when
        statement-based logging was enabled.
       (<a href="http://bugs.mysql.com/25144" target="_top">Bug#25144</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Questions"><code class="literal">Questions</code></a> status variable
        is intended as a count of statements sent by clients to the
        server, but was also counting statements executed within stored
        routines.
       (<a href="http://bugs.mysql.com/24289" target="_top">Bug#24289</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> exhibited thread thrashing with more
        than 50 concurrent connections under an update-intensive
        workload.
       (<a href="http://bugs.mysql.com/22868" target="_top">Bug#22868</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-database" title="12.1.17. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> did not drop
        orphaned <code class="literal">FOREIGN KEY</code> constraints.
       (<a href="http://bugs.mysql.com/18942" target="_top">Bug#18942</a>)</p></li><li><p>
        Delayed-insert threads were counted as connected but not as
        created, incorrectly leading to a
        <a href="server-administration.html#statvar_Threads_connected"><code class="literal">Threads_connected</code></a> value
        greater than the
        <a href="server-administration.html#statvar_Threads_created"><code class="literal">Threads_created</code></a> value.
       (<a href="http://bugs.mysql.com/17954" target="_top">Bug#17954</a>)</p></li><li><p>
        The parser used signed rather than unsigned values in some cases
        that caused legal lengths in column declarations to be rejected.
       (<a href="http://bugs.mysql.com/15776" target="_top">Bug#15776</a>)</p></li><li><p>
        Stored procedure exception handlers were catching fatal errors
        (such as out of memory errors), which could cause execution not
        to stop to due a continue handler. Now fatal errors are not
        caught by exception handlers and a fatal error is returned to
        the client.
       (<a href="http://bugs.mysql.com/15192" target="_top">Bug#15192</a>)</p></li><li><p>
        On Windows, moving an <code class="literal">InnoDB</code>
        <code class="filename">.ibd</code> file and then symlinking to it in the
        database directory using a <code class="filename">.sym</code> file caused
        a server crash.
       (<a href="http://bugs.mysql.com/11894" target="_top">Bug#11894</a>)</p></li><li><p>
        If a connection was waiting for a
        <a href="functions.html#function_get-lock"><code class="literal">GET_LOCK()</code></a> lock or a
        <a href="functions.html#function_sleep"><code class="literal">SLEEP()</code></a> call, and the connection
        aborted, the server did not detect this and thus did not close
        the connection. This caused a waste of system resources
        allocated to dead connections. Now the server checks such a
        connection every five seconds to see whether it has been
        aborted. If so, the connection is killed (and any lock request
        is aborted).
       (<a href="http://bugs.mysql.com/10374" target="_top">Bug#10374</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-5"></a>C.1.8. Changes in MySQL 6.0.5 (12 June 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        In MySQL 5.1.6, when log tables were implemented, the default
        log destination for the general query and slow query log was
        <code class="literal">TABLE</code>. This default has been changed to
        <code class="literal">FILE</code>, which is compatible with MySQL 5.0, but
        incompatible with earlier releases of MySQL 5.1 from 5.1.6 to
        5.1.20. If you are upgrading from MySQL 5.0 to this release, no
        logging option changes should be necessary. However, if you are
        upgrading from 5.1.6 through 5.1.20 to this release and were
        using <code class="literal">TABLE</code> logging, use the
        <a href="server-administration.html#option_mysqld_log-output"><code class="option">--log-output=TABLE</code></a> option
        explicitly to preserve your server's table-logging behavior.
      </p><p>
        In MySQL 5.1.x, this bug was addressed twice because it turned
        out that the default was set in two places, only one of which
        was fixed the first time.
       (<a href="http://bugs.mysql.com/29993" target="_top">Bug#29993</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The server now includes <code class="literal">dtoa</code>, a library for
        conversion between strings and numbers by David M. Gay. In
        MySQL, this library provides the basis for improved conversion
        between string or <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> values
        and approximate-value
        (<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a>/<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a>)
        numbers:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Consistent conversion results across platforms, which
            eliminates, for example, Unix versus Windows conversion
            differences.
          </p></li><li><p>
            Accurate representation of values in cases where results
            previously did not provide sufficient precision, such as for
            values close to IEEE limits.
          </p></li><li><p>
            Conversion of numbers to string format with the best
            possible precision. The precision of <code class="literal">dtoa</code>
            is always the same or bettter than that of the standard C
            library functions.
          </p></li></ul></div><p>
        Because the conversions produced by this library differ in some
        cases from previous results, the potential exists for
        incompatibilities in applications that rely on previous results.
        For example, applications that depend on a specific exact result
        from previous conversions might need adjustment to accommodate
        additional precision.
      </p><p>
        For additional information about the properties of
        <code class="literal">dtoa</code> conversions, see
        <a href="functions.html#type-conversion" title="11.2.2. Type Conversion in Expression Evaluation">Section 11.2.2, “Type Conversion in Expression Evaluation”</a>.
      </p><p>See also <a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>, <a href="http://bugs.mysql.com/21497" target="_top">Bug#21497</a>, <a href="http://bugs.mysql.com/26788" target="_top">Bug#26788</a>, <a href="http://bugs.mysql.com/24541" target="_top">Bug#24541</a>, <a href="http://bugs.mysql.com/34015" target="_top">Bug#34015</a>.</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Packaging</strong></span>: 
        Beginning with this release, standard MySQL 6.0 binaries are no
        longer built with support for the
        <code class="literal">NDBCLUSTER</code> storage engine, and the
        <code class="literal">NDBCLUSTER</code> code included in 6.0
        mainline sources is no longer guaranteed to be maintained or
        supported. Those using MySQL Cluster in MySQL 6.0.4 and earlier
        MySQL 6.0 mainline releases should upgrade to MySQL Cluster NDB
        6.2.15 or a later MySQL Cluster NDB 6.2 or 6.3 release.
       (<a href="http://bugs.mysql.com/36193" target="_top">Bug#36193</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        Added a <code class="literal">ROUTINE_TYPE</code> column to the
        <a href="information-schema.html#parameters-table" title="19.27. The INFORMATION_SCHEMA PARAMETERS Table"><code class="literal">INFORMATION_SCHEMA.PARAMETERS</code></a>
        table, to make it possible to distinguish like-named parameters
        of stored routines and stored functions having the same names.
        See <a href="information-schema.html#parameters-table" title="19.27. The INFORMATION_SCHEMA PARAMETERS Table">Section 19.27, “The <code class="literal">INFORMATION_SCHEMA PARAMETERS</code> Table”</a>, for more information.
       (<a href="http://bugs.mysql.com/33106" target="_top">Bug#33106</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Introduced the <a href="http://dev.mysql.com/doc/refman/5.1/en/replication-options-slave.html#sysvar_slave_exec_mode" target="_top"><code class="literal">slave_exec_mode</code></a>
        system variable to control whether idempotent or strict mode is
        used for replication conflict resolution. Idempotent mode
        suppresses duplicate-key, no-key-found, and some other errors,
        and is needed for circular replication, multi-master
        replication, and some other complex replication setups when
        using MySQL Cluster. Strict mode is the default.
       (<a href="http://bugs.mysql.com/31609" target="_top">Bug#31609</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When running the server with
        <a href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=MIXED</code></a> or
        <a href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=STATEMENT</code></a>, a
        query that referred to a system variable used the slave's
        value when replayed on the slave. This meant that, if the value
        of a system variable was inserted into a table, the slave
        differed from the master. Now, statements that refer to a system
        variable are marked as “<span class="quote">unsafe</span>”, which means that:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              When the server is using
              <a href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=MIXED</code></a>, the
              row-based format is used automatically to replicate these
              statements.
            </p></li><li><p>
              When the server is using
              <a href="server-administration.html#option_mysqld_binlog-format"><code class="option">--binlog-format=STATEMENT</code></a>,
              these statements produce a warning.
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/31168" target="_top">Bug#31168</a>)</p><p>See also <a href="http://bugs.mysql.com/34732" target="_top">Bug#34732</a>.</p></li><li><p>
        In the <code class="literal">INFORMATION_SCHEMA</code> database, the
        <code class="literal">FALCON_DATABASE_IO</code> table was renamed to
        <code class="literal">FALCON_TABLESPACE_IO</code>.
       (<a href="http://bugs.mysql.com/35490" target="_top">Bug#35490</a>)</p></li><li><p>
        For boolean options, the option-processing library now prints
        additional information in the <code class="option">--help</code> message:
        If the option is enabled by default, the message says so and
        indicates that the <code class="option">--skip</code> form of the option
        disables the option. This affects all compiled MySQL programs
        that use the library.
       (<a href="http://bugs.mysql.com/35224" target="_top">Bug#35224</a>)</p></li><li><p>
        The <a href="server-administration.html#priv_process"><code class="literal">PROCESS</code></a> privilege now is
        required to start or stop the <code class="literal">InnoDB</code> monitor
        tables (see <a href="storage-engines.html#innodb-monitors" title="13.7.13.2. SHOW ENGINE INNODB
        STATUS and the InnoDB Monitors">Section 13.7.13.2, “<code class="literal">SHOW ENGINE INNODB
        STATUS</code> and the <code class="literal">InnoDB</code> Monitors”</a>). Previously, no
        privilege was required.
       (<a href="http://bugs.mysql.com/34053" target="_top">Bug#34053</a>)</p></li><li><p>
        For binary <code class="filename">.tar.gz</code> packages,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> and other binaries now are compiled
        with debugging symbols included to enable easier use with a
        debugger. If you do not need debugging symbols and are short on
        disk space, you can use <span><strong class="command">strip</strong></span> to remove the
        symbols from the binaries.
       (<a href="http://bugs.mysql.com/33252" target="_top">Bug#33252</a>)</p></li><li><p>
        Several undocumented C API functions were removed:
        <code class="function">mysql_manager_close()</code>,
        <code class="function">mysql_manager_command()</code>,
        <code class="function">mysql_manager_connect()</code>,
        <code class="function">mysql_manager_fetch_line()</code>, and
        <code class="function">mysql_manager_init()</code>.
       (<a href="http://bugs.mysql.com/31954" target="_top">Bug#31954</a>)</p></li><li><p>
        The C API contained several undocumented functions that have
        been removed:
        <code class="function">mysql_disable_reads_from_master()</code>,
        <code class="function">mysql_disable_rpl_parse()</code>,
        <code class="function">mysql_enable_reads_from_master()</code>,
        <code class="function">mysql_enable_rpl_parse()</code>,
        <code class="function">mysql_master_query()</code>,
        <code class="function">mysql_master_send_query()</code>,
        <code class="function">mysql_reads_from_master_enabled()</code>,
        <code class="function">mysql_rpl_parse_enabled()</code>,
        <code class="function">mysql_rpl_probe()</code>,
        <code class="function">mysql_rpl_query_type()</code>,
        <code class="function">mysql_set_master()</code>,
        <code class="function">mysql_slave_query()</code>, and
        <code class="function">mysql_slave_send_query()</code>.
       (<a href="http://bugs.mysql.com/31952" target="_top">Bug#31952</a>)</p></li><li><p>
        Formerly, when the MySQL server crashed, the generated stack
        dump was numeric and required external tools to properly resolve
        the names of functions. This is not very helpful to users having
        a limited knowledge of debugging techniques. In addition, the
        generated stack trace contained only the names of functions and
        was formatted differently for each platform due to different
        stack layouts.
      </p><p>
        Now it is possible to take advantage of newer versions of the
        GNU C Library provide a set of functions to obtain and
        manipulate stack traces from within the program. On systems that
        use the ELF binary format, the stack trace contains important
        information such as the shared object where the call was
        generated, an offset into the function, and the actual return
        address. Having the function name also makes possible the name
        demangling of C++ functions.
      </p><p>
        The library generates meaningful stack traces on the following
        platforms: i386, x86_64, PowerPC, IA64, Alpha, and S390. On
        other platforms, a numeric stack trace is still produced, and
        the use of the <a href="programs.html#resolve-stack-dump" title="4.7.4. resolve_stack_dump — Resolve Numeric Stack Trace Dump to Symbols"><span><strong class="command">resolve_stack_dump</strong></span></a> utility is
        still required.
       (<a href="http://bugs.mysql.com/31891" target="_top">Bug#31891</a>)</p></li><li><p>
        <span><strong class="command">mysqltest</strong></span> now has <code class="literal">mkdir</code>
        and <code class="literal">rmdir</code> commands for creating and removing
        directories.
       (<a href="http://bugs.mysql.com/31004" target="_top">Bug#31004</a>)</p></li><li><p>
        The <code class="literal">LAST_EXECUTED</code> column of the
        <a href="information-schema.html#events-table" title="19.20. The INFORMATION_SCHEMA EVENTS Table"><code class="literal">INFORMATION_SCHEMA.EVENTS</code></a> table now
        indicates when the event started executing rather than when it
        finished executing. As a result, the <code class="literal">ENDS</code>
        column is never less than <code class="literal">LAST_EXECUTED</code>.
       (<a href="http://bugs.mysql.com/29830" target="_top">Bug#29830</a>)</p></li><li><p>
        The <code class="function">mysql_odbc_escape_string()</code> C API
        function has been removed. It has multi-byte character escaping
        issues, doesn't honor the
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode
        and is not needed anymore by Connector/ODBC as of 3.51.17.
       (<a href="http://bugs.mysql.com/29592" target="_top">Bug#29592</a>)</p></li><li><p>
        The server uses less memory when loading privileges containing
        table grants. (Patch provided by Google.)
       (<a href="http://bugs.mysql.com/25175" target="_top">Bug#25175</a>)</p></li><li><p>
        Added the
        <a href="server-administration.html#statvar_Uptime_since_flush_status"><code class="literal">Uptime_since_flush_status</code></a>
        status variable, which indicates the number of seconds since the
        most recent <code class="literal">FLUSH STATUS</code> statement.
        (Community contribution by Jeremy Cole)
       (<a href="http://bugs.mysql.com/24822" target="_top">Bug#24822</a>)</p></li><li><p>
        Added the <a href="sql-syntax.html#show-profiles" title="12.5.6.32. SHOW PROFILES Syntax"><code class="literal">SHOW PROFILES</code></a> and
        <a href="sql-syntax.html#show-profile" title="12.5.6.31. SHOW PROFILE Syntax"><code class="literal">SHOW PROFILE</code></a> statements to
        display statement profile data, and the accompanying
        <a href="information-schema.html#profiling-table" title="19.28. The INFORMATION_SCHEMA PROFILING Table"><code class="literal">INFORMATION_SCHEMA.PROFILING</code></a> table.
        Profiling is controlled via the
        <a href="server-administration.html#sysvar_profiling"><code class="literal">profiling</code></a> and
        <a href="server-administration.html#sysvar_profiling_history_size"><code class="literal">profiling_history_size</code></a> session
        variables. see <a href="sql-syntax.html#show-profiles" title="12.5.6.32. SHOW PROFILES Syntax">Section 12.5.6.32, “<code class="literal">SHOW PROFILES</code> Syntax”</a>, and
        <a href="information-schema.html#profiling-table" title="19.28. The INFORMATION_SCHEMA PROFILING Table">Section 19.28, “The <code class="literal">INFORMATION_SCHEMA PROFILING</code> Table”</a>. (Community contribution by
        Jeremy Cole)
      </p><p>
        The profiling feature is enabled via the
        <a href="installing.html#option_configure_enable-community-features"><code class="option">--enable-community-features</code></a>
        and <a href="installing.html#option_configure_enable-profiling"><code class="option">--enable-profiling</code></a> options
        to <span><strong class="command">configure</strong></span>. These options are enabled by
        default; to disable them, use
        <a href="installing.html#option_configure_enable-community-features"><code class="option">--disable-community-features</code></a>
        and
        <a href="installing.html#option_configure_enable-profiling"><code class="option">--disable-profiling</code></a>.
       (<a href="http://bugs.mysql.com/24795" target="_top">Bug#24795</a>)</p></li><li><p>
        The performance of internal functions that trim multiple spaces
        from strings when comparing them has been improved.
       (<a href="http://bugs.mysql.com/14637" target="_top">Bug#14637</a>)</p></li><li><p>
        Added the <a href="functions.html#function_sha2"><code class="literal">SHA2()</code></a> function, which
        calculates the SHA-2 family of hash functions (SHA-224, SHA-256,
        SHA-384, and SHA-512). (Contributed by Bill Karwin)
       (<a href="http://bugs.mysql.com/13174" target="_top">Bug#13174</a>)</p></li><li><p>
        The new read-only global system variables
        <a href="server-administration.html#sysvar_report_host"><code class="literal">report_host</code></a>,
        <a href="server-administration.html#sysvar_report_password"><code class="literal">report_password</code></a>,
        <a href="server-administration.html#sysvar_report_port"><code class="literal">report_port</code></a>, and
        <a href="server-administration.html#sysvar_report_user"><code class="literal">report_user</code></a> system variables
        provide runtime access to the values of the corresponding
        <a href="replication.html#option_mysqld_report-host"><code class="option">--report-host</code></a>,
        <a href="replication.html#option_mysqld_report-password"><code class="option">--report-password</code></a>,
        <a href="replication.html#option_mysqld_report-port"><code class="option">--report-port</code></a>, and
        <a href="replication.html#option_mysqld_report-user"><code class="option">--report-user</code></a> options.
      </p></li><li><p>
        Formerly it was possible to specify an
        <a href="storage-engines.html#sysvar_innodb_flush_method"><code class="literal">innodb_flush_method</code></a> value of
        <code class="literal">fdatasync</code> to obtain the default flush
        behavior of using <code class="literal">fdatasync()</code> for flushing.
        This is no longer possible because it can be confusing that a
        value of <code class="literal">fdatasync</code> causes use of
        <code class="literal">fsync()</code> rather than
        <code class="literal">fdatasync()</code>.
      </p></li><li><p>
        The use of <code class="literal">InnoDB</code> hash indexes now can be
        controlled by setting the new
        <a href="storage-engines.html#sysvar_innodb_adaptive_hash_index"><code class="literal">innodb_adaptive_hash_index</code></a>
        system variable at server startup. By default, this variable is
        enabled. See <a href="storage-engines.html#innodb-adaptive-hash" title="13.7.10.4. Adaptive Hash Indexes">Section 13.7.10.4, “Adaptive Hash Indexes”</a>.
      </p></li><li><p>
        The argument for the <span><strong class="command">mysql-test-run.pl</strong></span>
        <code class="option">--do-test</code> and <code class="option">--skip-test</code>
        options is now interpreted as a Perl regular expression if there
        is a pattern metacharacter in the argument value. This allows
        more flexible specification of which tests to perform or skip.
      </p></li><li><p>
        The Instance Manager (<span><strong class="command">mysqlmanager</strong></span>) has been
        discontinued and is no longer provided in MySQL releases.
      </p></li><li><p>
        For <code class="literal">Falcon</code>, supernodes have been added to
        index pages. Supernodes are an array of 16 vectors into each
        index page to keys that are fully expanded with noprefix
        compression. This allows the page to be searched quicker using a
        binary search of supernode keys followed by the normal
        sequential search. Without enabling supernodes, the whole page
        has to be searched sequentially.
      </p></li><li><p>
        Two new statements, <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP
        DATABASE</code></a> and <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a>,
        have been added for backup and restore operations. See
        <a href="backup-and-recovery.html#backup-database-restore" title="6.3. Using MySQL Backup">Section 6.3, “Using MySQL Backup”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        It was possible to circumvent privileges through the creation of
        <code class="literal">MyISAM</code> tables employing the <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code>
        options to overwrite existing table files in the MySQL data
        directory. Use of the MySQL data directory in <code class="literal">DATA
        DIRECTORY</code> and <code class="literal">INDEX DIRECTORY</code> is
        now disallowed. This is now also true of these options when used
        with partitioned tables and individual partitions of such
        tables.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Additional fixes were made in MySQL 6.0.6.
        </p></div><p>(<a href="http://bugs.mysql.com/32167" target="_top">Bug#32167</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2079" target="_top">CVE-2008-2079</a>)</p><p>See also <a href="http://bugs.mysql.com/39277" target="_top">Bug#39277</a>.</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        A client that connects to a malicious server could be tricked by
        the server into sending files from the client host to the
        server. This occurs because the
        <code class="literal">libmysqlclient</code> client library would respond
        to a <code class="literal">FETCH LOCAL FILE</code> request from the server
        even if the request is sent for statements from the client other
        than <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a>. The client library has been modified to
        respond to a <code class="literal">FETCH LOCAL FILE</code> request from
        the server only if is is sent in response to a
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a> statement from the client.
      </p><p>
        The client library now also checks whether
        <code class="literal">CLIENT_LOCAL_FILE</code> is set and refuses to send
        a local file if not.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Binary distributions ship with the
          <code class="literal">local-infile</code> capability enabled.
          Applications that do not use this functionality should disable
          it to be safe.
        </p></div><p>(<a href="http://bugs.mysql.com/29605" target="_top">Bug#29605</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Security Enhancement</strong></span>: 
        On Windows Vista and Windows Server 2008, a user without
        administrative privileges does not have write permissions to the
        <code class="filename">Program Files</code> directory where MySQL and the
        associated data files are normally installed. Using data files
        located in the standard <code class="filename">Program Files</code>
        installation directory could therefore cause MySQL to fail, or
        lead to potential security issues in an installed instance.
      </p><p>
        To address the problem, on Windows XP, Windows Vista and Windows
        Server 2008, the datafiles and data file configuration are now
        set to the Microsoft recommended <code class="filename">AppData</code>
        folder. The <code class="filename">AppData</code> folder is typically
        located within the user's home directory.
      </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
          When upgrading an existing 5.1.23 or 6.0.4 installation of
          MySQL you must take a backup of your data and configuration
          file (<code class="filename">my.ini</code> before installing the new
          version. To migrate your data, either extract the data and
          re-import (using <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>, then upgrade
          and re-import using <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>), or back up your
          data, upgrade to the new version, and copy your existing data
          files from your old <code class="filename">datadir</code> directory to
          the new directory located within <code class="filename">AppData</code>.
        </p><p>
          Failure to back up your data and follow these procedures may
          lead to data loss.
        </p></div><p>(<a href="http://bugs.mysql.com/34593" target="_top">Bug#34593</a>)</p></li><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        It was possible to force an error message of excessive length
        which could lead to a buffer overflow. This has been made no
        longer possible as a security precaution.
       (<a href="http://bugs.mysql.com/32707" target="_top">Bug#32707</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        In MySQL 5.1.23, the <code class="literal">last_errno</code> and
        <code class="literal">last_error</code> members of the
        <code class="literal">NET</code> structure in
        <code class="filename">mysql_com.h</code> were renamed to
        <code class="literal">client_last_errno</code> and
        <code class="literal">client_last_error</code>. This was found to cause
        problems for connectors that use the internal
        <code class="literal">NET</code> structure for error handling. The change
        has been reverted.
       (<a href="http://bugs.mysql.com/34655" target="_top">Bug#34655</a>)</p><p>See also <a href="http://bugs.mysql.com/12713" target="_top">Bug#12713</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The parser accepted illegal syntax in a <code class="literal">FOREIGN
        KEY</code> clause:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Multiple <code class="literal">MATCH</code> clauses.
          </p></li><li><p>
            Multiple <code class="literal">ON DELETE</code> clauses.
          </p></li><li><p>
            Multiple <code class="literal">ON UPDATE</code> clauses.
          </p></li><li><p>
            <code class="literal">MATCH</code> clauses specified after <code class="literal">ON
            UPDATE</code> or <code class="literal">ON DELETE</code>. In case of
            multiple redundant clauses, this leads to confusion, and
            implementation-dependent results.
          </p></li></ul></div><p>
        These illegal syntaxes are now properly rejected. Existing
        applications that used them will require adjustment.
       (<a href="http://bugs.mysql.com/34455" target="_top">Bug#34455</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible to use <code class="literal">FRAC_SECOND</code> as a
        synonym for <code class="literal">MICROSECOND</code> with
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a>,
        <a href="functions.html#function_date-sub"><code class="literal">DATE_SUB()</code></a>, and
        <a href="functions.html#function_interval"><code class="literal">INTERVAL</code></a>; now, using
        <code class="literal">FRAC_SECOND</code> with anything other than
        <a href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> or
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a> produces a syntax
        error.
      </p><p>
        It is now possible (and preferable) to use
        <code class="literal">MICROSECOND</code> with
        <a href="functions.html#function_timestampadd"><code class="literal">TIMESTAMPADD()</code></a> and
        <a href="functions.html#function_timestampdiff"><code class="literal">TIMESTAMPDIFF()</code></a>, and
        <code class="literal">FRAC_SECOND</code> is now deprecated.
       (<a href="http://bugs.mysql.com/33834" target="_top">Bug#33834</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement allowed
        <code class="literal">NULL</code> to be assigned to <code class="literal">NOT
        NULL</code> columns (the implicit default value for the
        column data type was assigned). This was changed so that on
        error occurs.
      </p><p>
        This change was reverted, because the original report was
        determined not to be a bug: Assigning <code class="literal">NULL</code> to
        a <code class="literal">NOT NULL</code> column in an
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement should produce
        an error only in strict SQL mode and set the column to the
        implicit default with a warning otherwise, which was the
        original behavior. See <a href="data-types.html#data-type-defaults" title="10.1.4. Data Type Default Values">Section 10.1.4, “Data Type Default Values”</a>, and
        <a href="http://bugs.mysql.com/39265" target="_top">Bug#39265</a>.
       (<a href="http://bugs.mysql.com/33699" target="_top">Bug#33699</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It is no longer possible to create <code class="literal">CSV</code> tables
        with <code class="literal">NULL</code> columns. However, for backwards
        compatibility, you can continue to use such tables that were
        created in previous MySQL releases.
       (<a href="http://bugs.mysql.com/32050" target="_top">Bug#32050</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        For packages that are built within their own prefix (for
        example, <code class="filename">/usr/local/mysql</code>) the plugin
        directory will be <code class="filename">lib/plugin</code>. For packages
        that are built to be installed into a system-wide prefix (such
        as RPM packages with a prefix of <code class="filename">/usr</code>), the
        plugin directory will be <code class="filename">lib/mysql/plugin</code>
        to ensure a clean <code class="filename">/usr/lib</code> hierarchy. In
        both cases, the <code class="literal">$pkglibdir</code> configuration
        setting is used at build time to set the plugin directory.
      </p><p>
        The current plugin directory location is available as the value
        of the <a href="server-administration.html#sysvar_plugin_dir"><code class="literal">plugin_dir</code></a> system
        variable as before, but the <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a>
        script now has a
        <a href="programs.html#option_mysql_config_plugindir"><code class="option">--plugindir</code></a> option that can
        be used externally to the server by third-party plugin writers
        to obtain the default plugin directory path name and configure
        their installation directory appropriately.
       (<a href="http://bugs.mysql.com/31736" target="_top">Bug#31736</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Inserting a row with a <code class="literal">NULL</code> value for a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column results in a
        <code class="literal">CSV</code> file that the storage engine cannot read.
      </p><p>
        All <code class="literal">CSV</code> tables now need to be defined with
        each column marked as <code class="literal">NOT NULL</code>. An error is
        raised if you try to create a <code class="literal">CSV</code> table with
        columns that are not defined with <code class="literal">NOT NULL</code>.
       (<a href="http://bugs.mysql.com/31473" target="_top">Bug#31473</a>, <a href="http://bugs.mysql.com/32817" target="_top">Bug#32817</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">utf8_general_ci</code> and
        <code class="literal">ucs2_general_ci</code> collations did not sort the
        letter "U+00DF SHARP S" equal to <code class="literal">'s'</code>.
      </p><p>
        As a result of this fix, any indexes on columns that use these
        collations (but only columns that use SHARP S) must be rebuilt
        when upgrading to 6.0.5 or higher. To do this, use
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to drop and re-add
        the indexes, or use <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to dump the
        affected tables and <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to reload the dump
        file.
       (<a href="http://bugs.mysql.com/27877" target="_top">Bug#27877</a>)</p><p>See also <a href="http://bugs.mysql.com/37046" target="_top">Bug#37046</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Several changes were made to the processing of multiple-table
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Statements could not perform cross-database deletes unless
            the tables were referred to without using aliases. This
            limitation has been lifted and table aliases now are
            allowed.
          </p></li><li><p>
            Previously, alias declarations could be given for tables
            elsewhere than in the
            <em class="replaceable"><code>table_references</code></em> part of the
            syntax. This could lead to ambiguous statements that have
            unexpected results such as deleting rows from the wrong
            table. Example:
          </p><pre class="programlisting">DELETE FROM t1 AS a2 USING t1 AS a1 INNER JOIN t2 AS a2;
</pre><p>
            Now alias declarations can be declared only in the
            <em class="replaceable"><code>table_references</code></em> part. Elsewhere
            in the statement, alias references are allowed but not alias
            declarations.
          </p></li><li><p>
            Alias resolution was improved so that it is no longer
            possible to have inconsistent or ambiguous aliases for
            tables.
          </p></li></ul></div><p>
        Statements containing alias constructs that are no longer
        allowed must be rewritten.
       (<a href="http://bugs.mysql.com/27525" target="_top">Bug#27525</a>)</p><p>See also <a href="http://bugs.mysql.com/30234" target="_top">Bug#30234</a>.</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        When the master crashed during an update on a transactional
        table while in <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> mode,
        the slave failed. This fix causes every transaction (including
        <a href="server-administration.html#sysvar_autocommit"><code class="literal">autocommit</code></a> transactions) to be
        recorded in the binlog as starting with a
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">BEGIN</code></a> and
        ending with a <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">COMMIT</code></a> or
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>.
       (<a href="http://bugs.mysql.com/26395" target="_top">Bug#26395</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        <code class="literal">InnoDB</code> free space information is now shown in
        the <code class="literal">Data_free</code> column of
        <a href="sql-syntax.html#show-table-status" title="12.5.6.36. SHOW TABLE STATUS Syntax"><code class="literal">SHOW TABLE STATUS</code></a> and in the
        <code class="literal">DATA_FREE</code> column of the
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> table.
       (<a href="http://bugs.mysql.com/32440" target="_top">Bug#32440</a>)</p><p>See also <a href="http://bugs.mysql.com/11379" target="_top">Bug#11379</a>.</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The server handled truncation of values having excess trailing
        spaces into <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>, and
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns in different ways.
        This behavior has now been made consistent for columns of all
        three of these types, and now follows the existing behavior of
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns in this regard;
        that is, a <code class="literal">Note</code> is always issued whenever
        such truncation occurs.
      </p><p>
        This change does not affect columns of these three types when
        using a binary encoding; <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        columns are also unaffected by the change, since they always use
        a binary encoding.
       (<a href="http://bugs.mysql.com/30059" target="_top">Bug#30059</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        An <code class="literal">AFTER UPDATE</code> trigger was not invoked when
        the <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> did not make any
        changes to the table for which the trigger was defined. Now
        <code class="literal">AFTER UPDATE</code> triggers behave the same in this
        regard as do <code class="literal">BEFORE UPDATE</code> triggers, which
        are invoked whether the <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>
        makes any changes in the table or not.
       (<a href="http://bugs.mysql.com/23771" target="_top">Bug#23771</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>Important Note</strong></span>: 
        The following statements did not function correctly with
        corrupted or crashed tables and have been disabled:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">ALTER TABLE ... ANALYZE PARTITION</code>
          </p></li><li><p>
            <code class="literal">ALTER TABLE ... CHECK PARTITION</code>
          </p></li><li><p>
            <code class="literal">ALTER TABLE ... OPTIMIZE PARTITION</code>
          </p></li><li><p>
            <code class="literal">ALTER TABLE ... REPAIR PARTITION</code>
          </p></li></ul></div><p>
        <code class="literal">ALTER TABLE ... REBUILD PARTITION</code> is
        unaffected by this change and continues to be available. This
        statement and <code class="literal">ALTER TABLE ... REORGANIZE
        PARTITION</code> may be used to analyze and optimize
        partitioned tables, since these operations cause the partition
        files to be rebuilt.
       (<a href="http://bugs.mysql.com/20129" target="_top">Bug#20129</a>)</p><p>See also <a href="http://bugs.mysql.com/39434" target="_top">Bug#39434</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: <span class="bold"><strong>Important Note</strong></span>: 
        Network timeouts between the master and the slave could result
        in corruption of the relay log. This fix rectifies a
        long-standing replication issue when using unreliable networks,
        including replication over wide area networks such as the
        Internet. If you experience reliability issues and see many
        <span class="errortext">You have an error in your SQL syntax</span>
        errors on replication slaves, we strongly recommend that you
        upgrade to a MySQL version which includes this fix.
       (<a href="http://bugs.mysql.com/26489" target="_top">Bug#26489</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        When all data and SQL nodes in the cluster were shut down
        abnormally (that is, other than by using <code class="literal">STOP</code>
        in the cluster management client), <span><strong class="command">ndb_mgm</strong></span>
        used excessive amounts of CPU.
       (<a href="http://bugs.mysql.com/33237" target="_top">Bug#33237</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        There was a short interval during the startup process prior to
        the beginning of heartbeat detection such that, were an API or
        management node to reboot or a network failure to occur, data
        nodes could not detect this, with the result that there could be
        a lingering connection.
       (<a href="http://bugs.mysql.com/28445" target="_top">Bug#28445</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        In some cases, matching rows from a partitioned
        <code class="literal">MyISAM</code> using a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column as the primary key
        were not found by queries.
       (<a href="http://bugs.mysql.com/34358" target="_top">Bug#34358</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Enabling <a href="storage-engines.html#sysvar_innodb_file_per_table"><code class="literal">innodb_file_per_table</code></a>
        produced problems with partitioning and tablespace operations on
        partitioned <code class="literal">InnoDB</code> tables, in some cases
        leading to corrupt partitions or causing the server to crash.
       (<a href="http://bugs.mysql.com/33429" target="_top">Bug#33429</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        A table defined using <code class="literal">PARTITION BY KEY</code> and
        having a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column referenced in
        the partitioning key did not behave correctly; some rows could
        be inserted into the wrong partition, causing wrong results to
        be returned from queries.
       (<a href="http://bugs.mysql.com/33379" target="_top">Bug#33379</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        It was possible to partition a table to which a foreign key
        referred.
       (<a href="http://bugs.mysql.com/32948" target="_top">Bug#32948</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        When <code class="literal">ALTER TABLE DROP PARTITION</code> was executed
        on a table on which there was a trigger, the statement failed
        with an error. This occurred even if the trigger did not
        reference any tables.
       (<a href="http://bugs.mysql.com/32943" target="_top">Bug#32943</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        A query of the form <code class="literal">SELECT
        <em class="replaceable"><code>col1</code></em> FROM
        <em class="replaceable"><code>table</code></em> GROUP BY (SELECT
        <em class="replaceable"><code>col2</code></em> FROM
        <em class="replaceable"><code>table</code></em> LIMIT 1);</code> against a
        partitioned <em class="replaceable"><code>table</code></em> having a
        <code class="literal">SET</code> column crashed the server.
       (<a href="http://bugs.mysql.com/32772" target="_top">Bug#32772</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> misreported the
        value of <code class="literal">AUTO_INCREMENT</code> for partitioned
        tables using either of the <code class="literal">InnoDB</code> or
        <code class="literal">ARCHIVE</code> storage engines.
       (<a href="http://bugs.mysql.com/32247" target="_top">Bug#32247</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Selecting from
        <a href="information-schema.html#partitions-table" title="19.19. The INFORMATION_SCHEMA PARTITIONS Table"><code class="literal">INFORMATION_SCHEMA.PARTITIONS</code></a> while
        partition management statements (for example, <code class="literal">ALTER
        TABLE ... ADD PARTITION</code>) were executing caused the
        server to crash.
       (<a href="http://bugs.mysql.com/32178" target="_top">Bug#32178</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        An error in the internal function
        <code class="function">mysql_unpack_partition()</code> led to a fatal
        error in subsequent calls to
        <code class="function">open_table_from_share()</code>.
       (<a href="http://bugs.mysql.com/32158" target="_top">Bug#32158</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Currently, all partitions of a partitioned table must use the
        same storage engine. One may optinally specify the storage
        engine on a per-partition basis; however, where this is the
        done, the storage engine must be the same as used by the table
        as a whole. <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> did not
        enforce these rules correctly, the result being that incaccurate
        error messages were shown when trying to use the statement to
        change the storage engine used by an individual partition or
        partitions.
       (<a href="http://bugs.mysql.com/31931" target="_top">Bug#31931</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">ORDER BY ... DESC</code> did not always work
        correctly when selecting from partitioned tables.
       (<a href="http://bugs.mysql.com/31890" target="_top">Bug#31890</a>)</p><p>See also <a href="http://bugs.mysql.com/31001" target="_top">Bug#31001</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">ALTER TABLE ... COALESCE PARTITION</code> on a table
        partitioned by <code class="literal">[LINEAR] HASH</code> or
        <code class="literal">[LINEAR] KEY</code> caused the server to crash.
       (<a href="http://bugs.mysql.com/30822" target="_top">Bug#30822</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        When the <a href="optimization.html#jointype_range"><code class="literal">range</code></a> access method
        was used on a partitioned <code class="literal">Falcon</code> table, the
        entire index was scanned. For partitioned tables using other
        storage engines, a related issue caused an ordered range scan to
        return some rows twice.
       (<a href="http://bugs.mysql.com/30573" target="_top">Bug#30573</a>, <a href="http://bugs.mysql.com/33257" target="_top">Bug#33257</a>, <a href="http://bugs.mysql.com/33555" target="_top">Bug#33555</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">LIKE</code> queries on tables partitioned by
        <code class="literal">KEY</code> could return incomplete results. The
        problem was observed with the <code class="literal">Falcon</code> storage
        engine, but could affect third-party storage engines as well.
       (<a href="http://bugs.mysql.com/30480" target="_top">Bug#30480</a>)</p><p>See also <a href="http://bugs.mysql.com/29320" target="_top">Bug#29320</a>, <a href="http://bugs.mysql.com/29493" target="_top">Bug#29493</a>, <a href="http://bugs.mysql.com/30563" target="_top">Bug#30563</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Using the DATA DIRECTORY and INDEX DIRECTORY options for
        partitions with CREATE TABLE or ALTER TABLE statements appeared
        to work on Windows, although they are not supported by MySQL on
        Windows systems, and subsequent attempts to use the tables
        referenced caused errors. Now these options are disabled on
        Windows, and attempting to use them generates a warning.
       (<a href="http://bugs.mysql.com/30459" target="_top">Bug#30459</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        It was not possible to insert the greatest possible value for a
        given data type into a partitioned table. For example, consider
        a table defined as shown here:
</p><pre class="programlisting">CREATE TABLE t (c BIGINT UNSIGNED)
    PARTITION BY RANGE(c) (
      PARTITION p0 VALUES LESS THAN MAXVALUE
    );
</pre><p>
        The largest possible value for a <code class="literal">BIGINT
        UNSIGNED</code> column is 18446744073709551615, but the
        statement <code class="literal">INSERT INTO t VALUES
        (18446744073709551615);</code> would fail, even though the
        same statement succeeded were <code class="literal">t</code> not a
        partitioned table.
      </p><p>
        In other words, <code class="literal">MAXVALUE</code> was treated as being
        equal to the greatest possible value, rather than as a least
        upper bound.
       (<a href="http://bugs.mysql.com/29258" target="_top">Bug#29258</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replicating a Falcon table that contained a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column would fail during a
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> operation with the error
        <code class="literal">HA_ERR_END_OF_FILE</code>.
       (<a href="http://bugs.mysql.com/36468" target="_top">Bug#36468</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using row-based replication, a slave could crash at startup
        because it received a row-based replication event that
        <code class="literal">InnoDB</code> could not handle due to an incorrect
        test of the query string provided by MySQL, which was
        <code class="literal">NULL</code> for row-based replication events.
       (<a href="http://bugs.mysql.com/35226" target="_top">Bug#35226</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="server-administration.html#sysvar_insert_id"><code class="literal">insert_id</code></a> was not written to
        the binary log for inserts into <code class="literal">BLACKHOLE</code>
        tables.
       (<a href="http://bugs.mysql.com/35178" target="_top">Bug#35178</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using statement-based replication and a
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>,
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>, or
        <a href="sql-syntax.html#insert-select" title="12.2.5.1. INSERT ...
        SELECT Syntax"><code class="literal">INSERT ...
        SELECT</code></a> statement using a <code class="literal">LIMIT</code>
        clause is encountered, a warning that the statement is not safe
        to replicate in statement mode is now issued; when using
        <code class="literal">MIXED</code> mode, the statement is now replicated
        using the row-based format.
       (<a href="http://bugs.mysql.com/34768" target="_top">Bug#34768</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> did not output the values of
        <a href="replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a> and
        <a href="replication.html#sysvar_auto_increment_offset"><code class="literal">auto_increment_offset</code></a> when both
        were equal to their default values (for both of these variables,
        the default is 1). This meant that a binary log recorded by a
        client using the defaults for both variables and then replayed
        on another client using its own values for either or both of
        these variables produced erroneous results.
       (<a href="http://bugs.mysql.com/34732" target="_top">Bug#34732</a>)</p><p>See also <a href="http://bugs.mysql.com/31168" target="_top">Bug#31168</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a> statement with
        no <code class="literal">MASTER_HEARTBEAT_PERIOD</code> option failed to
        reset the heartbeat period to its default value.
       (<a href="http://bugs.mysql.com/34686" target="_top">Bug#34686</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#show-slave-status" title="12.5.6.34. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> failed when
        slave I/O was about to terminate.
       (<a href="http://bugs.mysql.com/34305" target="_top">Bug#34305</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The character sets and collations used for constant identifiers
        in stored procedures were not replicated correctly.
       (<a href="http://bugs.mysql.com/34289" target="_top">Bug#34289</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> from a 5.1 or later MySQL
        distribution could not read binary logs generated by a 4.1
        server when the logs contained
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> statements.
       (<a href="http://bugs.mysql.com/34141" target="_top">Bug#34141</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/32407" target="_top">Bug#32407</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A <a href="sql-syntax.html#create-user" title="12.5.1.1. CREATE USER Syntax"><code class="literal">CREATE USER</code></a>,
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a>, or
        <a href="sql-syntax.html#rename-user" title="12.5.1.4. RENAME USER Syntax"><code class="literal">RENAME USER</code></a> statement that fails
        on the master, or that is a duplicate of any of these
        statements, is no longer written to the binlog; previously,
        either of these occurrences could cause the slave to fail.
      </p><p> (<a href="http://bugs.mysql.com/33862" target="_top">Bug#33862</a>)</p><p>See also <a href="http://bugs.mysql.com/29749" target="_top">Bug#29749</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#show-binlog-events" title="12.5.6.3. SHOW BINLOG EVENTS Syntax"><code class="literal">SHOW BINLOG EVENTS</code></a> could fail
        when the binlog contained one or more events whose size was
        close to the value of
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
       (<a href="http://bugs.mysql.com/33413" target="_top">Bug#33413</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> failed to release all of its
        memory after terminating abnormally.
       (<a href="http://bugs.mysql.com/33247" target="_top">Bug#33247</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When a stored routine or trigger, running on a master that used
        MySQL 5.0 or MySQL 5.1.11 or earlier, performed an insert on an
        <code class="literal">AUTO_INCREMENT</code> column, the
        <a href="server-administration.html#sysvar_insert_id"><code class="literal">insert_id</code></a> value was not
        replicated correctly to a slave running MySQL 5.1.12 or later
        (including any MySQL 6.0 release).
       (<a href="http://bugs.mysql.com/33029" target="_top">Bug#33029</a>)</p><p>See also <a href="http://bugs.mysql.com/19630" target="_top">Bug#19630</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The error message generated due to lack of a default value for
        an extra column was not sufficiently informative.
       (<a href="http://bugs.mysql.com/32971" target="_top">Bug#32971</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When a user variable was used inside an
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement, the
        corresponding binlog event was not written to the binlog
        correctly.
       (<a href="http://bugs.mysql.com/32580" target="_top">Bug#32580</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using row-based replication, deletes from a table with a
        foreign key constraint failed on the slave.
       (<a href="http://bugs.mysql.com/32468" target="_top">Bug#32468</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The <a href="programs.html#option_mysqlbinlog_base64-output"><code class="option">--base64-output</code></a> option
        for <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a> was not honored for all types
        of events. This interfered in some cases with performing
        point-in-time recovery.
       (<a href="http://bugs.mysql.com/32407" target="_top">Bug#32407</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        SQL statements containing comments using <code class="literal">--</code>
        syntax were not replayable by <a href="programs.html#mysqlbinlog" title="4.6.8. mysqlbinlog — Utility for Processing Binary Log Files"><span><strong class="command">mysqlbinlog</strong></span></a>,
        even though such statements replicated correctly.
       (<a href="http://bugs.mysql.com/32205" target="_top">Bug#32205</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using row-based replication from a master running MySQL
        6.0.3 or earlier to a slave running 6.0.4 or later, updates of
        integer columns failed on the slave with <span class="errortext">Error in
        Unknown event: row application failed</span>.
       (<a href="http://bugs.mysql.com/31583" target="_top">Bug#31583</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/21842" target="_top">Bug#21842</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replicating write, update, or delete events from a master
        running MySQL 5.1.15 or earlier to a slave running 5.1.16 or
        later caused the slave to crash.
       (<a href="http://bugs.mysql.com/31581" target="_top">Bug#31581</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using row-based replication, the slave stopped when
        attempting to delete non-existent rows from a slave table
        without a primary key. In addition, no error was reported when
        this occurred.
       (<a href="http://bugs.mysql.com/31552" target="_top">Bug#31552</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Errors due to server ID conflicts were reported only in the
        slave's error log; now these errors are also shown in the
        <code class="literal">Server_IO_State</code> column in the output of
        <a href="sql-syntax.html#show-slave-status" title="12.5.6.34. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a>.
       (<a href="http://bugs.mysql.com/31316" target="_top">Bug#31316</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <a href="sql-syntax.html#stop-slave" title="12.6.2.6. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a> did not stop
        connection attempts properly. If the IO slave thread was
        attempting to connect, <a href="sql-syntax.html#stop-slave" title="12.6.2.6. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a>
        waited for the attempt to finish, sometimes for a long period of
        time, rather than stopping the slave immediately.
       (<a href="http://bugs.mysql.com/31024" target="_top">Bug#31024</a>)</p><p>See also <a href="http://bugs.mysql.com/30932" target="_top">Bug#30932</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing a <a href="sql-syntax.html#drop-view" title="12.1.25. DROP VIEW Syntax"><code class="literal">DROP VIEW</code></a> statement
        caused replication to fail if the view did not actually exist.
       (<a href="http://bugs.mysql.com/30998" target="_top">Bug#30998</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication of <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA INFILE</code></a> could fail when
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> was larger
        than <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
       (<a href="http://bugs.mysql.com/30435" target="_top">Bug#30435</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication crashed with the <code class="literal">NDB</code>
        storage engine when <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was started with
        <a href="server-administration.html#option_mysqld_character-set-server"><code class="option">--character-set-server=ucs2</code></a>.
       (<a href="http://bugs.mysql.com/29562" target="_top">Bug#29562</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The effects of scheduled events were not always correctly
        reproduced on the slave when using row-based replication.
       (<a href="http://bugs.mysql.com/29020" target="_top">Bug#29020</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Setting <a href="server-administration.html#sysvar_server_id"><code class="literal">server_id</code></a> did not
        update its value for the current session.
       (<a href="http://bugs.mysql.com/28908" target="_top">Bug#28908</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Some older servers wrote events to the binary log using
        different numbering from what is currently used, even though the
        file format number in the file is the same. Slaves running MySQL
        5.1.18 and later could not read these binary logs properly.
        Binary logs from these older versions now are recognized and
        event numbers are mapped to the current numbering so that they
        can be interpreted properly.
       (<a href="http://bugs.mysql.com/27779" target="_top">Bug#27779</a>, <a href="http://bugs.mysql.com/32434" target="_top">Bug#32434</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/22583" target="_top">Bug#22583</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">MASTER_POS_WAIT()</code> did not return
        <code class="literal">NULL</code> when the server was not a slave.
       (<a href="http://bugs.mysql.com/26622" target="_top">Bug#26622</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        The inspecific error message <span class="errortext">Wrong parameters to
        function register_slave</span> resulted when
        <a href="sql-syntax.html#start-slave" title="12.6.2.5. START SLAVE Syntax"><code class="literal">START SLAVE</code></a> failed to register on
        the master due to excess length of any the slave server options
        <a href="replication.html#option_mysqld_report-host"><code class="option">--report-host</code></a>,
        <a href="replication.html#option_mysqld_report-user"><code class="option">--report-user</code></a>, or
        <a href="replication.html#option_mysqld_report-password"><code class="option">--report-password</code></a>. An error
        message specific to each of these options is now returned in
        such cases. The new error messages are:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <span class="errortext">Failed to register slave: too long
              'report-host'</span>
            </p></li><li><p>
              <span class="errortext">Failed to register slave: too long
              'report-user'</span>
            </p></li><li><p>
              <span class="errortext">Failed to register slave; too long
              'report-password'</span>
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/22989" target="_top">Bug#22989</a>)</p><p>See also <a href="http://bugs.mysql.com/19328" target="_top">Bug#19328</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">PURGE BINARY LOGS TO</code> and <code class="literal">PURGE
        BINARY LOGS BEFORE</code> did not handle missing binary log
        files correctly or in the same way. Now for both of these
        statements, if any files listed in the
        <code class="filename">.index</code> file are missing from the file
        system, the statement fails with an error.
      </p></li><li><p><span class="bold"><strong>API</strong></span>: 
        When the language option was not set correctly, API programs
        calling <a href="connectors-apis.html#mysql-server-init" title="20.10.9.1. mysql_server_init()"><code class="literal">mysql_server_init()</code></a>
        crashed. This issue was observed only on Windows platforms.
       (<a href="http://bugs.mysql.com/31868" target="_top">Bug#31868</a>)</p></li><li><p>
        Corrected a typecast involving <code class="literal">bool</code> on Mac OS
        X 10.5 (Leopard), which evaluated differently from earlier Mac
        OS X versions.
       (<a href="http://bugs.mysql.com/38217" target="_top">Bug#38217</a>)</p></li><li><p>
        Queries could return different results depending on whether the
        join buffer was or was not used.
       (<a href="http://bugs.mysql.com/37131" target="_top">Bug#37131</a>)</p></li><li><p>
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> did not correctly
        determine dependency ordering of backed-up objects, which could
        cause a <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> operation to
        fail.
       (<a href="http://bugs.mysql.com/36531" target="_top">Bug#36531</a>)</p></li><li><p>
        Concurrent <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> statements inserting data into
        <code class="literal">Falcon</code> tables could crash the server.
       (<a href="http://bugs.mysql.com/35982" target="_top">Bug#35982</a>)</p></li><li><p>
        Following a server crash, recovery of <code class="literal">Falcon</code>
        tables containing <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns could lose data.
       (<a href="http://bugs.mysql.com/35688" target="_top">Bug#35688</a>)</p></li><li><p>
        Manually replacing a binary log file with a directory having the
        same name caused an error that was not handled correctly.
       (<a href="http://bugs.mysql.com/35675" target="_top">Bug#35675</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> with a view could crash the server.
       (<a href="http://bugs.mysql.com/35469" target="_top">Bug#35469</a>)</p></li><li><p>
        Selecting from
        <a href="information-schema.html#referential-constraints-table" title="19.24. The INFORMATION_SCHEMA REFERENTIAL_CONSTRAINTS Table"><code class="literal">INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS</code></a>
        could cause a server crash.
       (<a href="http://bugs.mysql.com/35406" target="_top">Bug#35406</a>)</p><p>See also <a href="http://bugs.mysql.com/35108" target="_top">Bug#35108</a>.</p></li><li><p>
        For a <code class="literal">TEMPORARY</code> table,
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> with no
        <code class="literal">WHERE</code> clause could fail when preceded by
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements with a
        <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/35392" target="_top">Bug#35392</a>)</p></li><li><p>
        In some cases, when too many clients tried to connect to the
        server, the proper <code class="literal">SQLSTATE</code> code was not
        returned.
       (<a href="http://bugs.mysql.com/35289" target="_top">Bug#35289</a>)</p></li><li><p>
        Memory-allocation failures for attempts to set
        <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a> to large values
        could result in a server crash.
       (<a href="http://bugs.mysql.com/35272" target="_top">Bug#35272</a>)</p></li><li><p>
        Queries could return different results depending on whether
        <code class="literal">ORDER BY</code> columns were indexed.
       (<a href="http://bugs.mysql.com/35206" target="_top">Bug#35206</a>)</p></li><li><p>
        When a view containing a reference to <code class="literal">DUAL</code>
        was created, the reference was removed when the definition was
        stored, causing some queries against the view to fail with
        invalid SQL syntax errors.
       (<a href="http://bugs.mysql.com/35193" target="_top">Bug#35193</a>)</p></li><li><p>
        <code class="literal">SELECT ... FROM
        INFORMATION_SCHEMA.REFERENTIAL_CONSTRAINTS</code> caused the
        server to crash if the table referenced by a foreign key had
        been dropped. This issue was observed on Windows platforms only.
       (<a href="http://bugs.mysql.com/35108" target="_top">Bug#35108</a>)</p><p>See also <a href="http://bugs.mysql.com/35406" target="_top">Bug#35406</a>.</p></li><li><p>
        Debugging symbols were missing for some executables in Windows
        binary distributions.
       (<a href="http://bugs.mysql.com/35104" target="_top">Bug#35104</a>)</p></li><li><p>
        Non-connection threads were being counted in the value of the
        <a href="server-administration.html#statvar_Max_used_connections"><code class="literal">Max_used_connections</code></a> status
        variable.
       (<a href="http://bugs.mysql.com/35074" target="_top">Bug#35074</a>)</p></li><li><p>
        Two different threads could obtain the same record number for
        concurrent inserts into the same <code class="literal">Falcon</code>
        table.
       (<a href="http://bugs.mysql.com/34990" target="_top">Bug#34990</a>)</p></li><li><p>
        A query that performed a
        <a href="optimization.html#jointype_ref_or_null"><code class="literal">ref_or_null</code></a> join where the
        second table used a key having one or columns that could be
        <code class="literal">NULL</code> and had a column value that was
        <code class="literal">NULL</code> caused the server to crash.
       (<a href="http://bugs.mysql.com/34945" target="_top">Bug#34945</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/12144" target="_top">Bug#12144</a>.</p></li><li><p>
        For some queries, the optimizer used an ordered index scan for
        <code class="literal">GROUP BY</code> or <code class="literal">DISTINCT</code> when
        it was supposed to use a loose index scan, leading to incorrect
        results.
       (<a href="http://bugs.mysql.com/34928" target="_top">Bug#34928</a>)</p></li><li><p>
        Creating a foreign key on an <code class="literal">InnoDB</code> table
        that was created with an explicit
        <code class="literal">AUTO_INCREMENT</code> value caused that value to be
        reset to 1.
       (<a href="http://bugs.mysql.com/34920" target="_top">Bug#34920</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> failed to return an error code when
        using the <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a> option
        without binary logging being enabled on the server.
       (<a href="http://bugs.mysql.com/34909" target="_top">Bug#34909</a>)</p></li><li><p>
        Under some circumstances, the value of
        <a href="connectors-apis.html#mysql-insert-id" title="20.10.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> following a
        <code class="literal">SELECT ... INSERT</code> statement could return an
        incorrect value. This could happen when the last <code class="literal">SELECT
        ... INSERT</code> did not involve an
        <code class="literal">AUTO_INCREMENT</code> column, but the value of
        <a href="connectors-apis.html#mysql-insert-id" title="20.10.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> was changed by
        some previous statements.
       (<a href="http://bugs.mysql.com/34889" target="_top">Bug#34889</a>)</p></li><li><p>
        Logging to the progress tables used by
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> and
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> caused a server crash.
       (<a href="http://bugs.mysql.com/34858" target="_top">Bug#34858</a>)</p></li><li><p>
        Table and database names were mixed up in some places of the
        subquery transformation procedure. This could affect debugging
        trace output and further extensions of that procedure.
       (<a href="http://bugs.mysql.com/34830" target="_top">Bug#34830</a>)</p></li><li><p>
        If <code class="function">fsync()</code> returned
        <code class="literal">ENOLCK</code>, <code class="literal">InnoDB</code> could treat
        this as fatal and cause abnormal server termination.
        <code class="literal">InnoDB</code> now retries the operation.
       (<a href="http://bugs.mysql.com/34823" target="_top">Bug#34823</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-server" title="12.1.13. CREATE SERVER Syntax"><code class="literal">CREATE SERVER</code></a> and
        <a href="sql-syntax.html#alter-server" title="12.1.5. ALTER SERVER Syntax"><code class="literal">ALTER SERVER</code></a> could crash the
        server if out-of-memory conditions occurred.
       (<a href="http://bugs.mysql.com/34790" target="_top">Bug#34790</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-server" title="12.1.22. DROP SERVER Syntax"><code class="literal">DROP SERVER</code></a> does not release
        memory cached for server structures created by
        <a href="sql-syntax.html#create-server" title="12.1.13. CREATE SERVER Syntax"><code class="literal">CREATE SERVER</code></a>, so repeated
        iterations of these statements resulted in a memory leak.
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a> now releases the memory allocated for
        <a href="sql-syntax.html#create-server" title="12.1.13. CREATE SERVER Syntax"><code class="literal">CREATE SERVER</code></a>.
       (<a href="http://bugs.mysql.com/34789" target="_top">Bug#34789</a>)</p></li><li><p>
        A malformed URL used for a <code class="literal">FEDERATED</code>
        table's <code class="literal">CONNECTION</code> option value in a
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement was not
        handled correctly and could crash the server.
       (<a href="http://bugs.mysql.com/34788" target="_top">Bug#34788</a>)</p></li><li><p>
        Repeated <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> operations on a
        <code class="literal">Falcon</code> table could cause a memory leak.
       (<a href="http://bugs.mysql.com/34778" target="_top">Bug#34778</a>)</p></li><li><p>
        Queries such as <code class="literal">SELECT ROW(1, 2) IN (SELECT t1.a, 2)
        FROM t1 GROUP BY t1.a</code> (combining row constructors and
        subqueries in the <code class="literal">FROM</code> clause) could lead to
        assertion failure or unexpected error messages.
       (<a href="http://bugs.mysql.com/34763" target="_top">Bug#34763</a>)</p></li><li><p>
        Using <code class="literal">NAME_CONST()</code> with a negative number and
        an aggregate function caused MySQL to crash. This could also
        have a negative impact on replication.
       (<a href="http://bugs.mysql.com/34749" target="_top">Bug#34749</a>)</p></li><li><p>
        A memory-handling error associated with use of
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> in subqueries
        could result in a server crash.
       (<a href="http://bugs.mysql.com/34747" target="_top">Bug#34747</a>)</p></li><li><p>
        For an indexed integer column
        <em class="replaceable"><code>col_name</code></em> and a value
        <em class="replaceable"><code>N</code></em> that is one greater than the
        maximum value allowed for the data type of
        <em class="replaceable"><code>col_name</code></em>, conditions of the form
        <code class="literal">WHERE <em class="replaceable"><code>col_name</code></em> &lt;
        <em class="replaceable"><code>N</code></em></code> failed to return rows
        where the value of <em class="replaceable"><code>col_name</code></em> is
        <code class="literal"><em class="replaceable"><code>N</code></em> - 1</code>.
       (<a href="http://bugs.mysql.com/34731" target="_top">Bug#34731</a>)</p></li><li><p>
        A server running with the <a href="server-administration.html#option_mysqld_debug"><code class="option">--debug</code></a>
        option could attempt to dereference a null pointer when opening
        tables, resulting in a crash.
       (<a href="http://bugs.mysql.com/34726" target="_top">Bug#34726</a>)</p></li><li><p>
        Assigning an “<span class="quote">incremental</span>” value to the
        <a href="server-administration.html#sysvar_debug"><code class="literal">debug</code></a> system variable did not
        add the new value to the current value. For example, if the
        current <a href="server-administration.html#sysvar_debug"><code class="literal">debug</code></a> value was
        <code class="literal">'T'</code>, the statement <code class="literal">SET debug =
        '+P'</code> resulted in a value of <code class="literal">'P'</code>
        rather than the correct value of <code class="literal">'P:T'</code>.
       (<a href="http://bugs.mysql.com/34678" target="_top">Bug#34678</a>)</p></li><li><p>
        For debug builds, reading from
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> or
        <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a> could
        cause assertion failures. This could happen under rare
        circumstances when <code class="literal">INFORMATION_SCHEMA</code> fails
        to get information about a table (for example, when a connection
        is killed).
       (<a href="http://bugs.mysql.com/34656" target="_top">Bug#34656</a>)</p></li><li><p>
        Executing a <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> statement on
        a table having both a foreign key reference and a
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> trigger crashed the
        server.
       (<a href="http://bugs.mysql.com/34643" target="_top">Bug#34643</a>)</p></li><li><p>
        Some subqueries using an expression that included an aggregate
        function could fail or in some cases lead to a crash of the
        server.
       (<a href="http://bugs.mysql.com/34620" target="_top">Bug#34620</a>)</p></li><li><p>
        Dangerous pointer arithmetic crashed the server on some systems.
       (<a href="http://bugs.mysql.com/34598" target="_top">Bug#34598</a>)</p></li><li><p>
        Creating a view inside a stored procedure could lead to a crash
        of the MySQL Server.
       (<a href="http://bugs.mysql.com/34587" target="_top">Bug#34587</a>)</p></li><li><p>
        Concurrent <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> operations
        on temporary and non-temporary <code class="literal">Falcon</code> tables
        caused the server to hang.
       (<a href="http://bugs.mysql.com/34567" target="_top">Bug#34567</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/33634" target="_top">Bug#33634</a>.</p></li><li><p>
        A server crash could occur if
        <code class="literal">INFORMATION_SCHEMA</code> tables built in memory
        were swapped out to disk during query execution.
       (<a href="http://bugs.mysql.com/34529" target="_top">Bug#34529</a>)</p></li><li><p>
        <a href="functions.html#function_cast"><code class="literal">CAST(AVG(<em class="replaceable"><code>arg</code></em>) AS
        DECIMAL)</code></a> produced incorrect results for
        non-<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> arguments.
       (<a href="http://bugs.mysql.com/34512" target="_top">Bug#34512</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL falcon_record_chill_threshold</code> and
        <code class="literal">SET GLOBAL falcon_index_chill_threshold</code> did
        not work.
       (<a href="http://bugs.mysql.com/34486" target="_top">Bug#34486</a>)</p></li><li><p>
        The per-thread debugging settings stack was not being
        deallocated before thread termination, resulting in a stack
        memory leak.
       (<a href="http://bugs.mysql.com/34424" target="_top">Bug#34424</a>)</p></li><li><p>
        Client applications could not connect to the server on Windows
        Vista because the server was creating an IPv6-only TCP/IP
        socket.
       (<a href="http://bugs.mysql.com/34381" target="_top">Bug#34381</a>)</p></li><li><p>
        Inserting a unique record into a <code class="literal">Falcon</code>
        table, then performing a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a>
        on the same record resulted in the error <span class="errortext">Record has
        changed since last read</span>.
       (<a href="http://bugs.mysql.com/34351" target="_top">Bug#34351</a>)</p><p>See also <a href="http://bugs.mysql.com/29151" target="_top">Bug#29151</a>, <a href="http://bugs.mysql.com/35321" target="_top">Bug#35321</a>.</p></li><li><p>
        Executing an <a href="sql-syntax.html#alter-view" title="12.1.7. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> statement
        on a table crashed the server.
       (<a href="http://bugs.mysql.com/34337" target="_top">Bug#34337</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code>, exporting and importing a table
        could corrupt <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYBLOB</code></a> columns,
        and a subsequent <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        could corrupt <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> columns as
        well.
       (<a href="http://bugs.mysql.com/34300" target="_top">Bug#34300</a>)</p></li><li><p>
        On Windows, client programs generated assertion failures.
       (<a href="http://bugs.mysql.com/34298" target="_top">Bug#34298</a>)</p></li><li><p>
        <code class="literal">DEFAULT 0</code> was not allowed for the
        <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a> data type.
       (<a href="http://bugs.mysql.com/34274" target="_top">Bug#34274</a>)</p></li><li><p>
        Under some conditions, a <code class="literal">SET GLOBAL
        innodb_commit_concurrency</code> or <code class="literal">SET GLOBAL
        innodb_autoextend_increment</code> statement could fail.
       (<a href="http://bugs.mysql.com/34223" target="_top">Bug#34223</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> attempts to set the
        <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a> system
        variable after connecting to the server. This failed for pre-4.1
        servers that have no such variable, but
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> did not account for this and 1)
        failed to dump database contents; 2) failed to produce any error
        message alerting the user to the problem.
       (<a href="http://bugs.mysql.com/34192" target="_top">Bug#34192</a>)</p></li><li><p>
        Use of stored functions in the <code class="literal">WHERE</code> clause
        for <a href="sql-syntax.html#show-open-tables" title="12.5.6.25. SHOW OPEN TABLES Syntax"><code class="literal">SHOW OPEN TABLES</code></a> caused a
        server crash.
       (<a href="http://bugs.mysql.com/34166" target="_top">Bug#34166</a>)</p></li><li><p>
        Compilation failed on Solaris for the <code class="literal">ARCHIVE</code>
        storage engine due to inclusion of <code class="filename">getopt.h</code>
        in the <code class="literal">ARCHIVE</code> code.
       (<a href="http://bugs.mysql.com/34094" target="_top">Bug#34094</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE ... ENGINE=Falcon</code> failed with an
        unhelpful error message when the <code class="literal">Falcon</code>
        storage engine had failed to allocate the page cache properly on
        server startup. Now, <code class="literal">Falcon</code> is initialized on
        server startup, and is not loaded if the allocation fails.
       (<a href="http://bugs.mysql.com/34085" target="_top">Bug#34085</a>)</p></li><li><p>
        Updates of floating-point columns in
        <code class="literal">FEDERATED</code> tables could produce incorrect
        results.
       (<a href="http://bugs.mysql.com/34015" target="_top">Bug#34015</a>)</p></li><li><p>
        For a <code class="literal">FEDERATED</code> table with an index on a
        nullable column, accessing the table could crash a server,
        return an incorrect result set, or return <code class="literal">ERROR 1030
        (HY000): Got error 1430 from storage engine</code>.
       (<a href="http://bugs.mysql.com/33946" target="_top">Bug#33946</a>)</p></li><li><p>
        Passing anything other than a integer to a
        <code class="literal">LIMIT</code> clause in a prepared statement would
        fail. (This limitation was introduced to avoid replication
        problems; for example, replicating the statement with a string
        argument would cause a parse failure in the slave). Now,
        arguments to the <code class="literal">LIMIT</code> clause are converted
        to integer values, and these converted values are used when
        logging the statement.
       (<a href="http://bugs.mysql.com/33851" target="_top">Bug#33851</a>)</p></li><li><p>
        An internal buffer in <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> was too short.
        Overextending it could cause stack problems or segmentation
        violations on some architectures. (This is not a problem that
        could be exploited to run arbitrary code.)
       (<a href="http://bugs.mysql.com/33841" target="_top">Bug#33841</a>)</p></li><li><p>
        A query using <code class="literal">WHERE
        (column1='<em class="replaceable"><code>string1</code></em>' AND
        column2=<em class="replaceable"><code>constant1</code></em>) OR
        (column1='<em class="replaceable"><code>string2</code></em>' AND
        column2=<em class="replaceable"><code>constant2</code></em>)</code>, where
        <code class="literal">col1</code> used a binary collation and
        <em class="replaceable"><code>string1</code></em> matched
        <em class="replaceable"><code>string2</code></em> except for case, failed to
        match any records even when matches were found by a query using
        the equivalent clause <code class="literal">WHERE
        column2=<em class="replaceable"><code>constant1</code></em> OR
        column2=<em class="replaceable"><code>constant2</code></em></code>.
       (<a href="http://bugs.mysql.com/33833" target="_top">Bug#33833</a>)</p></li><li><p>
        Large unsigned integers were improperly handled for prepared
        statements, resulting in truncation or conversion to negative
        numbers.
       (<a href="http://bugs.mysql.com/33798" target="_top">Bug#33798</a>)</p></li><li><p>
        Reuse of prepared statements could cause a memory leak in the
        embedded server.
       (<a href="http://bugs.mysql.com/33796" target="_top">Bug#33796</a>)</p></li><li><p>
        The server crashed when executing a query that had a subquery
        containing an equality X=Y where Y referred to a named select
        list expression from the parent select. The server crashed when
        trying to use the X=Y equality for
        <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>-based access.
       (<a href="http://bugs.mysql.com/33794" target="_top">Bug#33794</a>)</p></li><li><p>
        Some queries using a combination of <code class="literal">IN</code>,
        <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a>, and an implicit type
        conversion could return an incorrect result.
       (<a href="http://bugs.mysql.com/33764" target="_top">Bug#33764</a>)</p></li><li><p>
        In some cases a query that produced a result set when using
        <code class="literal">ORDER BY ASC</code> did not return any results when
        this was changed to <code class="literal">ORDER BY DESC</code>.
       (<a href="http://bugs.mysql.com/33758" target="_top">Bug#33758</a>)</p></li><li><p>
        Disabling concurrent inserts caused some cacheable queries not
        to be saved in the query cache.
       (<a href="http://bugs.mysql.com/33756" target="_top">Bug#33756</a>)</p></li><li><p>
        <code class="literal">ORDER BY ... DESC</code> sorts could produce
        misordered results.
       (<a href="http://bugs.mysql.com/33697" target="_top">Bug#33697</a>)</p></li><li><p>
        Use of uninitialized memory for <code class="literal">filesort</code> in a
        subquery caused a server crash.
       (<a href="http://bugs.mysql.com/33675" target="_top">Bug#33675</a>)</p></li><li><p>
        The <a href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a> function
        returned incorrect results for column values when earlier column
        values were <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/33663" target="_top">Bug#33663</a>)</p></li><li><p>
        The server could crash when
        <a href="sql-syntax.html#repeat-statement" title="12.8.6.6. REPEAT
        Statement"><code class="literal">REPEAT</code></a>
        or another control instruction was used in conjunction with
        labels and a
        <a href="sql-syntax.html#leave-statement" title="12.8.6.4. LEAVE
        Statement"><code class="literal">LEAVE</code></a>
        instruction.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        The parser allowed control structures in compound statements to
        have mismatched beginning and ending labels.
       (<a href="http://bugs.mysql.com/33618" target="_top">Bug#33618</a>)</p></li><li><p>
        <span><strong class="command">make_binary_distribution</strong></span> passed the
        <code class="option">--print-libgcc-file</code> option to the C compiler,
        but this does not work with the <span><strong class="command">ICC</strong></span> compiler.
       (<a href="http://bugs.mysql.com/33536" target="_top">Bug#33536</a>)</p></li><li><p>
        Threads created by the event scheduler were incorrectly counted
        against the <a href="server-administration.html#sysvar_max_connections"><code class="literal">max_connections</code></a>
        thread limit, which could lead to client lockout.
       (<a href="http://bugs.mysql.com/33507" target="_top">Bug#33507</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE ... ENGINE=Falcon</code> failed on
        kernel 2.4 based Linux systems when using
        <code class="literal">O_DIRECT</code> with an NFS file system.
       (<a href="http://bugs.mysql.com/33484" target="_top">Bug#33484</a>)</p></li><li><p>
        Dropping a function after dropping the function's creator
        could cause the server to crash.
       (<a href="http://bugs.mysql.com/33464" target="_top">Bug#33464</a>)</p></li><li><p>
        For the <code class="literal">latin2_czech_cs</code> collation, the
        primary weights for all variants of capital letters
        <code class="literal">U</code> and <code class="literal">O</code> were incorrect
        (were not equal to the corresponding small letters).
      </p><p>
        As a result of this bug fix, indexes must be rebuilt for columns
        that use the <code class="literal">latin2_czech_cs collation</code>. See
        <a href="installing.html#checking-index-changes" title="2.11.3. Checking Whether Table Indexes Must Be Rebuilt">Section 2.11.3, “Checking Whether Table Indexes Must Be Rebuilt”</a>.
       (<a href="http://bugs.mysql.com/33452" target="_top">Bug#33452</a>)</p></li><li><p>
        Certain combinations of views, subselects with outer references
        and stored routines or triggers could cause the server to crash.
       (<a href="http://bugs.mysql.com/33389" target="_top">Bug#33389</a>)</p></li><li><p>
        <code class="literal">SET GLOBAL myisam_max_sort_file_size=DEFAULT</code>
        set <a href="server-administration.html#sysvar_myisam_max_sort_file_size"><code class="literal">myisam_max_sort_file_size</code></a>
        to an incorrect value.
       (<a href="http://bugs.mysql.com/33382" target="_top">Bug#33382</a>)</p><p>See also <a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>.</p></li><li><p>
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a>- or
        <code class="literal">SET</code>-valued plugin variables could not be set
        from the command line.
       (<a href="http://bugs.mysql.com/33358" target="_top">Bug#33358</a>)</p></li><li><p>
        If the <code class="literal">mysql</code> database was named in the
        <a href="sql-syntax.html#backup-database" title="12.5.3.1. BACKUP DATABASE Syntax"><code class="literal">BACKUP DATABASE</code></a> statement, the
        backup operation hung.
       (<a href="http://bugs.mysql.com/33355" target="_top">Bug#33355</a>)</p></li><li><p>
        Loading plugins via command-line options to
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could cause an assertion failure.
       (<a href="http://bugs.mysql.com/33345" target="_top">Bug#33345</a>)</p></li><li><p>
        <a href="functions.html#function_sleep"><code class="literal">SLEEP(0)</code></a> failed to return on
        64-bit Mac OS X due to a bug in
        <code class="function">pthread_cond_timedwait()</code>.
       (<a href="http://bugs.mysql.com/33304" target="_top">Bug#33304</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> created tables that for date columns used the
        obsolete <code class="literal">Field_date</code> type instead of
        <code class="literal">Field_newdate</code>.
       (<a href="http://bugs.mysql.com/33256" target="_top">Bug#33256</a>)</p></li><li><p>
        For <code class="literal">MyISAM</code> tables, <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> (non-<code class="literal">QUICK</code>) and any form of
        <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> incorrected treated
        rows as corrupted under the combination of the following
        conditions:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            The table had dynamic row format
          </p></li><li><p>
            The table had a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> (not
            <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>) column longer than
            127 bytes (for multi-byte character sets this could be less
            than 127 characters)
          </p></li><li><p>
            The table had rows with a signifcant length of more than 127
            bytes significant length in that
            <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column (that is, a byte
            beyond byte position 127 must be a non-space character)
          </p></li></ul></div><p>
        This problem affected <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a>, <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a>,
        <a href="sql-syntax.html#optimize-table" title="12.5.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a>,
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>.
        <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK TABLE</code></a> reported and marked
        the table as crashed if any row was present that fulfilled the
        third condition. The other statements deleted these rows.
       (<a href="http://bugs.mysql.com/33222" target="_top">Bug#33222</a>)</p></li><li><p>
        The error message was vague for attempts to drop a
        <code class="literal">Falcon</code> tablespace that contained tables. Now
        the message <span class="errortext">Tablespace busy</span> is returned.
       (<a href="http://bugs.mysql.com/33216" target="_top">Bug#33216</a>)</p></li><li><p>
        When creating temporary tables within <code class="literal">Falcon</code>,
        the tables are automatically created in the
        <code class="literal">FALCON_TEMPORARY</code> tablespace. If you specify
        an alternate tablespace to the <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> statement a warning will now be issued to that
        effect.
       (<a href="http://bugs.mysql.com/33211" target="_top">Bug#33211</a>)</p></li><li><p>
        Granting the <a href="server-administration.html#priv_update"><code class="literal">UPDATE</code></a> privilege on
        one column of a view caused the server to crash.
       (<a href="http://bugs.mysql.com/33201" target="_top">Bug#33201</a>)</p></li><li><p>
        For <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns used with the
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        function with a non-constant value of
        <em class="replaceable"><code>D</code></em>, adding an <code class="literal">ORDER
        BY</code> for the function result produced misordered output.
       (<a href="http://bugs.mysql.com/33143" target="_top">Bug#33143</a>)</p><p>See also <a href="http://bugs.mysql.com/33402" target="_top">Bug#33402</a>, <a href="http://bugs.mysql.com/30617" target="_top">Bug#30617</a>.</p></li><li><p>
        Some valid <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements
        could not be used as views due to incorrect column reference
        resolution.
       (<a href="http://bugs.mysql.com/33133" target="_top">Bug#33133</a>)</p></li><li><p>
        The weight for supplementary Unicode characters should be
        <code class="literal">0xFFFD</code>, but the
        <a href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a> function returned
        <code class="literal">0x0DC6</code> instead.
       (<a href="http://bugs.mysql.com/33077" target="_top">Bug#33077</a>)</p></li><li><p>
        The <code class="literal">CSV</code> engine did not honor update requests
        for <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns when the new
        column value had the same length as the value to be updated.
       (<a href="http://bugs.mysql.com/33067" target="_top">Bug#33067</a>)</p></li><li><p>
        After receiving a <code class="literal">SIGHUP</code> signal, the server
        could crash, and user-specified log options were ignored when
        reopening the logs.
       (<a href="http://bugs.mysql.com/33065" target="_top">Bug#33065</a>)</p></li><li><p>
        Repeatedly executing a query with a semi-join subquery could
        cause a server crash.
       (<a href="http://bugs.mysql.com/33062" target="_top">Bug#33062</a>)</p></li><li><p>
        The fix for <a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a> and <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a> introduced a significant
        input-parsing slowdown for the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client.
        This has been corrected.
       (<a href="http://bugs.mysql.com/33057" target="_top">Bug#33057</a>)</p></li><li><p>
        When MySQL was built with OpenSSL, the SSL library was not
        properly initialized with information of which endpoint it was
        (server or client), causing connection failures.
       (<a href="http://bugs.mysql.com/33050" target="_top">Bug#33050</a>)</p></li><li><p>
        Under some circumstances a combination of aggregate functions
        and <code class="literal">GROUP BY</code> in a
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> query over a view could
        lead to incorrect calculation of the result type of the
        aggregate function. This in turn could lead to incorrect
        results, or to crashes on debug builds of the server.
       (<a href="http://bugs.mysql.com/33049" target="_top">Bug#33049</a>)</p></li><li><p>
        It was not possible to set the value of
        <a href="storage-engines.html#sysvar_falcon_consistent_read"><code class="literal">falcon_consistent_read</code></a> within
        the local scope. You can now set the global value, using
        <a href="sql-syntax.html#set-option" title="12.5.5. SET Syntax"><code class="literal">SET
        GLOBAL</code></a>, but this affects only the current local scope
        and all new connections made after the global variable was set.
       (<a href="http://bugs.mysql.com/33041" target="_top">Bug#33041</a>)</p></li><li><p>
        The new index condition pushdown optimization could cause a
        server crash when used with the range access method over an
        <code class="literal">InnoDB</code> table.
       (<a href="http://bugs.mysql.com/33033" target="_top">Bug#33033</a>)</p></li><li><p>
        For <code class="literal">DISTINCT</code> queries, 4.0 and 4.1 stopped
        reading joined tables as soon as the first matching row was
        found. However, this optimization was lost in MySQL 5.0, which
        instead read all matching rows. This fix for this regression may
        result in a major improvement in performance for
        <code class="literal">DISTINCT</code> queries in cases where many rows
        match.
       (<a href="http://bugs.mysql.com/32942" target="_top">Bug#32942</a>)</p></li><li><p>
        Repeated creation and deletion of views within prepared
        statements could eventually crash the server.
       (<a href="http://bugs.mysql.com/32890" target="_top">Bug#32890</a>)</p><p>See also <a href="http://bugs.mysql.com/34587" target="_top">Bug#34587</a>.</p></li><li><p>
        The correct data type for a <code class="literal">NULL</code> column
        resulting from a <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a> could be
        determined incorrectly in some cases: 1) Not correctly inferred
        as <code class="literal">NULL</code> depending on the number of selects;
        2) Not inferred correctly as <code class="literal">NULL</code> if one
        select used a subquery.
       (<a href="http://bugs.mysql.com/32848" target="_top">Bug#32848</a>)</p></li><li><p>
        For queries containing <code class="literal">GROUP_CONCAT(DISTINCT
        <em class="replaceable"><code>col_list</code></em> ORDER BY
        <em class="replaceable"><code>col_list</code></em>)</code>, there was a
        limitation that the <code class="literal">DISTINCT</code> columns had to
        be the same as <code class="literal">ORDER BY</code> columns. Incorrect
        results could be returned if this was not true.
       (<a href="http://bugs.mysql.com/32798" target="_top">Bug#32798</a>)</p></li><li><p>
        Incorrect assertions could cause a server crash for
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> triggers for transactional
        tables.
       (<a href="http://bugs.mysql.com/32790" target="_top">Bug#32790</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-events" title="12.5.6.19. SHOW EVENTS Syntax"><code class="literal">SHOW EVENTS</code></a> and selecting from
        the <a href="information-schema.html#events-table" title="19.20. The INFORMATION_SCHEMA EVENTS Table"><code class="literal">INFORMATION_SCHEMA.EVENTS</code></a> table
        failed if the current database was
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/32775" target="_top">Bug#32775</a>)</p></li><li><p>
        In some cases where setting a system variable failed, no error
        was sent to the client, causing the client to hang.
       (<a href="http://bugs.mysql.com/32757" target="_top">Bug#32757</a>)</p></li><li><p>
        Enabling the
        <a href="server-administration.html#sqlmode_pad_char_to_full_length"><code class="literal">PAD_CHAR_TO_FULL_LENGTH</code></a> SQL
        mode caused privilege-loading operations (such as
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
        PRIVILEGES</code></a>) to include trailing spaces from grant
        table values stored in <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>
        columns. Authentication for incoming connections failed as a
        result. Now privilege loading does not include trailing spaces,
        regardless of SQL mode.
       (<a href="http://bugs.mysql.com/32753" target="_top">Bug#32753</a>)</p></li><li><p>
        Use of the <code class="literal">cp932</code> character set with
        <a href="functions.html#function_cast"><code class="literal">CAST()</code></a> in an <code class="literal">ORDER
        BY</code> clause could cause a server crash.
       (<a href="http://bugs.mysql.com/32726" target="_top">Bug#32726</a>)</p></li><li><p>
        The <a href="sql-syntax.html#show-engine" title="12.5.6.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE
        INNODB STATUS</code></a> and
        <a href="sql-syntax.html#show-engine" title="12.5.6.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE INNODB
        MUTEX</code></a> statements incorrectly required the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege rather than the
        <a href="server-administration.html#priv_process"><code class="literal">PROCESS</code></a> privilege.
       (<a href="http://bugs.mysql.com/32710" target="_top">Bug#32710</a>)</p></li><li><p>
        Inserting strings with a common prefix into a table that used
        the <code class="literal">ucs2</code> character set corrupted the table.
       (<a href="http://bugs.mysql.com/32705" target="_top">Bug#32705</a>)</p></li><li><p>
        A subquery using an <code class="literal">IS NULL</code> check of a column
        defined as <code class="literal">NOT NULL</code> in a table used in the
        <code class="literal">FROM</code> clause of the outer query produced an
        invalid result.
       (<a href="http://bugs.mysql.com/32694" target="_top">Bug#32694</a>)</p></li><li><p>
        Specifying a non-existent column for an
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> statement caused a
        server crash rather than producing an error.
       (<a href="http://bugs.mysql.com/32676" target="_top">Bug#32676</a>)</p></li><li><p>
        Tables in the <code class="literal">mysql</code> database that stored the
        current <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> value as part
        of stored program definitions were not updated with newer mode
        values
        (<a href="server-administration.html#sqlmode_no_engine_substitution"><code class="literal">NO_ENGINE_SUBSTITUTION</code></a>,
        <a href="server-administration.html#sqlmode_pad_char_to_full_length"><code class="literal">PAD_CHAR_TO_FULL_LENGTH</code></a>). This
        causes various problems defining stored programs if those modes
        were included in the current
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> value.
       (<a href="http://bugs.mysql.com/32633" target="_top">Bug#32633</a>)</p></li><li><p>
        Use of <code class="literal">CLIENT_MULTI_QUERIES</code> caused
        <code class="literal">libmysqld</code> to crash.
       (<a href="http://bugs.mysql.com/32624" target="_top">Bug#32624</a>)</p></li><li><p>
        A <code class="literal">SELECT ... GROUP BY
        <em class="replaceable"><code>bit_column</code></em></code> query failed
        with an assertion if the length of the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> column used for the
        <code class="literal">GROUP BY</code> was not an integer multiple of 8.
       (<a href="http://bugs.mysql.com/32556" target="_top">Bug#32556</a>)</p></li><li><p>
        A view created with a string literal for one of the columns
        picked up the connection character set, but not the collation.
        Comparison to that field therefore used the default collation
        for that character set, causing an error if the connection
        collation was not compatible with the default collation. The
        problem was caused by text literals in a view being dumped with
        a character set introducer even when this was not necessary,
        sometimes leading to a loss of collation information. Now the
        character set introducer is dumped only if it was included in
        the original query.
       (<a href="http://bugs.mysql.com/32538" target="_top">Bug#32538</a>)</p><p>See also <a href="http://bugs.mysql.com/21505" target="_top">Bug#21505</a>.</p></li><li><p>
        Using <code class="literal">SELECT INTO OUTFILE</code> with 8-bit
        <code class="literal">ENCLOSED BY</code> characters led to corrupted data
        when the data was reloaded using LOAD DATA INFILE. This was
        because <code class="literal">SELECT INTO OUTFILE</code> failed to escape
        the 8-bit characters.
       (<a href="http://bugs.mysql.com/32533" target="_top">Bug#32533</a>)</p></li><li><p>
        For <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH
        READ LOCK</code></a>, the server failed to properly detect
        write-locked tables when running with low-priority updates,
        resulting in a crash or deadlock.
       (<a href="http://bugs.mysql.com/32528" target="_top">Bug#32528</a>)</p></li><li><p>
        Queries using <code class="literal">LIKE</code> on tables having indexed
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> columns using either of the
        <code class="literal">eucjpms</code> or <code class="literal">ujis</code> character
        sets did not return correct results.
       (<a href="http://bugs.mysql.com/32510" target="_top">Bug#32510</a>)</p></li><li><p>
        A query of the form <code class="literal">SELECT
        @<em class="replaceable"><code>user_variable</code></em> :=
        <em class="replaceable"><code>constant</code></em> AS
        <em class="replaceable"><code>alias</code></em> FROM
        <em class="replaceable"><code>table</code></em> GROUP BY
        <em class="replaceable"><code>alias</code></em> WITH ROLLUP</code> crashed
        the server.
       (<a href="http://bugs.mysql.com/32482" target="_top">Bug#32482</a>)</p></li><li><p>
        Sending several <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL
        QUERY</code></a> statements to target a connection running
        <code class="literal">SELECT SLEEP()</code> could freeze the server.
       (<a href="http://bugs.mysql.com/32436" target="_top">Bug#32436</a>)</p></li><li><p>
        <code class="literal">ssl-cipher</code> values in option files were not
        being read by <code class="literal">libmysqlclient</code>.
       (<a href="http://bugs.mysql.com/32429" target="_top">Bug#32429</a>)</p></li><li><p>
        Repeated execution of a query containing a
        <a href="sql-syntax.html#case-statement" title="12.8.6.2. CASE Statement"><code class="literal">CASE</code></a>
        expression and numerous <code class="literal">AND</code> and
        <code class="literal">OR</code> relations could crash the server. The root
        cause of the issue was determined to be that the internal
        <code class="literal">SEL_ARG</code> structure was not properly
        initialized when created.
       (<a href="http://bugs.mysql.com/32403" target="_top">Bug#32403</a>)</p></li><li><p>
        Referencing within a subquery an alias used in the
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> list of the outer query
        was incorrectly permitted.
       (<a href="http://bugs.mysql.com/32400" target="_top">Bug#32400</a>)</p></li><li><p>
        If a global read lock acquired with
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLES WITH READ
        LOCK</code></a> was in effect, executing
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> could cause a server
        crash.
       (<a href="http://bugs.mysql.com/32395" target="_top">Bug#32395</a>)</p></li><li><p>
        <code class="literal">utf16</code> columns allowed incorrect Unicode
        characters inserted through conversion from another Unicode
        character set.
       (<a href="http://bugs.mysql.com/32393" target="_top">Bug#32393</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> query on a view created using a
        <code class="literal">FEDERATED</code> table as a base table caused the
        server to crash.
       (<a href="http://bugs.mysql.com/32374" target="_top">Bug#32374</a>)</p></li><li><p>
        The <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> utility did not print enough
        version information about itself at the top of its output. The
        output now shows the same information as
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> invoked with the
        <code class="option">-V</code> option, namely the
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> version number, the MySQL server
        version, and the distribution.
       (<a href="http://bugs.mysql.com/32350" target="_top">Bug#32350</a>)</p></li><li><p>
        Comparison of a <code class="literal">BIGINT NOT NULL</code> column with a
        constant arithmetic expression that evaluated to NULL mistakenly
        caused the error <span class="errortext">Column '...' cannot be
        null</span> (error 1048).
       (<a href="http://bugs.mysql.com/32335" target="_top">Bug#32335</a>)</p></li><li><p>
        Assigning a 65,536-byte string to a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column (which can hold a
        maximum of 65,535 bytes) resulted in truncation without a
        warning. Now a truncation warning is generated.
       (<a href="http://bugs.mysql.com/32282" target="_top">Bug#32282</a>)</p></li><li><p>
        The <a href="functions.html#function_last-day"><code class="literal">LAST_DAY()</code></a> function returns a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value, but internally the
        value did not have the time fields zeroed and calculations
        involving the value could return incorrect results.
       (<a href="http://bugs.mysql.com/32270" target="_top">Bug#32270</a>)</p></li><li><p>
        <a href="functions.html#function_min"><code class="literal">MIN()</code></a> and
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> could return incorrect
        results when an index was present if a loose index scan was
        used.
       (<a href="http://bugs.mysql.com/32268" target="_top">Bug#32268</a>)</p></li><li><p>
        Executing a prepared statement associated with a materialized
        cursor sent to the client a metadata packet with incorrect table
        and database names. The problem occurred because the server sent
        the name of the temporary table used by the cursor instead of
        the table name of the original table.
      </p><p>
        The same problem occured when selecting from a view, in which
        case the name of the table name was sent, rather than the name
        of the view.
       (<a href="http://bugs.mysql.com/32265" target="_top">Bug#32265</a>)</p></li><li><p>
        Memory corruption could occur due to large index map in
        <code class="literal">Range checked for each record</code> status reported
        by <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN
        SELECT</code></a>. The problem was based in an incorrectly
        calculated length of the buffer used to store a hexadecimal
        representation of an index map, which could result in buffer
        overrun and stack corruption under some circumstances.
       (<a href="http://bugs.mysql.com/32241" target="_top">Bug#32241</a>)</p></li><li><p>
        Various test program cleanups were made: 1)
        <span><strong class="command">mytest</strong></span> and <code class="literal">libmysqltest</code>
        were removed. 2) <span><strong class="command">bug25714</strong></span> displays an error
        message when invoked with incorrect arguments or the
        <code class="option">--help</code> option. 3)
        <span><strong class="command">mysql_client_test</strong></span> exits cleanly with a proper
        error status.
       (<a href="http://bugs.mysql.com/32221" target="_top">Bug#32221</a>)</p></li><li><p>
        The default grant tables on Windows contained information for
        host <code class="literal">production.mysql.com</code>, which should not
        be there.
       (<a href="http://bugs.mysql.com/32219" target="_top">Bug#32219</a>)</p></li><li><p>
        For comparisons of the form <em class="replaceable"><code>date_col OP
        datetime_const</code></em> (where
        <em class="replaceable"><code>OP</code></em> is
        <a href="functions.html#operator_equal"><code class="literal">=</code></a>,
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a>,
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a>,
        <a href="functions.html#operator_less-than-or-equal"><code class="literal">&lt;=</code></a>,
        or
        <a href="functions.html#operator_greater-than-or-equal"><code class="literal">&gt;=</code></a>),
        the comparison is done using
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> values, per the fix for
        <a href="http://bugs.mysql.com/27590" target="_top">Bug#27590</a>. However that fix caused any index on
        <em class="replaceable"><code>date_col</code></em> not to be used and
        compromised performance. Now the index is used again.
       (<a href="http://bugs.mysql.com/32198" target="_top">Bug#32198</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> arguments specified in
        numeric form were treated by
        <a href="functions.html#function_date-add"><code class="literal">DATE_ADD()</code></a> as
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> values.
       (<a href="http://bugs.mysql.com/32180" target="_top">Bug#32180</a>)</p></li><li><p>
        When <span><strong class="command">configure</strong></span> was run with
        <code class="literal">--with-libevent</code>, <code class="literal">libevent</code>
        was not linked statically with <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>,
        preventing <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> from being run with a
        debugger.
       (<a href="http://bugs.mysql.com/32156" target="_top">Bug#32156</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> adaptive hash latches could be held
        too long, resulting in a server crash. This fix may also provide
        significant performance improvements on systems on which many
        queries using filesorts with temporary tables are being
        performed.
       (<a href="http://bugs.mysql.com/32149" target="_top">Bug#32149</a>)</p></li><li><p>
        Killing a statement could lead to a race condition in the
        server.
       (<a href="http://bugs.mysql.com/32148" target="_top">Bug#32148</a>)</p></li><li><p>
        String-to-double conversion was performed differently when the
        prepared-statement protocol was used from when it was not.
       (<a href="http://bugs.mysql.com/32095" target="_top">Bug#32095</a>)</p></li><li><p>
        With <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
        set, <code class="literal">CREATE TABLE LIKE</code> was treated
        differently by <code class="literal">libmysqld</code> than by the
        non-embedded server.
       (<a href="http://bugs.mysql.com/32063" target="_top">Bug#32063</a>)</p></li><li><p>
        On Windows, <span><strong class="command">mysqltest_embedded.exe</strong></span> did not
        properly execute the <code class="literal">send</code> command.
       (<a href="http://bugs.mysql.com/32044" target="_top">Bug#32044</a>)</p></li><li><p>
        Within a subquery, <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a> was
        handled differently than at the top level, which could result in
        incorrect results or a server crash.
       (<a href="http://bugs.mysql.com/32036" target="_top">Bug#32036</a>, <a href="http://bugs.mysql.com/32051" target="_top">Bug#32051</a>)</p></li><li><p>
        <a href="functions.html#function_hour"><code class="literal">HOUR()</code></a>,
        <a href="functions.html#function_minute"><code class="literal">MINUTE()</code></a>, and
        <a href="functions.html#function_second"><code class="literal">SECOND()</code></a> could return non-zero
        values for <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> arguments.
       (<a href="http://bugs.mysql.com/31990" target="_top">Bug#31990</a>)</p></li><li><p>
        A variable named <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a>
        could be declared even though that is a reserved word.
       (<a href="http://bugs.mysql.com/31947" target="_top">Bug#31947</a>)</p></li><li><p>
        On Windows, the build process failed with four parallel build
        threads.
       (<a href="http://bugs.mysql.com/31929" target="_top">Bug#31929</a>)</p></li><li><p>
        Changing the SQL mode to cause dates with “<span class="quote">zero</span>”
        parts to be considered invalid (such as
        <code class="literal">'1000-00-00'</code>) could result in indexed and
        non-indexed searches returning different results for a column
        that contained such dates.
       (<a href="http://bugs.mysql.com/31928" target="_top">Bug#31928</a>)</p></li><li><p>
        The server used unnecessarily large amounts of memory when user
        variables were used as an argument to
        <a href="functions.html#function_concat"><code class="literal">CONCAT()</code></a> or
        <a href="functions.html#function_concat-ws"><code class="literal">CONCAT_WS()</code></a>.
       (<a href="http://bugs.mysql.com/31898" target="_top">Bug#31898</a>)</p></li><li><p>
        Queries testing numeric constants containing leading zeroes
        against <code class="literal">ZEROFILL</code> columns were not evaluated
        correctly.
       (<a href="http://bugs.mysql.com/31887" target="_top">Bug#31887</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> sometimes set up test
        scenarios in which the same port number was passed to multiple
        servers, causing one of them to be unable to start.
       (<a href="http://bugs.mysql.com/31880" target="_top">Bug#31880</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> led to the wrong result when
        using the <code class="literal">ARCHIVE</code> on a table with a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> when the table cache was
        full. The table could also be reported as crashed after the
        query had completed, even though the table data was intact.
       (<a href="http://bugs.mysql.com/31833" target="_top">Bug#31833</a>)</p></li><li><p>
        Name resolution for correlated subqueries and
        <code class="literal">HAVING</code> clauses failed to distinguish which of
        two was being performed when there was a reference to an outer
        aliased field. This could result in error messages about a
        <code class="literal">HAVING</code> clause for queries that had no such
        clause.
       (<a href="http://bugs.mysql.com/31797" target="_top">Bug#31797</a>)</p></li><li><p>
        If an error occurred during file creation, the server sometimes
        did not remove the file, resulting in an unused file in the file
        system.
       (<a href="http://bugs.mysql.com/31781" target="_top">Bug#31781</a>)</p></li><li><p>
        The <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> crash handler failed on Windows.
       (<a href="http://bugs.mysql.com/31745" target="_top">Bug#31745</a>)</p></li><li><p>
        <a href="programs.html#mysqlslap" title="4.5.7. mysqlslap — Load Emulation Client"><span><strong class="command">mysqlslap</strong></span></a> failed to commit after the final
        record load.
       (<a href="http://bugs.mysql.com/31704" target="_top">Bug#31704</a>)</p></li><li><p>
        <code class="literal">ucs2</code> does not work as a client character set,
        but attempts to use it as such were not rejected. Now
        <a href="server-administration.html#sysvar_character_set_client"><code class="literal">character_set_client</code></a> cannot be
        set to <code class="literal">ucs2</code>. This also affects statements
        such as <code class="literal">SET NAMES</code> and <code class="literal">SET CHARACTER
        SET</code>.
       (<a href="http://bugs.mysql.com/31615" target="_top">Bug#31615</a>)</p></li><li><p>
        The server returned the error message <span class="errortext">Out of memory;
        restart server and try again</span> when the actual problem
        was that the sort buffer was too small. Now an appropriate error
        message is returned in such cases.
       (<a href="http://bugs.mysql.com/31590" target="_top">Bug#31590</a>)</p></li><li><p>
        For a table that had been opened with
        <a href="sql-syntax.html#handler" title="12.2.4. HANDLER Syntax"><code class="literal">HANDLER</code></a> and marked for reopening
        after being closed with
        <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLES</code></a>,
        <a href="sql-syntax.html#drop-table" title="12.1.23. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> did not properly
        discard the handler.
       (<a href="http://bugs.mysql.com/31397" target="_top">Bug#31397</a>)</p></li><li><p>
        A table having an index that included a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column, and that was
        originally created with a MySQL server using version 4.1 or
        earlier, could not be opened by a 5.1 or later server.
       (<a href="http://bugs.mysql.com/31331" target="_top">Bug#31331</a>)</p></li><li><p>
        The <code class="literal">-</code>, <code class="literal">*</code>, and
        <code class="literal">/</code> operators and the functions
        <a href="functions.html#function_pow"><code class="literal">POW()</code></a> and
        <a href="functions.html#function_exp"><code class="literal">EXP()</code></a> could misbehave when used
        with floating-point numbers. Previously they might return
        <code class="literal">+INF</code>, <code class="literal">-INF</code>, or
        <code class="literal">NaN</code> in cases of numeric overflow (including
        that caused by division by zero) or when invalid arguments were
        used. Now <code class="literal">NULL</code> is returned in all such cases.
       (<a href="http://bugs.mysql.com/31236" target="_top">Bug#31236</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-change-user" title="20.10.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function caused global
        <code class="literal">Com_<em class="replaceable"><code>xxx</code></em></code> status
        variable values to be incorrect.
       (<a href="http://bugs.mysql.com/31222" target="_top">Bug#31222</a>)</p></li><li><p>
        When sorting privilege table rows, the server treated escaped
        wildcard characters (<code class="literal">\%</code> and
        <code class="literal">\_</code>) the same as unescaped wildcard characters
        (<code class="literal">%</code> and <code class="literal">_</code>), resulting in
        incorrect row ordering.
       (<a href="http://bugs.mysql.com/31194" target="_top">Bug#31194</a>)</p></li><li><p>
        Server variables could not be set to their current values on
        Linux platforms. (Additional fixes were made in MySQL 6.0.9 and
        6.0.10.)
       (<a href="http://bugs.mysql.com/31177" target="_top">Bug#31177</a>)</p><p>See also <a href="http://bugs.mysql.com/6958" target="_top">Bug#6958</a>.</p></li><li><p>
        Data in <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <code class="literal">GEOMETRY</code> columns could be cropped when
        performing a <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a> query.
       (<a href="http://bugs.mysql.com/31158" target="_top">Bug#31158</a>)</p></li><li><p>
        The server crashed in the parser when running out of memory.
        Memory handling in the parser has been improved to gracefully
        return an error when out-of-memory conditions occur in the
        parser.
       (<a href="http://bugs.mysql.com/31153" target="_top">Bug#31153</a>)</p></li><li><p>
        MySQL declares a <code class="literal">UNIQUE</code> key as a
        <code class="literal">PRIMARY</code> key if it doesn't have
        <code class="literal">NULL</code> columns and is not a partial key, and
        the <code class="literal">PRIMARY</code> key must alway be the first key.
        However, in some cases, a non-first key could be reported as
        <code class="literal">PRIMARY</code>, leading to an assert failure by
        <code class="literal">InnoDB</code>. This is fixed by correcting the key
        sort order.
       (<a href="http://bugs.mysql.com/31137" target="_top">Bug#31137</a>)</p></li><li><p>
        Many nested subqueries in a single query could led to excessive
        memory consumption and possibly a crash of the server.
       (<a href="http://bugs.mysql.com/31048" target="_top">Bug#31048</a>)</p></li><li><p>
        An assertion failure occurred for queries containing two
        subqueries if both subqueries were evaluated using a semi-join
        strategy.
       (<a href="http://bugs.mysql.com/31040" target="_top">Bug#31040</a>)</p></li><li><p>
        On Windows, <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a>
        could display process entries with a <code class="literal">State</code>
        value of <code class="literal">*** DEAD ***</code>.
       (<a href="http://bugs.mysql.com/30960" target="_top">Bug#30960</a>)</p></li><li><p>
        <a href="functions.html#function_round"><code class="literal">ROUND(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        or
        <a href="functions.html#function_truncate"><code class="literal">TRUNCATE(<em class="replaceable"><code>X</code></em>,<em class="replaceable"><code>D</code></em>)</code></a>
        for non-constant values of <em class="replaceable"><code>D</code></em> could
        crash the server if these functions were used in an
        <code class="literal">ORDER BY</code> that was resolved using
        <code class="literal">filesort</code>.
       (<a href="http://bugs.mysql.com/30889" target="_top">Bug#30889</a>)</p></li><li><p>
        Resetting the query cache by issuing a <code class="literal">SET GLOBAL
        query_cache_size=0</code> statement caused the server to
        crash if it concurrently was saving a new result set to the
        query cache.
       (<a href="http://bugs.mysql.com/30887" target="_top">Bug#30887</a>)</p></li><li><p>
        Manifest problems prevented
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> from running on
        Windows Vista.
       (<a href="http://bugs.mysql.com/30823" target="_top">Bug#30823</a>)</p></li><li><p>
        The optimizer incorrectly optimized conditions out of the
        <code class="literal">WHERE</code> clause in some queries involving
        subqueries and indexed columns.
       (<a href="http://bugs.mysql.com/30788" target="_top">Bug#30788</a>)</p></li><li><p>
        If an alias was used to refer to the value returned by a stored
        function within a subselect, the outer select recognized the
        alias but failed to retrieve the value assigned to it in the
        subselect.
       (<a href="http://bugs.mysql.com/30787" target="_top">Bug#30787</a>)</p></li><li><p>
        Improper calculation of <a href="functions.html#operator_case"><code class="literal">CASE</code></a>
        expression results could lead to value truncation.
       (<a href="http://bugs.mysql.com/30782" target="_top">Bug#30782</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_thread_handling"><code class="literal">thread_handling</code></a> system
        variable was treated as having a <code class="literal">SESSION</code>
        value and as being settable at runtime. Now it has only a
        <code class="literal">GLOBAL</code> read-only value.
       (<a href="http://bugs.mysql.com/30651" target="_top">Bug#30651</a>)</p></li><li><p>
        If the optimizer used a Multi-Range Read access method for index
        lookups, incorrect results could occur for rows that contained
        any of the <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> data types.
       (<a href="http://bugs.mysql.com/30622" target="_top">Bug#30622</a>)</p></li><li><p>
        Binary logging for a stored procedure differed depending on
        whether or not execution occurred in a prepared statement.
       (<a href="http://bugs.mysql.com/30604" target="_top">Bug#30604</a>)</p></li><li><p>
        When casting a string value to an integer, cases where the input
        string contained a decimal point and was long enough to overrun
        the <code class="literal">unsigned long long</code> type were not handled
        correctly. The position of the decimal point was not taken into
        account which resulted in miscalculated numbers and incorrect
        truncation to appropriate SQL data type limits.
       (<a href="http://bugs.mysql.com/30453" target="_top">Bug#30453</a>)</p></li><li><p>
        With <code class="literal">libmysqld</code>, use of prepared statements
        and the query cache at the same time caused problems.
       (<a href="http://bugs.mysql.com/30430" target="_top">Bug#30430</a>)</p></li><li><p>
        For <code class="literal">CREATE ... SELECT ... FROM</code>, where the
        resulting table contained indexes, adding
        <code class="literal">SQL_BUFFER_RESULT</code> to the
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> part caused index
        corruption in the table.
       (<a href="http://bugs.mysql.com/30384" target="_top">Bug#30384</a>)</p></li><li><p>
        An orphaned PID file from a no-longer-running process could
        cause <a href="programs.html#mysql-server" title="4.3.3. mysql.server — MySQL Server Startup Script"><span><strong class="command">mysql.server</strong></span></a> to wait for that process
        to exit even though it does not exist.
       (<a href="http://bugs.mysql.com/30378" target="_top">Bug#30378</a>)</p></li><li><p>
        The optimizer made incorrect assumptions about the value of the
        <code class="literal">is_member</code> value for user-defined functions,
        sometimes resulting in incorrect ordering of UDF results.
       (<a href="http://bugs.mysql.com/30355" target="_top">Bug#30355</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Table_locks_waited"><code class="literal">Table_locks_waited</code></a> waited
        variable was not incremented in the cases that a lock had to be
        waited for but the waiting thread was killed or the request was
        aborted.
       (<a href="http://bugs.mysql.com/30331" target="_top">Bug#30331</a>)</p></li><li><p>
        Simultaneous <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statements for <code class="literal">BLACKHOLE</code> tables caused 100%
        CPU use due to locking problems.
       (<a href="http://bugs.mysql.com/30294" target="_top">Bug#30294</a>)</p></li><li><p>
        Tables with a <code class="literal">GEOMETRY</code> column could be marked
        as corrupt if you added a non-<code class="literal">SPATIAL</code> index
        on a <code class="literal">GEOMETRY</code> column.
       (<a href="http://bugs.mysql.com/30284" target="_top">Bug#30284</a>)</p></li><li><p>
        Flushing a merge table between the time it was opened and its
        child table were actually attached caused the server to crash.
       (<a href="http://bugs.mysql.com/30273" target="_top">Bug#30273</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/26379" target="_top">Bug#26379</a>.</p></li><li><p>
        The <code class="literal">Com_create_function</code> status variable was
        not incremented properly.
       (<a href="http://bugs.mysql.com/30252" target="_top">Bug#30252</a>)</p></li><li><p>
        For Multi-Range Read scans used to resolve
        <code class="literal">LIMIT</code> queries, failure to close the scan
        caused file descriptor leaks for <code class="literal">MyISAM</code>
        tables.
       (<a href="http://bugs.mysql.com/30221" target="_top">Bug#30221</a>)</p></li><li><p>
        View metadata returned from
        <a href="information-schema.html#views-table" title="19.15. The INFORMATION_SCHEMA VIEWS Table"><code class="literal">INFORMATION_SCHEMA.VIEWS</code></a> was
        changed by the fix for <a href="http://bugs.mysql.com/11986" target="_top">Bug#11986</a>, causing the information
        returned in MySQL 5.1 to differ from that returned in 5.0.
       (<a href="http://bugs.mysql.com/30217" target="_top">Bug#30217</a>)</p></li><li><p>
        If the server crashed during an <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> statement, leaving a temporary file in the
        database directory, a subsequent <a href="sql-syntax.html#drop-database" title="12.1.17. DROP DATABASE Syntax"><code class="literal">DROP
        DATABASE</code></a> statement failed due to the presence of the
        temporary file.
       (<a href="http://bugs.mysql.com/30152" target="_top">Bug#30152</a>)</p></li><li><p>
        The parser accepted an <code class="literal">INTO</code> clause in nested
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements, which is
        invalid because such statements must return their results to the
        outer context.
       (<a href="http://bugs.mysql.com/30105" target="_top">Bug#30105</a>, <a href="http://bugs.mysql.com/33204" target="_top">Bug#33204</a>)</p></li><li><p>
        For tables with <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> or
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> columns,
        <a href="sql-syntax.html#checksum-table" title="12.5.2.3. CHECKSUM TABLE Syntax"><code class="literal">CHECKSUM TABLE</code></a> could report
        different results on master and slave servers.
       (<a href="http://bugs.mysql.com/30041" target="_top">Bug#30041</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> displayed the
        <a href="server-administration.html#option_mysqld_enable-pstack"><code class="option">--enable-pstack</code></a> option in its
        help message even if MySQL was configured without
        <code class="option">--with-pstack</code>.
       (<a href="http://bugs.mysql.com/29836" target="_top">Bug#29836</a>)</p></li><li><p>
        The <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> command would output
        <code class="literal">CFLAGS</code> values that were incompatible with C++
        for the HP-UX platform.
       (<a href="http://bugs.mysql.com/29645" target="_top">Bug#29645</a>)</p></li><li><p>
        Views were treated as insertable even if some base table columns
        with no default value were omitted from the view definition.
        (This is contrary to the condition for insertability that a view
        must contain all columns in the base table that do not have a
        default value.)
       (<a href="http://bugs.mysql.com/29477" target="_top">Bug#29477</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk</strong></span></a> always reported the character set
        for a table as <code class="literal">latin1_swedish_ci (8)</code>
        regardless of the table' actual character set.
       (<a href="http://bugs.mysql.com/29182" target="_top">Bug#29182</a>)</p></li><li><p>
        Denormalized double-precision numbers cannot be handled properly
        by old MIPS pocessors. For IRIX, this is now handled by enabling
        a mode to use a software workaround.
       (<a href="http://bugs.mysql.com/29085" target="_top">Bug#29085</a>)</p></li><li><p>
        When doing a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> on a table
        that involved a <code class="literal">JOIN</code> with
        <code class="literal">MyISAM</code> or <code class="literal">MERGE</code> tables and
        the <code class="literal">JOIN</code> referred to the same table, the
        operation could fail reporting <code class="literal">ERROR 1030 (HY000): Got
        error 134 from storage engine</code>. This was because scans
        on the table contents would change because of rows that had
        already been deleted.
       (<a href="http://bugs.mysql.com/28837" target="_top">Bug#28837</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.6.39. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> did not correctly
        display the value of the
        <a href="server-administration.html#sysvar_thread_handling"><code class="literal">thread_handling</code></a> system
        variable.
       (<a href="http://bugs.mysql.com/28785" target="_top">Bug#28785</a>)</p></li><li><p>
        When running the MySQL Instance Configuration Wizard, a race
        condition could exist that would fail to connect to a newly
        configured instance. This was because <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        had not completed the startup process before the next stage of
        the installation process.
       (<a href="http://bugs.mysql.com/28628" target="_top">Bug#28628</a>)</p></li><li><p>
        For upgrading to a new major version using RPM packages (such as
        4.1 to 5.0), if the installation procedure found an existing
        MySQL server running, it could fail to shut down the old server,
        but also erroneously removed the server's socket file. Now the
        procedure checks for an existing server package from a different
        vendor or major MySQL version. In such case, it refuses to
        install the server and recommends how to safely remove the old
        packages before installing the new ones.
       (<a href="http://bugs.mysql.com/28555" target="_top">Bug#28555</a>)</p></li><li><p>
        <a href="programs.html#mysqlhotcopy" title="4.6.10. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> silently skipped databases with
        names consisting of two alphanumeric characters.
       (<a href="http://bugs.mysql.com/28460" target="_top">Bug#28460</a>)</p></li><li><p>
        No information was written to the general query log for the
        <code class="literal">COM_STMT_CLOSE</code>,
        <code class="literal">COM_STMT_RESET</code>, and
        <code class="literal">COM_STMT_SEND_LONG_DATA</code> commands. (These
        occur when a client invokes the
        <a href="connectors-apis.html#mysql-stmt-close" title="20.10.7.6. mysql_stmt_close()"><code class="literal">mysql_stmt_close()</code></a>,
        <a href="connectors-apis.html#mysql-stmt-reset" title="20.10.7.22. mysql_stmt_reset()"><code class="literal">mysql_stmt_reset()</code></a> and
        <a href="connectors-apis.html#mysql-stmt-send-long-data" title="20.10.7.26. mysql_stmt_send_long_data()"><code class="literal">mysql_stmt_send_long_data()</code></a> C
        API functions.)
       (<a href="http://bugs.mysql.com/28386" target="_top">Bug#28386</a>)</p></li><li><p>
        Previously, the parser accepted the ODBC <code class="literal">{ OJ ... LEFT
        OUTER JOIN ...}</code> syntax for writing left outer joins.
        The parser now allows <code class="literal">{ OJ ... }</code> to be used
        to write other types of joins, such as <code class="literal">INNER
        JOIN</code> or <code class="literal">RIGHT OUTER JOIN</code>. This
        helps with compatibility with some third-party applications, but
        is not official ODBC syntax.
       (<a href="http://bugs.mysql.com/28317" target="_top">Bug#28317</a>)</p></li><li><p>
        The <code class="literal">FEDERATED</code> storage engine did not perform
        identifier quoting for column names that are reserved words when
        sending statements to the remote server.
       (<a href="http://bugs.mysql.com/28269" target="_top">Bug#28269</a>)</p></li><li><p>
        The SQL parser did not accept an empty
        <code class="literal">UNION=()</code> clause. This meant that, when there
        were no underlying tables specified for a
        <code class="literal">MERGE</code> table, <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE
        TABLE</code></a> and <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> both output
        statements that could not be executed.
      </p><p>
        Now it is possible to execute a <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statement with an empty <code class="literal">UNION=()</code> clause.
        However, <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> and
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> do not output the
        <code class="literal">UNION=()</code> clause if there are no underlying
        tables specified for a <code class="literal">MERGE</code> table. This also
        means it is now possible to remove the underlying tables for a
        <code class="literal">MERGE</code> table using <code class="literal">ALTER TABLE ...
        UNION=()</code>.
       (<a href="http://bugs.mysql.com/28248" target="_top">Bug#28248</a>)</p></li><li><p>
        An <code class="literal">ORDER BY</code> at the end of a
        <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a> affected individual
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statements rather than the
        overall query result.
       (<a href="http://bugs.mysql.com/27848" target="_top">Bug#27848</a>)</p></li><li><p>
        It was possible to exhaust memory by repeatedly running
        <a href="optimization.html#jointype_index_merge"><code class="literal">index_merge</code></a> queries and never
        performing any <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
        TABLES</code></a> statements.
       (<a href="http://bugs.mysql.com/27732" target="_top">Bug#27732</a>)</p></li><li><p>
        When <code class="literal">utf8</code> was set as the connection character
        set, using <a href="functions.html#function_space"><code class="literal">SPACE()</code></a> with a
        non-Unicode column produced an error.
       (<a href="http://bugs.mysql.com/27580" target="_top">Bug#27580</a>)</p><p>See also <a href="http://bugs.mysql.com/23637" target="_top">Bug#23637</a>.</p></li><li><p>
        A race condition between killing a statement and the thread
        executing the statement could lead to a situation such that the
        binary log contained an event indicating that the statement was
        killed, whereas the statement actually executed to completion.
       (<a href="http://bugs.mysql.com/27571" target="_top">Bug#27571</a>)</p></li><li><p>
        Some queries using the
        <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> function failed to
        return either a result or an error to the client, causing it to
        hang. This was due to the fact that there was no check to insure
        that both arguments to this function were constant expressions.
       (<a href="http://bugs.mysql.com/27545" target="_top">Bug#27545</a>, <a href="http://bugs.mysql.com/32559" target="_top">Bug#32559</a>)</p></li><li><p>
        Evaluation of an <code class="literal">IN()</code> predicate containing a
        decimal-valued argument caused a server crash.
       (<a href="http://bugs.mysql.com/27513" target="_top">Bug#27513</a>, <a href="http://bugs.mysql.com/27362" target="_top">Bug#27362</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2583" target="_top">CVE-2007-2583</a>)</p></li><li><p>
        With the <a href="server-administration.html#sysvar_read_only"><code class="literal">read_only</code></a> system
        variable enabled, <a href="sql-syntax.html#create-database" title="12.1.8. CREATE DATABASE Syntax"><code class="literal">CREATE DATABASE</code></a>
        and <a href="sql-syntax.html#drop-database" title="12.1.17. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> were allowed to
        users who did not have the <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a>
        privilege.
       (<a href="http://bugs.mysql.com/27440" target="_top">Bug#27440</a>)</p></li><li><p>
        The parser rules for the <a href="sql-syntax.html#show-profile" title="12.5.6.31. SHOW PROFILE Syntax"><code class="literal">SHOW
        PROFILE</code></a> statement were revised to work with older
        versions of <span><strong class="command">bison</strong></span>.
       (<a href="http://bugs.mysql.com/27433" target="_top">Bug#27433</a>)</p></li><li><p>
        <a href="programs.html#resolveip" title="4.8.3. resolveip — Resolve Host name to IP Address or Vice
Versa"><span><strong class="command">resolveip</strong></span></a> failed to produce correct results
        for host names that begin with a digit.
       (<a href="http://bugs.mysql.com/27427" target="_top">Bug#27427</a>)</p></li><li><p>
        In <code class="literal">ORDER BY</code> clauses, mixing aggregate
        functions and non-grouping columns is not allowed if the
        <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL mode is
        enabled. However, in some cases, no error was thrown because of
        insufficient checking.
       (<a href="http://bugs.mysql.com/27219" target="_top">Bug#27219</a>)</p></li><li><p>
        For the <a href="programs.html#option_mysqlhotcopy_record_log_pos"><code class="option">--record_log_pos</code></a>
        option, <a href="programs.html#mysqlhotcopy" title="4.6.10. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a> now determines the slave
        status information from the result of <a href="sql-syntax.html#show-slave-status" title="12.5.6.34. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW
        SLAVE STATUS</code></a> by using the
        <code class="literal">Relay_Master_Log_File</code> and
        <code class="literal">Exec_Master_Log_Pos</code> values rather than the
        <code class="literal">Master_Log_File</code> and
        <code class="literal">Read_Master_Log_Pos</code> values. This provides a
        more accurate indication of slave execution relative to the
        master.
       (<a href="http://bugs.mysql.com/27101" target="_top">Bug#27101</a>)</p></li><li><p>
        Memory corruption, a crash of the MySQL server, or both, could
        take place if a low-level I/O error occurred while an
        <code class="literal">ARCHIVE</code> table was being opened.
       (<a href="http://bugs.mysql.com/26978" target="_top">Bug#26978</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-profile" title="12.5.6.31. SHOW PROFILE Syntax"><code class="literal">SHOW PROFILE</code></a> hung if executed
        before enabling the <code class="literal">@@profiling</code> session
        variable.
       (<a href="http://bugs.mysql.com/26938" target="_top">Bug#26938</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-insert-id" title="20.10.3.37. mysql_insert_id()"><code class="literal">mysql_insert_id()</code></a> C API
        function sometimes returned different results for
        <code class="literal">libmysqld</code> and
        <code class="literal">libmysqlclient</code>.
       (<a href="http://bugs.mysql.com/26921" target="_top">Bug#26921</a>)</p></li><li><p>
        Symbolic links on Windows could fail to work.
       (<a href="http://bugs.mysql.com/26811" target="_top">Bug#26811</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> sometimes miscalculated the number of
        digits required when storing a floating-point number in a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column. This caused the
        value to be truncated, or (when using a debug build) caused the
        server to crash.
       (<a href="http://bugs.mysql.com/26788" target="_top">Bug#26788</a>)</p><p>See also <a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>.</p></li><li><p>
        The default database is no longer changed to
        <code class="literal">NULL</code> (“<span class="quote">no database</span>”) if
        <a href="sql-syntax.html#drop-database" title="12.1.17. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> for that database
        failed.
       (<a href="http://bugs.mysql.com/26704" target="_top">Bug#26704</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-database" title="12.1.17. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> failed for attempts
        to drop databases with names that contained the legacy
        <code class="literal">#mysql50#</code> name prefix.
       (<a href="http://bugs.mysql.com/26703" target="_top">Bug#26703</a>)</p></li><li><p>
        <code class="filename">config-win.h</code> unconditionally defined
        <code class="literal">bool</code> as <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOL</code></a>,
        causing problems on systems where <code class="literal">bool</code> is 1
        byte and <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOL</code></a> is 4 bytes.
       (<a href="http://bugs.mysql.com/26461" target="_top">Bug#26461</a>)</p></li><li><p>
        It makes no sense to attempt to use <code class="literal">ALTER TABLE ...
        ORDER BY</code> to order an <code class="literal">InnoDB</code> table
        if there is a user-defined clustered index, because rows are
        always ordered by the clustered index. Such attempts now are
        ignored and produce a warning.
      </p><p>
        Also, in some cases, <code class="literal">InnoDB</code> incorrectly used
        a secondary index when the clustered index would produce a
        faster scan. <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> output now
        indicates use of the clustered index (for tables that have one)
        as lines with a <code class="literal">type</code> value of
        <a href="optimization.html#jointype_index"><code class="literal">index</code></a>, a
        <code class="literal">key</code> value of <code class="literal">PRIMARY</code>, and
        without <code class="literal">Using index</code> in the
        <code class="literal">Extra</code> value.
       (<a href="http://bugs.mysql.com/26447" target="_top">Bug#26447</a>)</p><p>See also <a href="http://bugs.mysql.com/35850" target="_top">Bug#35850</a>.</p></li><li><p>
        On Windows, for distributions built with debugging support,
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> could crash if the user typed
        Control-C.
       (<a href="http://bugs.mysql.com/26243" target="_top">Bug#26243</a>)</p></li><li><p>
        When symbolic links were disabled, either with a server startup
        option or by enabling the
        <a href="server-administration.html#sqlmode_no_dir_in_create"><code class="literal">NO_DIR_IN_CREATE</code></a> SQL mode,
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> silently ignored the
        <code class="literal">DATA DIRECTORY</code> and <code class="literal">INDEX
        DIRECTORY</code> table options. Now the server issues a
        warning if symbolic links are disabled when these table options
        are used.
       (<a href="http://bugs.mysql.com/25677" target="_top">Bug#25677</a>)</p></li><li><p>
        <code class="literal">CREATE TABLE LIKE</code> did not work when the
        source table was an <code class="literal">INFORMATION_SCHEMA</code> table.
       (<a href="http://bugs.mysql.com/25629" target="_top">Bug#25629</a>)</p></li><li><p>
        Attempting to create an index with a prefix on a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column appeared to
        succeed with an inaccurate warning message. Now, this action
        fails with the error <span class="errortext">Incorrect prefix key; the used
        key part isn't a string, the used length is longer than the key
        part, or the storage engine doesn't support unique prefix
        keys</span>.
       (<a href="http://bugs.mysql.com/25426" target="_top">Bug#25426</a>)</p></li><li><p>
        <a href="programs.html#mysqlcheck" title="4.5.3. mysqlcheck — A Table Maintenance Program"><span><strong class="command">mysqlcheck -A -r</strong></span></a> did not correctly identify
        all tables that needed repairing.
       (<a href="http://bugs.mysql.com/25347" target="_top">Bug#25347</a>)</p></li><li><p>
        On Windows, an error in <code class="filename">configure.js</code> caused
        installation of source distributions to fail.
       (<a href="http://bugs.mysql.com/25340" target="_top">Bug#25340</a>)</p></li><li><p>
        The <a href="server-administration.html#statvar_Qcache_free_blocks"><code class="literal">Qcache_free_blocks</code></a> status
        variable did not display a value of 0 if the query cache was
        disabled.
       (<a href="http://bugs.mysql.com/25132" target="_top">Bug#25132</a>)</p></li><li><p>
        The client library had no way to return an error if no
        connection had been established. This caused problems such as
        <a href="connectors-apis.html#mysql-library-init" title="20.10.3.40. mysql_library_init()"><code class="literal">mysql_library_init()</code></a> failing
        silently if no <code class="filename">errmsg.sys</code> file was
        available.
       (<a href="http://bugs.mysql.com/25097" target="_top">Bug#25097</a>)</p></li><li><p>
        For Windows 64-bit builds, enabling shared-memory support caused
        client connections to fail.
       (<a href="http://bugs.mysql.com/24992" target="_top">Bug#24992</a>)</p></li><li><p>
        If the expected precision of an arithmetic expression exceeded
        the maximum precision supported by MySQL, the precision of the
        result was reduced by an unpredictable or arbitrary amount,
        rather than to the maximum precision. In some cases, exceeding
        the maximum supported precision could also lead to a crash of
        the server.
       (<a href="http://bugs.mysql.com/24907" target="_top">Bug#24907</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> did not use its completion table. Also,
        the table contained few entries.
       (<a href="http://bugs.mysql.com/24624" target="_top">Bug#24624</a>)</p></li><li><p>
        <code class="literal">Data truncated for column
        <em class="replaceable"><code>col_num</code></em> at row
        <em class="replaceable"><code>row_num</code></em></code> warnings were
        generated for some (constant) values that did not have too high
        precision.
       (<a href="http://bugs.mysql.com/24541" target="_top">Bug#24541</a>)</p></li><li><p>
        If a user installed MySQL Server and set a password for the
        <code class="literal">root</code> user, and then uninstalled and
        reinstalled MySQL Server to the same location, the user could
        not use the MySQL Instance Config wizard to configure the server
        because the uninstall operation left the previous data directory
        intact. The config wizard <span class="emphasis"><em>assumed</em></span> that any
        new install (not an upgrade) would have the default data
        directory where the <code class="literal">root</code> user has no
        password. The installer now writes a registry key named
        <code class="literal">FoundExistingDataDir</code>. If the installer finds
        an existing data directory, the key will have a value of 1,
        otherwise it will have a value of 0. When
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> is run, it will
        attempt to read the key. If it can read the key, and the value
        is 1 and there is no existing instance of the server (indicating
        a new installation), the Config Wizard will allow the user to
        input the old password so the server can be configured.
       (<a href="http://bugs.mysql.com/24215" target="_top">Bug#24215</a>)</p></li><li><p>
        Logging of statements to log tables was incorrect for statements
        that contained <code class="literal">utf8</code>-incompatible binary
        strings. Incompatible sequences are hex-encoded now.
       (<a href="http://bugs.mysql.com/23924" target="_top">Bug#23924</a>)</p></li><li><p>
        The MySQL header files contained some duplicate macro
        definitions that could cause compilation problems.
       (<a href="http://bugs.mysql.com/23839" target="_top">Bug#23839</a>)</p></li><li><p>
        A <a href="sql-syntax.html#create-trigger" title="12.1.15. CREATE TRIGGER Syntax"><code class="literal">CREATE TRIGGER</code></a> statement could
        cause a deadlock or server crash if it referred to a table for
        which a table lock had been acquired with
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a>.
       (<a href="http://bugs.mysql.com/23713" target="_top">Bug#23713</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.6.6. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> on a
        <code class="literal">TEMPOARY</code> table caused locking issues.
       (<a href="http://bugs.mysql.com/23588" target="_top">Bug#23588</a>)</p></li><li><p>
        For distributions compiled with the bundled
        <code class="literal">libedit</code> library, there were difficulties
        using the <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client to enter input for
        non-ASCII or multi-byte characters.
       (<a href="http://bugs.mysql.com/23097" target="_top">Bug#23097</a>)</p></li><li><p>
        <a href="programs.html#perror" title="4.8.1. perror — Explain Error Codes"><span><strong class="command">perror</strong></span></a> reported incomplete or inaccurate
        information.
       (<a href="http://bugs.mysql.com/23028" target="_top">Bug#23028</a>, <a href="http://bugs.mysql.com/25177" target="_top">Bug#25177</a>)</p></li><li><p>
        After stopping and starting the event scheduler, disabled events
        could remain in the execution queue.
       (<a href="http://bugs.mysql.com/22738" target="_top">Bug#22738</a>)</p></li><li><p>
        The server produced a confusing error message when attempting to
        open a table that required a storage engine that was not loaded.
       (<a href="http://bugs.mysql.com/22708" target="_top">Bug#22708</a>)</p></li><li><p>
        The parser treated the <a href="functions.html#function_interval"><code class="literal">INTERVAL()</code></a>
        function incorrectly, leading to situations where syntax errors
        could result depending on which side of an arithmetic operator
        the function appeared.
       (<a href="http://bugs.mysql.com/22312" target="_top">Bug#22312</a>)</p></li><li><p>
        For views or stored programs created with an invalid
        <code class="literal">DEFINER</code> value, the error message was
        confusing (did not tie the problem to the
        <code class="literal">DEFINER</code> clause) and has been improved.
       (<a href="http://bugs.mysql.com/21854" target="_top">Bug#21854</a>)</p></li><li><p>
        Warnings for deprecated syntax constructs used in stored
        routines make sense to report only when the routine is being
        created, but they were also being reported when the routine was
        parsed for loading into the execution cache. Now they are
        reported only at routine creation time.
       (<a href="http://bugs.mysql.com/21801" target="_top">Bug#21801</a>)</p></li><li><p>
        On Mac OS X, <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> did not react to Ctrl-C
        when run under <span><strong class="command">gdb</strong></span>, even when run with the
        <a href="server-administration.html#option_mysqld_gdb"><code class="option">--gdb</code></a> option.
       (<a href="http://bugs.mysql.com/21567" target="_top">Bug#21567</a>)</p></li><li><p>
        When inserting an extraordinarly large value into a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> column, the value could be
        truncated in such a way that the new value cannot be reloaded
        manually or from the output of <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>.
       (<a href="http://bugs.mysql.com/21497" target="_top">Bug#21497</a>)</p></li><li><p>
        <code class="literal">CREATE ... SELECT</code> did not always set
        <code class="literal">DEFAULT</code> column values in the new table.
       (<a href="http://bugs.mysql.com/21380" target="_top">Bug#21380</a>)</p></li><li><p>
        <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> output did not include
        <code class="literal">-lmygcc</code> on some platforms when it was needed.
       (<a href="http://bugs.mysql.com/21158" target="_top">Bug#21158</a>)</p></li><li><p>
        <span><strong class="command">mysql-stress-test.pl</strong></span> and
        <span><strong class="command">mysqld_multi.server.sh</strong></span> were missing from some
        binary distributions.
       (<a href="http://bugs.mysql.com/21023" target="_top">Bug#21023</a>, <a href="http://bugs.mysql.com/25486" target="_top">Bug#25486</a>)</p></li><li><p>
        It was possible to execute <code class="literal">CREATE TABLE t1 ... SELECT
        ... FROM t2</code> with the
        <a href="server-administration.html#priv_create"><code class="literal">CREATE</code></a> privilege for
        <code class="literal">t1</code> and <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a>
        privilege for <code class="literal">t2</code>, even in the absence of the
        <a href="server-administration.html#priv_insert"><code class="literal">INSERT</code></a> privilege for
        <code class="literal">t1</code>.
       (<a href="http://bugs.mysql.com/20901" target="_top">Bug#20901</a>)</p></li><li><p>
        The <a href="functions.html#function_benchmark"><code class="literal">BENCHMARK()</code></a> function, invoked
        with more than 2147483648 iterations (the size of a signed
        32-bit integer), terminated prematurely.
       (<a href="http://bugs.mysql.com/20752" target="_top">Bug#20752</a>)</p></li><li><p>
        <a href="programs.html#mysqldumpslow" title="4.6.9. mysqldumpslow — Summarize Slow Query Log Files"><span><strong class="command">mysqldumpslow</strong></span></a> returned a confusing error
        message when no configuration file was found.
       (<a href="http://bugs.mysql.com/20455" target="_top">Bug#20455</a>)</p></li><li><p>
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> could lose the
        <a href="storage-engines.html#sysvar_innodb_data_home_dir"><code class="literal">innodb_data_home_dir</code></a> setting
        when reconfiguring an instance.
       (<a href="http://bugs.mysql.com/19797" target="_top">Bug#19797</a>)</p></li><li><p>
        Issuing an SQL <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL</code></a> of the active
        connection caused an error on Mac OS X.
       (<a href="http://bugs.mysql.com/19723" target="_top">Bug#19723</a>)</p></li><li><p>
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> allowed 0 as the
        default value for a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>
        column when the server was running in
        <a href="server-administration.html#sqlmode_no_zero_date"><code class="literal">NO_ZERO_DATE</code></a> mode.
       (<a href="http://bugs.mysql.com/18834" target="_top">Bug#18834</a>)</p></li><li><p>
        The <code class="literal">-lmtmalloc</code> library was removed from the
        output of <a href="programs.html#mysql-config" title="4.7.2. mysql_config — Get Compile Options for Compiling Clients"><span><strong class="command">mysql_config</strong></span></a> on Solaris, as it
        caused problems when building <code class="literal">DBD::mysql</code> (and
        possibly other applications) on that platform that tried to use
        <span><strong class="command">dlopen()</strong></span> to access the client library.
       (<a href="http://bugs.mysql.com/18322" target="_top">Bug#18322</a>)</p></li><li><p>
        Use of <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> statements with
        grant tables from an old version of MySQL could cause a server
        crash.
       (<a href="http://bugs.mysql.com/16470" target="_top">Bug#16470</a>)</p></li><li><p>
        A <code class="literal">SET</code> column whose definition specified 64
        elements could not be updated using integer values.
       (<a href="http://bugs.mysql.com/15409" target="_top">Bug#15409</a>)</p></li><li><p>
        Zero-padding of exponent values was not the same across
        platforms.
       (<a href="http://bugs.mysql.com/12860" target="_top">Bug#12860</a>)</p></li><li><p>
        If a <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> calls a stored
        function in a transaction, and a statement within the function
        fails, that statement should roll back. Furthermore, if
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a> is
        executed after that, the entire transaction should be rolled
        back. Before this fix, the failed statement did not roll back
        when it failed (even though it might ultimately get rolled back
        by a <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>
        later that rolls back the entire transaction).
       (<a href="http://bugs.mysql.com/12713" target="_top">Bug#12713</a>)</p><p>See also <a href="http://bugs.mysql.com/34655" target="_top">Bug#34655</a>.</p></li><li><p>
        The grammar for <code class="literal">GROUP BY</code>, when used with
        <code class="literal">WITH CUBE</code> or <code class="literal">WITH ROLLUP</code>,
        caused a conflict with the grammar for view definitions that
        included <code class="literal">WITH CHECK OPTION</code>.
       (<a href="http://bugs.mysql.com/9801" target="_top">Bug#9801</a>)</p></li><li><p>
        The parser incorrectly allowed <code class="literal">SQLSTATE
        '00000'</code> to be specified for a condition handler. (This
        is incorrect because the condition must be a failure condition
        and <code class="literal">'00000'</code> indicates success.)
       (<a href="http://bugs.mysql.com/8759" target="_top">Bug#8759</a>)</p></li><li><p>
        <span><strong class="command">MySQLInstanceConfig.exe</strong></span> did not save the
        <a href="storage-engines.html#sysvar_innodb_data_home_dir"><code class="literal">innodb_data_home_dir</code></a> value to
        the <code class="filename">my.ini</code> file under certain
        circumstances.
       (<a href="http://bugs.mysql.com/6627" target="_top">Bug#6627</a>)</p></li><li><p>
        <a href="sql-syntax.html#restore" title="12.5.3.3. RESTORE Syntax"><code class="literal">RESTORE</code></a> failed for databases or
        tables with names that contain certain non-alphanumeric
        characters, such as spaces.
       (<a href="http://bugs.mysql.com/3353" target="_top">Bug#3353</a>)</p></li><li><p>
        Grant table checks failed in <code class="literal">libmysqld</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-4"></a>C.1.9. Changes in MySQL 6.0.4 (12 February 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: <span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>Security Fix</strong></span>: 
        It was possible, by creating a partitioned table using the
        <code class="literal">DATA DIRECTORY</code> and <code class="literal">INDEX
        DIRECTORY</code> options to gain privileges on other tables
        having the same name as the partitioned table. As a result of
        this fix, any table-level <code class="literal">DATA DIRECTORY</code> or
        <code class="literal">INDEX DIRECTORY</code> options are now ignored for
        partitioned tables.
       (<a href="http://bugs.mysql.com/32091" target="_top">Bug#32091</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5970" target="_top">CVE-2007-5970</a>)</p><p>See also <a href="http://bugs.mysql.com/29325" target="_top">Bug#29325</a>, <a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The Unicode implementation has been extended to provide support
        for supplementary characters that lie outside the Basic
        Multilingual Plane (BMP). Noteworthy features:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">utf16</code> and <code class="literal">utf32</code>
            character sets have been added. These correspond to the
            UTF-16 and UTF-32 encodings of the Unicode character set,
            and they both support supplementary characters.
          </p></li><li><p>
            The <code class="literal">utf8</code> character set from previous
            versions of MySQL has been renamed to
            <code class="literal">utf8mb3</code>, to reflect that its encoding
            uses a maximum of three bytes for multi-byte characters.
            (Old tables that previously used <code class="literal">utf8</code>
            will be reported as using <code class="literal">utf8mb3</code> after
            an in-place upgrade to MySQL 6.0, but otherwise work as
            before.)
          </p></li><li><p>
            The new <code class="literal">utf8</code> character set in MySQL 6.0
            is similar to <code class="literal">utf8mb3</code>, but its encoding
            allows up to four bytes per character to enable support for
            supplementary characters.
          </p></li><li><p>
            The <code class="literal">ucs2</code> character set is essentially
            unchanged except for the inclusion of some newer BMP
            characters.
          </p></li></ul></div><p>
        In most respects, upgrading from MySQL 5.1 to 6.0 should present
        few problems with regard to Unicode usage, although there are
        some potential areas of incompatibility. Some examples:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            For the variable-length character data types
            (<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> and the
            <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types), the maximum
            length in characters for <code class="literal">utf8</code> columns is
            less in MySQL 6.0 than previously.
          </p></li><li><p>
            For all character data types
            (<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>,
            <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>, and the
            <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types), the maximum
            number of characters for <code class="literal">utf8</code> columns
            that can be indexed is less in MySQL 6.0 than previously.
          </p></li></ul></div><p>
        Consequently, if you want to upgrade tables from the old
        <code class="literal">utf8</code> (now <code class="literal">utf8mb3</code>) to the
        current <code class="literal">utf8</code>, it may be necessary to change
        some column or index definitions.
      </p><p>
        For additional details about the new Unicode character sets and
        potential incompatibilities, see
        <a href="internationalization-localization.html#charset-unicode" title="9.1.9. Unicode Support">Section 9.1.9, “Unicode Support”</a>, and
        <a href="internationalization-localization.html#charset-unicode-upgrading" title="9.1.10. Upgrading from Previous to Current Unicode Support">Section 9.1.10, “Upgrading from Previous to Current Unicode Support”</a>.
      </p><p>
        If you use events, a known issue is that if you upgrade from
        MySQL 5.1 to 6.0.4 though 6.0.6, the event scheduler will not
        work, even after you run <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a>. (This
        is an issue only for an upgrade, not for a new installation of
        MySQL 6.0.x.) As of MySQL 6.0.7,
        <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> handles upgrading the system
        tables properly. If you upgrade to 6.0.4 through 6.0.6, you can
        work around this upgrading problem by using these instructions:
      </p><div class="orderedlist"><ol type="1"><li><p>
            In MySQL 5.1, before upgrading, create a dump file
            containing your <code class="literal">mysql.event</code> table:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysqldump -uroot -p mysql event &gt; event.sql</code></strong>
</pre></li><li><p>
            Stop the server, upgrade to MySQL 6.0, and start the server.
          </p></li><li><p>
            Recreate the <code class="literal">mysql.event</code> table using the
            dump file:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql -uroot -p mysql &lt; event.sql</code></strong>
</pre></li><li><p>
            Run <a href="programs.html#mysql-upgrade" title="4.4.8. mysql_upgrade — Check Tables for MySQL Upgrade"><span><strong class="command">mysql_upgrade</strong></span></a> to upgrade the other
            system tables in the <code class="literal">mysql</code> database:
          </p><pre class="programlisting">shell&gt; <strong class="userinput"><code>mysql_upgrade -uroot -p</code></strong>
</pre></li><li><p>
            Restart the server. The event scheduler should run normally.
          </p></li></ol></div></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Because of a change in the format of the
        <code class="literal">Falcon</code> pages stored within
        <code class="literal">Falcon</code> database files,
        <code class="literal">Falcon</code> databases created in MySQL 6.0.4 (or
        later) are not compatible with previous releases, and existing
        <code class="literal">Falcon</code> databases are incompatible with MySQL
        6.0.4 (and later versions. You should dump
        <code class="literal">Falcon</code> databases using
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> before upgrading, and then reload
        them after the upgrade. For more information, see
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program">Section 4.5.4, “<span><strong class="command">mysqldump</strong></span> — A Database Backup Program”</a>.
      </p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Introduced the
        <a href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-status-variables.html#statvar_Ndb_execute_count" target="_top"><code class="literal">Ndb_execute_count</code></a> status
        variable, which measures the number of round trips made by
        queries to the <code class="literal">NDB</code> kernel.
      </p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Error messages for partitioning syntax errors have been made
        more descriptive.
       (<a href="http://bugs.mysql.com/29368" target="_top">Bug#29368</a>)</p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        A replication heartbeat mechanism has been added to facilitate
        monitoring. This provides an alternative to checking log files,
        making it possible to detect in real time when a slave has
        failed.
      </p><p>
        Configuration of heartbeats is done via a new
        <code class="literal">MASTER_HEARTBEAT_PERIOD =
        <em class="replaceable"><code>interval</code></em></code> clause for the
        <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a> statement (see
        <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax">Section 12.6.2.1, “<code class="literal">CHANGE MASTER TO</code> Syntax”</a>); monitoring can be done by
        checking the values of the status variables
        <a href="server-administration.html#statvar_Slave_heartbeat_period"><code class="literal">Slave_heartbeat_period</code></a> and
        <a href="server-administration.html#statvar_Slave_received_heartbeats"><code class="literal">Slave_received_heartbeats</code></a> (see
        <a href="server-administration.html#server-status-variables" title="5.1.6. Server Status Variables">Section 5.1.6, “Server Status Variables”</a>).
      </p><p>
        The addition of replication heartbeats addresses a number of
        issues:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              Relay logs were rotated every
              <a href="http://dev.mysql.com/doc/refman/5.1/en/replication-options-slave.html#sysvar_slave_net_timeout" target="_top"><code class="literal">slave_net_timeout</code></a> seconds
              even if no statements were being replicated.
            </p></li><li><p>
              <a href="sql-syntax.html#show-slave-status" title="12.5.6.34. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> displayed
              an incorrect value for
              <code class="literal">seconds_behind_master</code> following a
              <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
              LOGS</code></a> statement.
            </p></li><li><p>
              Replication master-slave connections used
              <a href="http://dev.mysql.com/doc/refman/5.1/en/replication-options-slave.html#sysvar_slave_net_timeout" target="_top"><code class="literal">slave_net_timeout</code></a> for
              connection timeouts.
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/20435" target="_top">Bug#20435</a>, <a href="http://bugs.mysql.com/29309" target="_top">Bug#29309</a>, <a href="http://bugs.mysql.com/30932" target="_top">Bug#30932</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Replication of the following SQL functions now switches to
        row-based logging in <code class="literal">MIXED</code> mode, and
        generates a warning in <code class="literal">STATEMENT</code> mode:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <a href="functions.html#function_user"><code class="literal">USER()</code></a>
            </p></li><li><p>
              <a href="functions.html#function_current-user"><code class="literal">CURRENT_USER()</code></a> and its
              alias <code class="literal">CURRENT_USER</code>
            </p></li><li><p>
              <a href="functions.html#function_found-rows"><code class="literal">FOUND_ROWS()</code></a>
            </p></li><li><p>
              <a href="functions.html#function_row-count"><code class="literal">ROW_COUNT()</code></a>
            </p></li></ul></div><p>
      </p><p>
        See <a href="server-administration.html#binary-log-mixed" title="5.2.4.3. Mixed Binary Logging Format">Section 5.2.4.3, “Mixed Binary Logging Format”</a>, for more information.
       (<a href="http://bugs.mysql.com/12092" target="_top">Bug#12092</a>, <a href="http://bugs.mysql.com/28086" target="_top">Bug#28086</a>, <a href="http://bugs.mysql.com/30244" target="_top">Bug#30244</a>)</p></li><li><p>
        The (undocumented) <span><strong class="command">configure</strong></span> script
        previously included with binary distributions is no longer
        included.
       (<a href="http://bugs.mysql.com/35011" target="_top">Bug#35011</a>)</p></li><li><p>
        The <a href="server-administration.html#sysvar_event_scheduler"><code class="option">--event-scheduler</code></a> option
        without a value disabled the event scheduler. Now it enables the
        event scheduler.
       (<a href="http://bugs.mysql.com/31332" target="_top">Bug#31332</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> produces a <code class="literal">-- Dump
        completed on <em class="replaceable"><code>DATE</code></em></code> comment
        at the end of the dump if
        <a href="programs.html#option_mysqldump_comments"><code class="option">--comments</code></a> is given. The date
        causes dump files for identical data take at different times to
        appear to be different. The new options
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--dump-date</code></a> and
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--skip-dump-date</code></a>
        control whether the date is added to the comment.
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--skip-dump-date</code></a>
        suppresses date printing. The default is
        <a href="programs.html#option_mysqldump_dump-date"><code class="option">--dump-date</code></a> (include the date
        in the comment).
       (<a href="http://bugs.mysql.com/31077" target="_top">Bug#31077</a>)</p></li><li><p>
        MySQL now can be compiled with <span><strong class="command">gcc</strong></span> 4.2.x.
        There was a problem involving a conflict with the
        <code class="function">min()</code> and <code class="function">max()</code> macros
        in <code class="filename">my_global.h</code>.
       (<a href="http://bugs.mysql.com/28184" target="_top">Bug#28184</a>)</p></li><li><p>
        Added the <a href="programs.html#option_mysql_auto-vertical-output"><code class="option">--auto-vertical-output</code></a>
        option to <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> which causes result sets to
        be displayed vertically if they are too wide for the current
        window, and using normal tabular format otherwise. (This applies
        to statements terminated by <code class="literal">;</code> or
        <code class="literal">\G</code>.)
       (<a href="http://bugs.mysql.com/26780" target="_top">Bug#26780</a>)</p></li><li><p>
        It is now possible to set
        <a href="server-administration.html#sysvar_long_query_time"><code class="literal">long_query_time</code></a> in microseconds
        or to 0. Setting this value to 0 causes all queries to be
        recorded in the slow query log.
      </p><p>
        Currently, fractional values can be used only when logging to
        files. We plan to provide this functionality for logging to
        tables when time-related data types are enhanced to support
        microsecond resolution.
       (<a href="http://bugs.mysql.com/25412" target="_top">Bug#25412</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA</code> implementation changes
        were made that optimize certain types of queries for
        <code class="literal">INFORMATION_SCHEMA</code> tables so that they
        execute more quickly.
        <a href="optimization.html#information-schema-optimization" title="7.2.24. INFORMATION_SCHEMA Optimization">Section 7.2.24, “<code class="literal">INFORMATION_SCHEMA</code> Optimization”</a>, provides
        guidelines on how to take advantage of these optimizations by
        writing queries that minimize the need for the server to access
        the file system to obtain the information contained in
        <code class="literal">INFORMATION_SCHEMA</code> tables. By writing queries
        that enable the server to avoid directory scans or opening table
        files, you will obtain better performance.
       (<a href="http://bugs.mysql.com/19588" target="_top">Bug#19588</a>)</p></li><li><p>
        Three options were added to <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> make it
        easier to generate a dump from a slave server.
        <a href="programs.html#option_mysqldump_dump-slave"><code class="option">--dump-slave</code></a> is similar to
        <a href="programs.html#option_mysqldump_master-data"><code class="option">--master-data</code></a>, but the
        <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a> statement
        contains binary log coordinates for the slave's master host, not
        the slave itself.
        <a href="programs.html#option_mysqldump_apply-slave-statements"><code class="option">--apply-slave-statements</code></a>
        causes <a href="sql-syntax.html#stop-slave" title="12.6.2.6. STOP SLAVE Syntax"><code class="literal">STOP SLAVE</code></a> and
        <a href="sql-syntax.html#start-slave" title="12.6.2.5. START SLAVE Syntax"><code class="literal">START SLAVE</code></a> statements to be
        added before the <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a>
        statement and at the end of the output, respectively.
        <a href="programs.html#option_mysqldump_include-master-host-port"><code class="option">--include-master-host-port</code></a>
        causes the <a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a>
        statement to include <code class="literal">MASTER_PORT</code> and
        <code class="literal">MASTER_HOST</code> options for the slave's master.
       (<a href="http://bugs.mysql.com/8368" target="_top">Bug#8368</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> now supports a
        <code class="option">--combination</code> option for specifying options to
        the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server. This option is similar to
        <code class="option">--mysqld</code> but should be given two or more times.
        <span><strong class="command">mysql-test-run.pl</strong></span> executes multiple test
        runs, using the options for each instance of
        <code class="option">--combination</code> in successive runs.
      </p><p>
        For test runs specific to a given test suite, an alternative to
        the use of <code class="option">--combination</code> is to create a
        <code class="filename">combinations</code> file in the suite directory.
        The file should contain a section of options for each test run.
      </p></li><li><p>
        An alternative thread model is available for dealing with the
        issues that occur with the original one-thread-per-client model
        when scaling to large numbers of simultaneous connections. This
        model uses thread pooling:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Connection manager threads do not dedicate a thread to each
            client connection. Instead, the connection is added to the
            set of existing connection sockets. The server collects
            input from these sockets and when a complete request has
            been received from a given client, it is queued for service.
          </p></li><li><p>
            The server maintains a pool of service threads to process
            requests. When a queued request is waiting and there is an
            available (not busy) service thread in the pool, the request
            is given to the thread to be handled. After processing the
            request, the service thread becomes available to process
            other requests.
          </p><p>
            Service threads are created at server startup and exist
            until the server terminates. A given service thread is not
            tied to a specific client connection and the requests that
            it processes over time may originate from different client
            connections.
          </p></li><li><p>
            The pool of service threads has a fixed size, so the amount
            of memory required for it does not increase as the number of
            client connections increases.
          </p></li></ul></div><p>
        For information about choosing one thread model over the other
        and tuning the parameters that control thread resources, see
        <a href="optimization.html#connection-threads" title="7.5.7. How MySQL Uses Threads for Client Connections">Section 7.5.7, “How MySQL Uses Threads for Client Connections”</a>.
      </p></li><li><p>
        When the server detects <code class="literal">MyISAM</code> table
        corruption, it now writes additional information to the error
        log, such as the name and line number of the source file, and
        the list of threads accessing the table. Example: <code class="literal">Got
        an error from thread_id=1, mi_dynrec.c:368</code>. This is
        useful information to include in bug reports.
      </p></li><li><p>
        Two options relating to slow query logging have been added for
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>.
        <code class="literal">--log-slow-slave-statements</code> causes slow
        statements executed by a replication slave to be written to the
        slow query log;
        <a href="server-administration.html#sysvar_min_examined_row_limit"><code class="literal">min_examined_row_limit</code></a> can be
        used to cause queries which examine fewer than the stated number
        of rows not to be logged.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Fix</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        It was possible for any connected user to issue a
        <a href="sql-syntax.html#binlog" title="12.5.7.1. BINLOG Syntax"><code class="literal">BINLOG</code></a> statement, which could be
        used to escalate privileges.
      </p><p>
        Use of the <a href="sql-syntax.html#binlog" title="12.5.7.1. BINLOG Syntax"><code class="literal">BINLOG</code></a> statement now
        requires the <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege.
       (<a href="http://bugs.mysql.com/31611" target="_top">Bug#31611</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-6313" target="_top">CVE-2007-6313</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Three vulnerabilities in yaSSL versions 1.7.5 and earlier were
        discovered that could lead to a server crash or execution of
        unauthorized code. The exploit requires a server with yaSSL
        enabled and TCP/IP connections enabled, but does not require
        valid MySQL account credentials. The exploit does not apply to
        OpenSSL.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The proof-of-concept exploit is freely available on the
          Internet. Everyone with a vulnerable MySQL configuration is
          advised to upgrade <span class="emphasis"><em>immediately</em></span>.
        </p></div><p>(<a href="http://bugs.mysql.com/33814" target="_top">Bug#33814</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0226" target="_top">CVE-2008-0226</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0227" target="_top">CVE-2008-0227</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        Using <a href="sql-syntax.html#rename-table" title="12.1.26. RENAME TABLE Syntax"><code class="literal">RENAME TABLE</code></a> against a
        table with explicit <code class="literal">DATA DIRECTORY</code> and
        <code class="literal">INDEX DIRECTORY</code> options can be used to
        overwrite system table information by replacing the symbolic
        link points. the file to which the symlink points.
      </p><p>
        MySQL will now return an error when the file to which the
        symlink points already exists.
       (<a href="http://bugs.mysql.com/32111" target="_top">Bug#32111</a>, <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5969" target="_top">CVE-2007-5969</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        <a href="sql-syntax.html#alter-view" title="12.1.7. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> retained the original
        <code class="literal">DEFINER</code> value, even when altered by another
        user, which could allow that user to gain the access rights of
        the view. Now <a href="sql-syntax.html#alter-view" title="12.1.7. ALTER VIEW Syntax"><code class="literal">ALTER VIEW</code></a> is
        allowed only to the original definer or users with the
        <a href="server-administration.html#priv_super"><code class="literal">SUPER</code></a> privilege.
       (<a href="http://bugs.mysql.com/29908" target="_top">Bug#29908</a>)</p></li><li><p><span class="bold"><strong>Security Fix</strong></span>: 
        When using a <code class="literal">FEDERATED</code> table, the local
        server could be forced to crash if the remote server returned a
        result with fewer columns than expected.
       (<a href="http://bugs.mysql.com/29801" target="_top">Bug#29801</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">falcon_lock_timeout</code> system variable,
        which had a value in milliseconds, has been replaced with
        <code class="literal">falcon_lock_wait_timeout</code>, which has a value
        in seconds. The default value of
        <code class="literal">falcon_lock_wait_timeout</code> is 50 seconds. This
        has been done for better name and unit consistency with the
        <a href="storage-engines.html#sysvar_innodb_lock_wait_timeout"><code class="literal">innodb_lock_wait_timeout</code></a> system
        variable. Uses of the old variable should be converted to use
        the new variable.
       (<a href="http://bugs.mysql.com/33474" target="_top">Bug#33474</a>, <a href="http://bugs.mysql.com/33072" target="_top">Bug#33072</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        With <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> SQL
        mode enabled, queries such as <code class="literal">SELECT a FROM t1 HAVING
        COUNT(*)&gt;2</code> were not being rejected as they should
        have been.
      </p><p>
        This fix results in the following behavior:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            There is a check against mixing group and non-group columns
            <span class="emphasis"><em>only</em></span> when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            enabled.
          </p></li><li><p>
            This check is done both for the select list and for the
            <code class="literal">HAVING</code> clause if there is one.
          </p></li></ul></div><p>
        This behavior differs from previous versions as follows:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Previously, the <code class="literal">HAVING</code> clause was not
            checked when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> was
            enabled; now it is checked.
          </p></li><li><p>
            Previously, the select list was checked even when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> was not
            enabled; now it is checked only when
            <a href="server-administration.html#sqlmode_only_full_group_by"><code class="literal">ONLY_FULL_GROUP_BY</code></a> is
            enabled.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/31794" target="_top">Bug#31794</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#set-password" title="12.5.1.6. SET PASSWORD Syntax"><code class="literal">SET PASSWORD</code></a> statements now cause
        an implicit commit, and thus are prohibited within stored
        functions and triggers.
       (<a href="http://bugs.mysql.com/30904" target="_top">Bug#30904</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="literal">mysql_install_db</code> script could fail to
        locate some components (including <a href="programs.html#resolveip" title="4.8.3. resolveip — Resolve Host name to IP Address or Vice
Versa"><span><strong class="command">resolveip</strong></span></a>)
        during execution if the
        <a href="programs.html#option_mysql_install_db_basedir"><code class="option">--basedir</code></a> option was
        specified on the command-line or within the
        <code class="filename">my.cnf</code> file. This was due to a conflict
        when comparing the compiled-in values and the supplied values.
      </p><p>
        The <code class="option">--source-install</code> command-line option to the
        script has been removed and replaced with the
        <code class="option">--srcdir</code> option.
        <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> now locates components
        either using the compiled-in options, the
        <a href="programs.html#option_mysql_install_db_basedir"><code class="option">--basedir</code></a> option or
        <a href="programs.html#option_mysql_install_db_srcdir"><code class="option">--srcdir</code></a> option.
       (<a href="http://bugs.mysql.com/30759" target="_top">Bug#30759</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible to create a view having a column whose name
        consisted of an empty string or space characters only.
      </p><p>
        One result of this bug fix is that aliases for columns in the
        view <code class="literal">SELECT</code> statement are checked to ensure
        that they are legal column names. In particular, the length must
        be within the maximum column length of 64 characters, not the
        maximum alias length of 256 characters. This can cause problems
        for replication or loading dump files. For additional
        information and workarounds, see
        <a href="restrictions.html#view-restrictions" title="D.5. Restrictions on Views">Section D.5, “Restrictions on Views”</a>.
       (<a href="http://bugs.mysql.com/27695" target="_top">Bug#27695</a>)</p><p>See also <a href="http://bugs.mysql.com/31202" target="_top">Bug#31202</a>.</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        It was possible for option files to be read twice at program
        startup, if some of the standard option file locations turned
        out to be the same directory. Now duplicates are removed from
        the list of files to be read.
      </p><p>
        Also, users could not override system-wide settings using
        <code class="filename">~/.my.cnf</code> because
        <code class="filename"><em class="replaceable"><code>SYSCONFDIR</code></em>/my.cnf</code>
        was read last. The latter file now is read earlier so that
        <code class="filename">~/.my.cnf</code> can override system-wide
        settings.
      </p><p>
        The fix for this problem had a side effect such that on Unix,
        MySQL programs looked for options in
        <code class="filename">~/my.cnf</code> rather than the standard location
        of <code class="filename">~/.my.cnf</code>. That problem was addressed as
        <a href="http://bugs.mysql.com/38180" target="_top">Bug#38180</a>.
       (<a href="http://bugs.mysql.com/20748" target="_top">Bug#20748</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        A number of problems existed in the implementation of
        <code class="literal">MERGE</code> tables that could cause problems. The
        problems are summarized below:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <a href="http://bugs.mysql.com/26379" target="_top">Bug#26379</a> - Combination of
            <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLE</code></a>
            and <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> corrupts a
            <code class="literal">MERGE</code> table. This was caused in a number
            of situations:
          </p><div class="orderedlist"><ol type="1"><li><p>
                A thread trying to lock a <code class="literal">MERGE</code> table
                performs busy waiting while <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR
                TABLE</code></a> or a similar table administration task
                is ongoing on one or more of its MyISAM tables.
              </p></li><li><p>
                A thread trying to lock a <code class="literal">MERGE</code> table
                performs busy waiting until all threads that did
                <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> or similar
                table administration tasks on one or more of its MyISAM
                tables in LOCK TABLES segments do UNLOCK TABLES. The
                difference against problem #1 is that the busy waiting
                takes place after the administration task. It is
                terminated by
                <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">UNLOCK
                TABLES</code></a> only.
              </p></li><li><p>
                Two <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
                TABLES</code></a> within a <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK
                TABLES</code></a> segment can invalidate the lock. This
                does not require a <code class="literal">MERGE</code> table. The
                first <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
                TABLES</code></a> can be replaced by any statement that
                requires other threads to reopen the table. In 5.0 and
                5.1 a single
                <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
                TABLES</code></a> can provoke the problem.
              </p></li></ol></div></li><li><p>
            <a href="http://bugs.mysql.com/26867" target="_top">Bug#26867</a> - Simultaneously executing
            <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> and
            <a href="sql-syntax.html#repair-table" title="12.5.2.5. REPAIR TABLE Syntax"><code class="literal">REPAIR TABLE</code></a> on a
            <code class="literal">MERGE</code> table would result in memory/cpu
            hogging.
          </p><p>
            Trying DML on a <code class="literal">MERGE</code> table, which has a
            child locked and repaired by another thread, made an
            infinite loop in the server.
          </p></li><li><p>
            <a href="http://bugs.mysql.com/26377" target="_top">Bug#26377</a> - Deadlock with <code class="literal">MERGE</code> and
            <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH TABLE</code></a>
          </p><p>
            Locking a MERGE table and its children in parent-child order
            and flushing the child deadlocked the server.
          </p></li><li><p>
            <a href="http://bugs.mysql.com/25038" target="_top">Bug#25038</a> - Waiting <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a>
          </p><p>
            Truncating a MERGE child, while the MERGE table was in use,
            let the truncate fail instead of waiting for the table to
            become free.
          </p></li><li><p>
            <a href="http://bugs.mysql.com/25700" target="_top">Bug#25700</a> - <code class="literal">MERGE</code> base tables get
            corrupted by <code class="literal">OPTIMIZE/ANALYZE/REPAIR
            TABLE</code>
          </p><p>
            Repairing a child of an open <code class="literal">MERGE</code> table
            corrupted the child. It was necessary to
            <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH</code></a> the child first.
          </p></li><li><p>
            <a href="http://bugs.mysql.com/30275" target="_top">Bug#30275</a> - <code class="literal">MERGE</code> tables:
            <a href="sql-syntax.html#flush" title="12.5.7.3. FLUSH Syntax"><code class="literal">FLUSH
            TABLES</code></a> or
            <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">UNLOCK
            TABLES</code></a> causes server to crash.
          </p><p>
            Flushing and optimizing locked <code class="literal">MERGE</code>
            children crashed the server.
          </p></li><li><p>
            <a href="http://bugs.mysql.com/19627" target="_top">Bug#19627</a> - temporary merge table locking
          </p><p>
            Use of a temporary <code class="literal">MERGE</code> table with
            non-temporary children could corrupt the children.
          </p><p>
            Temporary tables are never locked. Creation of tables with
            non-temporary children of a temporary
            <code class="literal">MERGE</code> table is now prohibited.
          </p></li><li><p>
            <a href="http://bugs.mysql.com/27660" target="_top">Bug#27660</a> - <code class="literal">Falcon</code>:
            <code class="literal">MERGE</code> table possible
          </p><p>
            It was possible to create a <code class="literal">MERGE</code> table
            with non-<code class="literal">MyISAM</code> children.
          </p></li><li><p>
            <a href="http://bugs.mysql.com/30273" target="_top">Bug#30273</a> - <code class="literal">MERGE</code> tables: Can't lock
            file (errno: 155)
          </p><p>
            This was a Windows-only bug. Table administration statements
            sometimes failed with "Can't lock file (errno: 155)".
          </p></li></ul></div><p>
        The fix introduces the following changes in behavior:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            This patch changes the behavior of temporary
            <code class="literal">MERGE</code> tables. Temporary
            <code class="literal">MERGE</code> must have temporary children. The
            old behavior was wrong. A temporary table is not locked.
            Hence even non-temporary children were not locked. See <a href="http://bugs.mysql.com/19627" target="_top">Bug#19627</a>.
          </p></li><li><p>
            You cannot change the union list of a non-temporary
            <code class="literal">MERGE</code> table when LOCK TABLES is in
            effect. The following does <span class="emphasis"><em>not</em></span> work:
</p><pre class="programlisting">CREATE TABLE m1 ... ENGINE=MRG_MYISAM ...;
LOCK TABLES t1 WRITE, t2 WRITE, m1 WRITE;
ALTER TABLE m1 ... UNION=(t1,t2) ...;
</pre><p>
            However, you can do this with a temporary
            <code class="literal">MERGE</code> table.
          </p></li><li><p>
            You cannot create a <code class="literal">MERGE</code> table with
            <code class="literal">CREATE ... SELECT</code>, neither as a temporary
            <code class="literal">MERGE</code> table, nor as a non-temporary
            <code class="literal">MERGE</code> table. For example, <code class="literal">CREATE
            TABLE m1 ... ENGINE=MRG_MYISAM ... SELECT ...;</code>
            causes the error message: <span class="errortext">table is not BASE
            TABLE</span>.
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/19627" target="_top">Bug#19627</a>, <a href="http://bugs.mysql.com/25038" target="_top">Bug#25038</a>, <a href="http://bugs.mysql.com/25700" target="_top">Bug#25700</a>, <a href="http://bugs.mysql.com/26377" target="_top">Bug#26377</a>, <a href="http://bugs.mysql.com/26379" target="_top">Bug#26379</a>, <a href="http://bugs.mysql.com/26867" target="_top">Bug#26867</a>, <a href="http://bugs.mysql.com/27660" target="_top">Bug#27660</a>, <a href="http://bugs.mysql.com/30275" target="_top">Bug#30275</a>, <a href="http://bugs.mysql.com/30491" target="_top">Bug#30491</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>Important Note</strong></span>: 
        An apostrophe or single quote character
        (<code class="literal">'</code>) used in the <code class="literal">DATA
        DIRECTORY</code>, <code class="literal">INDEX DIRECTORY</code>, or
        <code class="literal">COMMENT</code> for a <code class="literal">PARTITION</code>
        clause caused the server to crash. When used as part of a
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE</code></a> statement, the crash
        was immediate. When used in an <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER
        TABLE</code></a> statement, the crash did not occur until trying
        to perform a <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> or DML
        statement on the table. In either case, the server could not be
        completely restarted until the <code class="filename">.FRM</code> file
        corresponding to the newly created or altered table was deleted.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Upgrading to the current (or later) release solves this
          problem only for tables that are newly created or altered.
          Tables created or altered in previous versions of the server
          to include <code class="literal">'</code> characters in
          <code class="literal">PARTITION</code> options must still be removed by
          deleting the corresponding <code class="filename">.FRM</code> files and
          re-creating them afterwards.
        </p></div><p>(<a href="http://bugs.mysql.com/30695" target="_top">Bug#30695</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">EXPLAIN PARTITIONS</code> reported partition usage
        by queries on <code class="literal">NDB</code> tables according
        to the standard MySQL hash function than the hash function used
        in the <code class="literal">NDB</code> storage engine.
       (<a href="http://bugs.mysql.com/29550" target="_top">Bug#29550</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: <span class="bold"><strong>MySQL Cluster</strong></span>: 
        Row-based replication from or to a big-endian machine where the
        table used the <code class="literal">NDB</code> storage engine
        failed, if the same table on the other machine was either
        non-<code class="literal">NDB</code> or the other machine was
        little-endian.
       (<a href="http://bugs.mysql.com/29549" target="_top">Bug#29549</a>, <a href="http://bugs.mysql.com/30790" target="_top">Bug#30790</a>)</p><p>See also <a href="http://bugs.mysql.com/24231" target="_top">Bug#24231</a>, <a href="http://bugs.mysql.com/30024" target="_top">Bug#30024</a>, <a href="http://bugs.mysql.com/30133" target="_top">Bug#30133</a>, <a href="http://bugs.mysql.com/30134" target="_top">Bug#30134</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        (Replication): Inconsistencies could occur between the master
        and the slave when replicating Disk Data tables.
       (<a href="http://bugs.mysql.com/19259" target="_top">Bug#19259</a>, <a href="http://bugs.mysql.com/19227" target="_top">Bug#19227</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An insert or update with combined range and equality constraints
        failed when run against an <code class="literal">NDB</code>
        table with the error <span class="errortext">Got unknown error from
        NDB</span>. An example of such a statement would be
        <code class="literal">UPDATE t1 SET b = 5 WHERE a IN (7,8) OR a &gt;=
        10;</code>.
       (<a href="http://bugs.mysql.com/31874" target="_top">Bug#31874</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An error with an <code class="literal">if</code> statement in
        <code class="filename">sql/ha_ndbcluster.cc</code> could potentially lead
        to an infinite loop in case of failure when working with
        <code class="literal">AUTO_INCREMENT</code> columns in
        <code class="literal">NDB</code> tables.
       (<a href="http://bugs.mysql.com/31810" target="_top">Bug#31810</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The <code class="literal">NDB</code> storage engine code was not
        safe for strict-alias optimization in <span><strong class="command">gcc</strong></span>
        4.2.1.
       (<a href="http://bugs.mysql.com/31761" target="_top">Bug#31761</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Following an upgrade, <span><strong class="command">ndb_mgmd</strong></span> would fail
        with an <span class="errortype">ArbitrationError</span>.
       (<a href="http://bugs.mysql.com/31690" target="_top">Bug#31690</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It was possible in some cases for a node group to be
        “<span class="quote">lost</span>” due to missed local checkpoints following a
        system restart.
       (<a href="http://bugs.mysql.com/31525" target="_top">Bug#31525</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A query against a table with <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a>
        or <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns that would return
        more than a certain amount of data failed with <span class="errortext">Got
        error 4350 'Transaction already aborted' from
        NDBCLUSTER</span>.
       (<a href="http://bugs.mysql.com/31482" target="_top">Bug#31482</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/29102" target="_top">Bug#29102</a>.</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">NDB</code> tables having names containing
        non-alphanumeric characters (such as “<span class="quote">
        <code class="literal">$</code> </span>”) were not discovered correctly.
       (<a href="http://bugs.mysql.com/31470" target="_top">Bug#31470</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A node failure during a local checkpoint could lead to a
        subsequent failure of the cluster during a system restart.
       (<a href="http://bugs.mysql.com/31257" target="_top">Bug#31257</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        A cluster restart could sometimes fail due to an issue with
        table IDs.
       (<a href="http://bugs.mysql.com/30975" target="_top">Bug#30975</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        In some cases, the cluster managment server logged entries
        multiple times following a restart of <span><strong class="command">mgmd</strong></span>.
       (<a href="http://bugs.mysql.com/29565" target="_top">Bug#29565</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <span><strong class="command">ndb_mgm</strong></span> <code class="option">--help</code> did not
        display any information about the <code class="option">-a</code> option.
       (<a href="http://bugs.mysql.com/29509" target="_top">Bug#29509</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        An interpreted program of sufficient size and complexity could
        cause all cluster data nodes to shut down due to buffer
        overruns.
       (<a href="http://bugs.mysql.com/29390" target="_top">Bug#29390</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Performing <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> operations
        after a data node had been shut down could lead to inconsistent
        data following a restart of the node.
       (<a href="http://bugs.mysql.com/26450" target="_top">Bug#26450</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        <code class="literal">UPDATE IGNORE</code> could sometimes fail on
        <code class="literal">NDB</code> tables due to the use of
        unitialized data when checking for duplicate keys to be ignored.
       (<a href="http://bugs.mysql.com/25817" target="_top">Bug#25817</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        The cluster log was formatted inconsistently and contained
        extraneous newline characters.
       (<a href="http://bugs.mysql.com/25064" target="_top">Bug#25064</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        An <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> into a
        <code class="literal">Falcon</code> table with partitions and an
        auto-increment column would fail.
       (<a href="http://bugs.mysql.com/33661" target="_top">Bug#33661</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Multiple simultaneous inserts into a partitioned
        <code class="literal">Falcon</code> table could deadlock.
       (<a href="http://bugs.mysql.com/33480" target="_top">Bug#33480</a>, <a href="http://bugs.mysql.com/33735" target="_top">Bug#33735</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Repeated updates of a table that was partitioned by
        <code class="literal">KEY</code> on a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column eventually
        crashed the server.
       (<a href="http://bugs.mysql.com/32067" target="_top">Bug#32067</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Selecting from a table partitioned by <code class="literal">KEY</code> on
        a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> column whose size was
        greater than 65530 caused the server to crash.
       (<a href="http://bugs.mysql.com/31705" target="_top">Bug#31705</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <a href="sql-syntax.html#insert-delayed" title="12.2.5.2. INSERT DELAYED Syntax"><code class="literal">INSERT DELAYED</code></a> on a partitioned
        table crashed the server. The server now rejects the statement
        with an error.
       (<a href="http://bugs.mysql.com/31210" target="_top">Bug#31210</a>)</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        Using <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to partition an
        existing table having an <code class="literal">AUTO_INCREMENT</code>
        column could crash the server.
       (<a href="http://bugs.mysql.com/30878" target="_top">Bug#30878</a>)</p><p>This regression was introduced by <a href="http://bugs.mysql.com/27405" target="_top">Bug#27405</a>.</p></li><li><p><span class="bold"><strong>Partitioning</strong></span>: 
        <code class="literal">Falcon</code> cannot drop a table for which there is
        a pending transaction, but the error message for such attempts
        was misleading.
       (<a href="http://bugs.mysql.com/22972" target="_top">Bug#22972</a>)</p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: <span class="bold"><strong>Replication</strong></span>: 
        A node failure during replication could lead to buckets out of
        order; now active subscribers are checked for, rather than empty
        buckets.
       (<a href="http://bugs.mysql.com/31701" target="_top">Bug#31701</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When using a transactional storage engine not using
        statement-based logging, a duplicate key error on the master
        caused replication to fail. This issue was first observed when
        using the <code class="literal">Falcon</code> storage engine.
       (<a href="http://bugs.mysql.com/33688" target="_top">Bug#33688</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When updating columns for a row when using a
        <code class="literal">Falcon</code> table, the values for columns that
        were not updated were replicated as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/33055" target="_top">Bug#33055</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        When dropping a database containing a stored procedure while
        using row-cased replication, the delete of the stored procedure
        from the <code class="literal">mysql.proc</code> table was recorded in the
        binary log following the <a href="sql-syntax.html#drop-database" title="12.1.17. DROP DATABASE Syntax"><code class="literal">DROP
        DATABASE</code></a> statement. To correct this issue,
        <a href="sql-syntax.html#drop-database" title="12.1.17. DROP DATABASE Syntax"><code class="literal">DROP DATABASE</code></a> now uses
        statement-based replication.
       (<a href="http://bugs.mysql.com/32435" target="_top">Bug#32435</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">DELETE FROM
        <em class="replaceable"><code>tbl_name</code></em></code> (no
        <code class="literal">WHERE</code> clause) for a <code class="literal">Falcon</code>
        table caused replication to fail on the slave.
       (<a href="http://bugs.mysql.com/32150" target="_top">Bug#32150</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        It was possible for the name of the relay log file to exceed the
        amount of memory reserved for it, possibly leading to a crash of
        the server.
       (<a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>)</p><p>See also <a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Corruption of log events caused the server to crash on 64-bit
        Linux systems having 4 GB of memory or more.
       (<a href="http://bugs.mysql.com/31793" target="_top">Bug#31793</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Trying to replicate an update of a row that was missing on the
        slave led to a failure on the slave.
       (<a href="http://bugs.mysql.com/31702" target="_top">Bug#31702</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        <code class="literal">Falcon</code> tables would fail during replication
        if ROW-based replication was specified.
       (<a href="http://bugs.mysql.com/31671" target="_top">Bug#31671</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Table names were displayed as binary “<span class="quote">garbage</span>”
        characters in slave error messages. The issue was observed on
        64-bit Windows but may have effected other platforms.
       (<a href="http://bugs.mysql.com/30854" target="_top">Bug#30854</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        One thread could read uninitialized memory from the stack of
        another thread. This issue was only known to occur in a
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> process acting as both a master and a
        slave.
       (<a href="http://bugs.mysql.com/30752" target="_top">Bug#30752</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A new configuration option,
        <a href="storage-engines.html#sysvar_falcon_support_xa"><code class="literal">falcon_support_xa</code></a> has been
        added. The option specifies whether <code class="literal">Falcon</code>
        should report itself as a two-phase commit storage engine, and
        therefore take part in XA transactions.
       (<a href="http://bugs.mysql.com/29371" target="_top">Bug#29371</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        It was possible to set <code class="literal">SQL_SLAVE_SKIP_COUNTER</code>
        such that the slave would jump into the middle of an event
        group, including possibly a transaction.
       (<a href="http://bugs.mysql.com/28618" target="_top">Bug#28618</a>)</p><p>See also <a href="http://bugs.mysql.com/12691" target="_top">Bug#12691</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Due a previous change in how the default name and location of
        the binary log file were determined, replication failed
        following some upgrades.
       (<a href="http://bugs.mysql.com/28597" target="_top">Bug#28597</a>, <a href="http://bugs.mysql.com/28603" target="_top">Bug#28603</a>)</p><p>See also <a href="http://bugs.mysql.com/31836" target="_top">Bug#31836</a>.</p><p>This regression was introduced by <a href="http://bugs.mysql.com/20166" target="_top">Bug#20166</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Connections from one <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> server to another
        failed on Mac OS X, affecting replication and
        <code class="literal">FEDERATED</code> tables.
       (<a href="http://bugs.mysql.com/26664" target="_top">Bug#26664</a>)</p><p>See also <a href="http://bugs.mysql.com/29083" target="_top">Bug#29083</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Stored procedures having <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>
        parameters were not replicated correctly.
       (<a href="http://bugs.mysql.com/26199" target="_top">Bug#26199</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        Issuing <a href="sql-syntax.html#show-slave-status" title="12.5.6.34. SHOW SLAVE STATUS Syntax"><code class="literal">SHOW SLAVE STATUS</code></a> as
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> was shutting down could cause a crash.
       (<a href="http://bugs.mysql.com/26000" target="_top">Bug#26000</a>)</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        If a temporary error occured inside an event group on an event
        that was not the first event of the group, the slave could get
        caught in an endless loop because the retry counter was reset
        whenever an event was executed successfully.
       (<a href="http://bugs.mysql.com/24860" target="_top">Bug#24860</a>)</p><p>See also <a href="http://bugs.mysql.com/12691" target="_top">Bug#12691</a>, <a href="http://bugs.mysql.com/23171" target="_top">Bug#23171</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        An <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statement using a
        stored function that modified a non-transactional table was not
        logged if it failed. This caused the copy of the
        non-transactional table on the master have a row that the copy
        on the slave did not.
      </p><p>
        In addition, when an
        <a href="sql-syntax.html#insert-on-duplicate" title="12.2.5.3. INSERT ... ON
        DUPLICATE KEY UPDATE Syntax"><code class="literal">INSERT ...
        ON DUPLICATE KEY UPDATE</code></a> statement encountered a
        duplicate key constraint, but the
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> did not actually change
        any data, the statement was not logged. As a result of this fix,
        such statements are now treated the same for logging purposes as
        other <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements, and so
        are written to the binary log.
       (<a href="http://bugs.mysql.com/23333" target="_top">Bug#23333</a>)</p><p>See also <a href="http://bugs.mysql.com/12713" target="_top">Bug#12713</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication slave sometimes failed to reconnect because it was
        unable to run <a href="sql-syntax.html#show-slave-hosts" title="12.5.6.33. SHOW SLAVE HOSTS Syntax"><code class="literal">SHOW SLAVE HOSTS</code></a>.
        It was not necessary to run this statement on slaves (since the
        master should track connection IDs), and the execution of this
        statement by slaves was removed.
       (<a href="http://bugs.mysql.com/21132" target="_top">Bug#21132</a>)</p><p>See also <a href="http://bugs.mysql.com/13963" target="_top">Bug#13963</a>, <a href="http://bugs.mysql.com/21869" target="_top">Bug#21869</a>.</p></li><li><p><span class="bold"><strong>Replication</strong></span>: 
        A replication slave sometimes stopped for changes that were
        idempotent (that is, such changes should have been considered
        “<span class="quote">safe</span>”), even though it should have simply noted
        that the change was already done, and continued operation.
       (<a href="http://bugs.mysql.com/19958" target="_top">Bug#19958</a>)</p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: 
        A replication slave could return “<span class="quote">garbage</span>” data
        that was not in recognizable row format due to a problem with
        the internal <code class="literal">all_set()</code> method.
       (<a href="http://bugs.mysql.com/33375" target="_top">Bug#33375</a>)</p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: 
        Replicating <code class="literal">NDB</code> tables with extra
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns on the master
        caused the slave to fail.
       (<a href="http://bugs.mysql.com/31646" target="_top">Bug#31646</a>)</p><p>See also <a href="http://bugs.mysql.com/29549" target="_top">Bug#29549</a>.</p></li><li><p><span class="bold"><strong>Cluster Replication</strong></span>: 
        In some cases, not all tables were properly initialized before
        the binary log thread was started.
       (<a href="http://bugs.mysql.com/31618" target="_top">Bug#31618</a>)</p></li><li><p><span class="bold"><strong>Cluster API</strong></span>: 
        A buffer overrun in <code class="literal">NdbBlob::setValue()</code>
        caused erroneous results on Mac OS X.
       (<a href="http://bugs.mysql.com/31284" target="_top">Bug#31284</a>)</p></li><li><p>
        Setting <a href="storage-engines.html#sysvar_falcon_consistent_read"><code class="literal">falcon_consistent_read</code></a>
        to a value of 1 or <code class="literal">ON</code> resulted in a value of
        –1 being assigned.
       (<a href="http://bugs.mysql.com/34331" target="_top">Bug#34331</a>)</p></li><li><p>
        Compiling MySQL on FreeBSD would fail due to missing definitions
        for certain network constants.
       (<a href="http://bugs.mysql.com/34292" target="_top">Bug#34292</a>)</p></li><li><p>
        The <code class="literal">INFORMATION_SCHEMA.FALCON_TRANSACTIONS</code>
        had two columns named <code class="literal">STATE</code>.
       (<a href="http://bugs.mysql.com/34241" target="_top">Bug#34241</a>)</p></li><li><p>
        For <code class="literal">Falcon</code>, under some circumstances, a
        rolled back record could appear not to be removed.
       (<a href="http://bugs.mysql.com/34174" target="_top">Bug#34174</a>)</p></li><li><p>
        Attempting to set the isolation level to a value not supported
        by <code class="literal">Falcon</code> caused a <code class="literal">Falcon</code>
        assertion failure.
       (<a href="http://bugs.mysql.com/34164" target="_top">Bug#34164</a>)</p></li><li><p>
        <code class="literal">Falcon</code> did not compile on Mac OS X/Intel or
        Mac OS X/PPC.
       (<a href="http://bugs.mysql.com/34095" target="_top">Bug#34095</a>)</p></li><li><p>
        When inserting very large data sets into table using
        <code class="literal">INSERT INTO ... SELECT FROM</code> on a
        <code class="literal">Falcon</code> table when the value of
        <a href="storage-engines.html#sysvar_falcon_page_cache_size"><code class="literal">falcon_page_cache_size</code></a> is
        higher than the available memory. Instead of returning an error,
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would crash in this instance.
       (<a href="http://bugs.mysql.com/34086" target="_top">Bug#34086</a>)</p></li><li><p>
        For <code class="literal">Falcon</code>, an initializing transaction
        created a dependency on a commitNoUpdate transaction releasing
        transaction dependencies, which caused an assertion failure.
       (<a href="http://bugs.mysql.com/33759" target="_top">Bug#33759</a>)</p></li><li><p>
        The output from <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a>
        on a <code class="literal">Falcon</code> table would not include the
        <code class="literal">AUTO_INCREMENT</code> value parameters.
       (<a href="http://bugs.mysql.com/33662" target="_top">Bug#33662</a>)</p></li><li><p>
        For table creation, <code class="literal">Falcon</code> did not handle
        identifiers with embedded double quotes.
       (<a href="http://bugs.mysql.com/33657" target="_top">Bug#33657</a>, <a href="http://bugs.mysql.com/33667" target="_top">Bug#33667</a>)</p></li><li><p>
        Contention between concurrent <code class="literal">Falcon</code>
        transactions could cause some queries to be starved for a long
        time.
       (<a href="http://bugs.mysql.com/33634" target="_top">Bug#33634</a>)</p></li><li><p>
        Incomplete <code class="literal">Falcon</code> recovery after server
        restarts eventually resulted in tablespace corruption.
       (<a href="http://bugs.mysql.com/33608" target="_top">Bug#33608</a>, <a href="http://bugs.mysql.com/33665" target="_top">Bug#33665</a>)</p></li><li><p>
        Using <a href="storage-engines.html#sysvar_falcon_debug_mask"><code class="literal">falcon_debug_mask</code></a> to
        enable debugging messages could lead to some messages not being
        correctly flushed to the log file.
       (<a href="http://bugs.mysql.com/33531" target="_top">Bug#33531</a>)</p></li><li><p>
        Table recovery failed repeatedly after starting the server with
        a corrupted <code class="literal">Falcon</code> tablespace, causing the
        server to crash.
       (<a href="http://bugs.mysql.com/33517" target="_top">Bug#33517</a>)</p></li><li><p>
        After a server restart, <code class="literal">Falcon</code> mishandled
        metadata, resulting in apparent corruption of
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> data.
       (<a href="http://bugs.mysql.com/33492" target="_top">Bug#33492</a>)</p></li><li><p>
        Dropping a tablespace for the <code class="literal">Falcon</code> storage
        engine when the specified tablespace did not exist would
        silently succeed, instead of generating a suitable error
        message.
       (<a href="http://bugs.mysql.com/33212" target="_top">Bug#33212</a>)</p></li><li><p>
        Multiple concurrent delete operations on a
        <code class="literal">Falcon</code> table were serialized rather than
        executing concurrently, resulting in poor performance.
       (<a href="http://bugs.mysql.com/33191" target="_top">Bug#33191</a>)</p></li><li><p>
        Inserting millions of rows into a <code class="literal">Falcon</code>
        table could cause the insert operation to hang.
       (<a href="http://bugs.mysql.com/33175" target="_top">Bug#33175</a>)</p></li><li><p>
        The columns in the <code class="literal">INFORMATION_SCHEMA</code> table
        for <code class="literal">FALCON_SERIAL_LOG_INFO</code>,
        <code class="literal">FALCON_TRANSACTIONS</code>, and
        <code class="literal">FALCON_TRANSACTION_SUMMARY</code> contained a
        reference to the databae of tablespace, but the column
        information was actually showing instances of the
        <code class="literal">Falcon</code> engine. The tables have been updated
        to a different structure.
       (<a href="http://bugs.mysql.com/33141" target="_top">Bug#33141</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> to convert a
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> column using the
        <code class="literal">ucs2</code> character set to
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> when using a
        <code class="literal">Falcon</code> table would cause a crash.
       (<a href="http://bugs.mysql.com/33081" target="_top">Bug#33081</a>)</p></li><li><p>
        Multiple <code class="literal">Falcon</code> gopher threads attempting to
        update the same index could result in failure to add new index
        entries.
       (<a href="http://bugs.mysql.com/33080" target="_top">Bug#33080</a>)</p></li><li><p>
        <code class="literal">Falcon</code> tried to delete a record from an empty
        record locator page, which could cause a server crash.
       (<a href="http://bugs.mysql.com/33068" target="_top">Bug#33068</a>)</p></li><li><p>
        <code class="literal">Falcon</code> failed to rebuild a Section page
        during recovery, causing a server crash.
       (<a href="http://bugs.mysql.com/32921" target="_top">Bug#32921</a>)</p></li><li><p>
        Using <code class="literal">Falcon</code> when accessing multiple versions
        of the same record, certain records could fail to be retrieved
        from the record cache, causing an assertion failure.
       (<a href="http://bugs.mysql.com/32862" target="_top">Bug#32862</a>)</p></li><li><p>
        Creating an index on a <code class="literal">Falcon</code> table with a
        column using UTF32 that has been converted to UTF8 would cause a
        server crash.
       (<a href="http://bugs.mysql.com/32833" target="_top">Bug#32833</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> on a
        <code class="literal">Falcon</code> table it would be possible to create
        two tables with the same name but different case.
       (<a href="http://bugs.mysql.com/32830" target="_top">Bug#32830</a>)</p></li><li><p>
        Converting a table from <code class="literal">InnoDB</code> to
        <code class="literal">Falcon</code>, where the <code class="literal">Falcon</code>
        table with the same name (but different case) would cause a
        server crash.
       (<a href="http://bugs.mysql.com/32829" target="_top">Bug#32829</a>)</p></li><li><p>
        Concurrent <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE
        TABLE</code></a> operations for <code class="literal">Falcon</code> tables
        caused <code class="literal">Falcon</code> to crash.
       (<a href="http://bugs.mysql.com/32730" target="_top">Bug#32730</a>)</p></li><li><p>
        <a href="programs.html#mysqld-safe" title="4.3.2. mysqld_safe — MySQL Server Startup Script"><span><strong class="command">mysqld_safe</strong></span></a> looked for error messages in the
        wrong location.
       (<a href="http://bugs.mysql.com/32679" target="_top">Bug#32679</a>)</p></li><li><p>
        An issue with the
        <a href="server-administration.html#sqlmode_no_engine_substitution"><code class="literal">NO_ENGINE_SUBSTITUTION</code></a>
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> database can cause the
        creation of stored routines to fail. If you are having problems
        with creating stored routines while using this
        <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> value, remove this
        value from your <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a>
        setting.
       (<a href="http://bugs.mysql.com/32633" target="_top">Bug#32633</a>)</p></li><li><p>
        Repeatedly creating and dropping <code class="literal">Falcon</code>
        tablespaces failed because the old tablespace was not dropped
        before the new tablespace file was created.
       (<a href="http://bugs.mysql.com/32621" target="_top">Bug#32621</a>)</p></li><li><p>
        <code class="literal">Falcon</code> did not properly handle quoted column
        name or tablespace name identifiers.
       (<a href="http://bugs.mysql.com/32620" target="_top">Bug#32620</a>)</p></li><li><p>
        The <a href="functions.html#function_interval"><code class="literal">INTERVAL()</code></a> function
        incorrectly handled <code class="literal">NULL</code> values in the value
        list.
       (<a href="http://bugs.mysql.com/32560" target="_top">Bug#32560</a>)</p></li><li><p>
        Use of a <code class="literal">NULL</code>-returning <code class="literal">GROUP
        BY</code> expression in conjunction with <code class="literal">WITH
        ROLLUP</code> could cause a server crash.
       (<a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>)</p><p>See also <a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>.</p></li><li><p>
        <code class="literal">ORDER BY UpdateXML(...)</code> caused the server to
        crash in queries where
        <a href="functions.html#function_updatexml"><code class="literal">UpdateXML()</code></a> returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/32557" target="_top">Bug#32557</a>)</p></li><li><p>
        <code class="literal">Falcon</code> used a fixed index key size which was
        too small to cope with some <code class="literal">Falcon</code> page
        sizes, leading to a crash. <code class="literal">Falcon</code> now
        supports variable-length index keys according to the supported
        page sizes. See
        <code class="literal"><a href="storage-engines.html#sysvar_falcon_page_size">falcon_page_size</a></code>.
       (<a href="http://bugs.mysql.com/32554" target="_top">Bug#32554</a>)</p></li><li><p>
        The rules for valid column names were being applied differently
        for base tables and views.
       (<a href="http://bugs.mysql.com/32496" target="_top">Bug#32496</a>)</p></li><li><p>
        <code class="literal">Falcon</code> options to set the limits of memory
        usage would not be honored. This could lead to crashes and
        assertions during normal usage, instead of generating a suitable
        warning.
       (<a href="http://bugs.mysql.com/32413" target="_top">Bug#32413</a>)</p></li><li><p>
        <code class="literal">Falcon</code> would incorrectly return the supported
        repeatable-read level when queried by the Online Backup system,
        preventing the ability to create a consistent snapshot backup.
       (<a href="http://bugs.mysql.com/32301" target="_top">Bug#32301</a>)</p></li><li><p>
        Some uses of user variables in a query could result in a server
        crash.
       (<a href="http://bugs.mysql.com/32260" target="_top">Bug#32260</a>)</p></li><li><p>
        Under certain conditions, the presence of a <code class="literal">GROUP
        BY</code> clause could cause an <code class="literal">ORDER BY</code>
        clause to be ignored.
       (<a href="http://bugs.mysql.com/32202" target="_top">Bug#32202</a>)</p></li><li><p>
        On Mac OS X, creating a <code class="literal">Falcon</code> table using a
        new <code class="literal">Falcon</code> installation caused a crash.
       (<a href="http://bugs.mysql.com/32201" target="_top">Bug#32201</a>)</p></li><li><p>
        Altering a <code class="literal">Falcon</code> table to support an auto
        increment column on a column with existing data and null values
        would incorrectly update the table and return an incorrect count
        of the altered rows.
       (<a href="http://bugs.mysql.com/32194" target="_top">Bug#32194</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> does not support
        <code class="literal">SPATIAL</code> indexes, but could crash when asked
        to handle one. Now an error is returned.
       (<a href="http://bugs.mysql.com/32125" target="_top">Bug#32125</a>)</p></li><li><p>
        The server crashed on optimizations involving a join of
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">MEDIUMINT</code></a> columns and a system
        variable in the <code class="literal">WHERE</code> clause.
       (<a href="http://bugs.mysql.com/32103" target="_top">Bug#32103</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> used the
        <a href="server-administration.html#option_mysqld_user"><code class="option">--user</code></a> option when starting
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>, which produces warnings if the
        current user is not <code class="literal">root</code>. Now
        <a href="server-administration.html#option_mysqld_user"><code class="option">--user</code></a> is added only for
        <code class="literal">root</code>.
       (<a href="http://bugs.mysql.com/32078" target="_top">Bug#32078</a>)</p></li><li><p>
        Inserting, updating and deleting a large number of
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> records in a
        <code class="literal">Falcon</code> table would take significant amount of
        time and may prevent shutdown.
       (<a href="http://bugs.mysql.com/32062" target="_top">Bug#32062</a>)</p></li><li><p>
        On 64-bit platforms, assignments of values to enumeration-valued
        storage engine-specific system variables were not validated and
        could result in unexpected values.
       (<a href="http://bugs.mysql.com/32034" target="_top">Bug#32034</a>)</p></li><li><p>
        A <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement with a
        subquery in the <code class="literal">WHERE</code> clause would sometimes
        ignore an error during subquery evaluation and proceed with the
        delete operation.
       (<a href="http://bugs.mysql.com/32030" target="_top">Bug#32030</a>)</p></li><li><p>
        Using dates in the range <code class="literal">'0000-00-01'</code> to
        <code class="literal">'0000-00-99'</code> range in the
        <code class="literal">WHERE</code> clause could result in an incorrect
        result set. (These dates are not in the supported range for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>, but different results for a
        given query could occur depending on position of records
        containing the dates within a table.)
       (<a href="http://bugs.mysql.com/32021" target="_top">Bug#32021</a>)</p></li><li><p>
        User-defined functions are not loaded if the server is started
        with the <a href="server-administration.html#option_mysqld_skip-grant-tables"><code class="option">--skip-grant-tables</code></a>
        option, but the server did not properly handle this case and
        issued an <span class="errortext">Out of memory</span> error message
        instead.
       (<a href="http://bugs.mysql.com/32020" target="_top">Bug#32020</a>)</p></li><li><p>
        If a user-defined function was used in a
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement, and an error
        occurred during UDF initialization, the error did not terminate
        execution of the <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>, but
        rather was converted to a warning.
       (<a href="http://bugs.mysql.com/32007" target="_top">Bug#32007</a>)</p></li><li><p>
        In debug builds, testing the result of an <code class="literal">IN</code>
        subquery against <code class="literal">NULL</code> caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/31884" target="_top">Bug#31884</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-create-trigger" title="12.5.6.13. SHOW CREATE TRIGGER Syntax"><code class="literal">SHOW CREATE TRIGGER</code></a> caused a
        server crash.
       (<a href="http://bugs.mysql.com/31866" target="_top">Bug#31866</a>)</p></li><li><p>
        The server crashed after insertion of a negative value into an
        <code class="literal">AUTO_INCREMENT</code> column of an
        <code class="literal">InnoDB</code> table.
       (<a href="http://bugs.mysql.com/31860" target="_top">Bug#31860</a>)</p></li><li><p>
        For <code class="literal">libmysqld</code> applications, handling of
        <a href="connectors-apis.html#mysql-change-user" title="20.10.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> calls left
        some pointers improperly updated, leading to server crashes.
       (<a href="http://bugs.mysql.com/31850" target="_top">Bug#31850</a>)</p></li><li><p>
        Comparison results for <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> were
        different from those for operators like
        <a href="functions.html#operator_less-than"><code class="literal">&lt;</code></a> and
        <a href="functions.html#operator_greater-than"><code class="literal">&gt;</code></a> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>-like values with
        trailing extra characters such as <code class="literal">'2007-10-01 00:00:00
        GMT-6'</code>. <a href="functions.html#operator_between"><code class="literal">BETWEEN</code></a> treated
        the values as <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>, whereas
        the other operators performed a binary-string comparison. Now
        they all uniformly use a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>
        comparison, but generate warnings for values with trailing
        garbage.
       (<a href="http://bugs.mysql.com/31800" target="_top">Bug#31800</a>)</p></li><li><p>
        The server could crash during <code class="literal">filesort</code> for
        <code class="literal">ORDER BY</code> based on expressions with
        <a href="functions.html#function_inet-ntoa"><code class="literal">INET_NTOA()</code></a> or
        <a href="functions.html#function_oct"><code class="literal">OCT()</code></a> if those functions returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/31758" target="_top">Bug#31758</a>)</p></li><li><p>
        For a fatal error during a filesort in
        <code class="literal">find_all_keys()</code>, the error was returned
        without the necessary handler uninitialization, causing an
        assertion failure.
       (<a href="http://bugs.mysql.com/31742" target="_top">Bug#31742</a>)</p></li><li><p>
        The examined-rows count was not incremented for
        <a href="optimization.html#jointype_const"><code class="literal">const</code></a> queries.
       (<a href="http://bugs.mysql.com/31700" target="_top">Bug#31700</a>)</p></li><li><p>
        The <a href="connectors-apis.html#mysql-change-user" title="20.10.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a> C API
        function was subject to buffer overflow.
       (<a href="http://bugs.mysql.com/31669" target="_top">Bug#31669</a>)</p></li><li><p>
        For <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT ... INTO
        OUTFILE</code></a>, if the <code class="literal">ENCLOSED BY</code> string
        is empty and the <code class="literal">FIELDS TERMINATED BY</code> string
        started with a special character (one of <code class="literal">n</code>,
        <code class="literal">t</code>, <code class="literal">r</code>,
        <code class="literal">b</code>, <code class="literal">0</code>,
        <code class="literal">Z</code>, or <code class="literal">N</code>), every occurrence
        of the character within field values would be duplicated.
       (<a href="http://bugs.mysql.com/31663" target="_top">Bug#31663</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-columns" title="12.5.6.6. SHOW COLUMNS Syntax"><code class="literal">SHOW COLUMNS</code></a> and
        <a href="sql-syntax.html#describe" title="12.3.1. DESCRIBE Syntax"><code class="literal">DESCRIBE</code></a> displayed
        <code class="literal">null</code> as the column type for a view with no
        valid definer. This caused <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> to
        produce a non-reloadable dump file for the view.
       (<a href="http://bugs.mysql.com/31662" target="_top">Bug#31662</a>)</p></li><li><p>
        The <a href="programs.html#mysqlbug" title="4.4.3. mysqlbug — Generate Bug Report"><span><strong class="command">mysqlbug</strong></span></a> script did not include the
        correct values of <code class="literal">CFLAGS</code> and
        <code class="literal">CXXFLAGS</code> that were used to configure the
        distribution.
       (<a href="http://bugs.mysql.com/31644" target="_top">Bug#31644</a>)</p></li><li><p>
        For queries for which loose index scan is applicable, the
        optimizer could choose the wrong execution plan for correlated
        subqueries.
       (<a href="http://bugs.mysql.com/31639" target="_top">Bug#31639</a>)</p></li><li><p>
        Queries that include a comparison of an
        <code class="literal">INFORMATION_SCHEMA</code> table column to
        <code class="literal">NULL</code> caused a server crash.
       (<a href="http://bugs.mysql.com/31633" target="_top">Bug#31633</a>)</p></li><li><p>
        <code class="literal">EXPLAIN EXTENDED</code> for
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> from
        <code class="literal">INFORMATION_SCHEMA</code> tables caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/31630" target="_top">Bug#31630</a>)</p></li><li><p>
        A buffer used when setting variables was not dimensioned to
        accommodate the trailing <code class="literal">'\0'</code> byte, so a
        single-byte buffer overrun was possible.
       (<a href="http://bugs.mysql.com/31588" target="_top">Bug#31588</a>)</p></li><li><p>
        For semi-join processing, pullout of functionally dependent
        tables was not handled transitively.
       (<a href="http://bugs.mysql.com/31563" target="_top">Bug#31563</a>)</p></li><li><p>
        <code class="literal">HAVING</code> could treat lettercase of table
        aliases incorrectly if
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> was
        enabled.
       (<a href="http://bugs.mysql.com/31562" target="_top">Bug#31562</a>)</p></li><li><p>
        Spurious duplicate-key errors could occur for multiple-row
        inserts into an <code class="literal">InnoDB</code> table that activate a
        trigger.
       (<a href="http://bugs.mysql.com/31540" target="_top">Bug#31540</a>)</p></li><li><p>
        When inserting dates into a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column with a
        <code class="literal">Falcon</code>, the values would automatically be
        converted with values between 70 and 99 converted to 1970-1999,
        and values from 00 to 69 converted to 2000 to 2069. These dates
        are now correctly handled.
       (<a href="http://bugs.mysql.com/31490" target="_top">Bug#31490</a>)</p></li><li><p>
        The length of the result from
        <a href="functions.html#function_ifnull"><code class="literal">IFNULL()</code></a> could be calculated
        incorrectly because the sign of the result was not taken into
        account.
       (<a href="http://bugs.mysql.com/31471" target="_top">Bug#31471</a>)</p></li><li><p>
        Queries that used the <a href="optimization.html#jointype_ref"><code class="literal">ref</code></a>
        access method or index-based subquery execution over indexes
        that have <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns could
        fail with an error <code class="literal">Column
        <em class="replaceable"><code>col_name</code></em> cannot be null</code>.
       (<a href="http://bugs.mysql.com/31450" target="_top">Bug#31450</a>)</p></li><li><p>
        <code class="literal">InnoDB</code> now tracks locking and use of tables
        by MySQL only after a table has been successfully locked on
        behalf of a transaction. Previously, the locked flag was set and
        the table in-use counter was updated before checking whether the
        lock on the table succeeded. A subsequent failure in obtaining a
        lock on the table led to an inconsistent state as the table was
        neither locked nor in use.
       (<a href="http://bugs.mysql.com/31444" target="_top">Bug#31444</a>)</p></li><li><p>
        <code class="literal">SELECT 1 REGEX NULL</code> caused an assertion
        failure for debug servers.
       (<a href="http://bugs.mysql.com/31440" target="_top">Bug#31440</a>)</p></li><li><p>
        <a href="information-schema.html#tables-table" title="19.2. The INFORMATION_SCHEMA TABLES Table"><code class="literal">INFORMATION_SCHEMA.TABLES</code></a> was
        returning incorrect information.
       (<a href="http://bugs.mysql.com/31381" target="_top">Bug#31381</a>)</p></li><li><p>
        <a href="sql-syntax.html#drop-user" title="12.5.1.2. DROP USER Syntax"><code class="literal">DROP USER</code></a> caused an increase in
        memory usage.
       (<a href="http://bugs.mysql.com/31347" target="_top">Bug#31347</a>)</p></li><li><p>
        <a href="programs.html#mysql-install-db" title="4.4.5. mysql_install_db — Initialize MySQL Data Directory"><span><strong class="command">mysql_install_db</strong></span></a> failed if the default
        storage engine was <code class="literal">NDB</code>. Now it
        explicitly uses <code class="literal">MyISAM</code> as the storage engine
        when running <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld --bootstrap</strong></span></a>.
       (<a href="http://bugs.mysql.com/31315" target="_top">Bug#31315</a>)</p></li><li><p>
        <code class="literal">TABLESPACE</code> names within
        <code class="literal">Falcon</code> did not support characters outside the
        alpha-numeric ASCII character set.
       (<a href="http://bugs.mysql.com/31311" target="_top">Bug#31311</a>)</p></li><li><p>
        For <code class="literal">InnoDB</code> tables with
        <a href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a> isolation
        level, semi-consistent reads used for
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements skipped rows
        locked by another transaction, rather than waiting for the locks
        to be released. Consequently, rows that possibly should have
        been updated were never examined.
       (<a href="http://bugs.mysql.com/31310" target="_top">Bug#31310</a>)</p></li><li><p>
        For an almost-full <code class="literal">MyISAM</code> table, an insert
        that failed could leave the table in a corrupt state.
       (<a href="http://bugs.mysql.com/31305" target="_top">Bug#31305</a>)</p></li><li><p>
        When dropping Falcon tablespaces the associated tablespace file
        was not deleted.
       (<a href="http://bugs.mysql.com/31296" target="_top">Bug#31296</a>)</p></li><li><p>
        <code class="literal">Falcon</code> could crash when the maximum record
        size was exceeded.
       (<a href="http://bugs.mysql.com/31286" target="_top">Bug#31286</a>)</p></li><li><p>
        <a href="programs.html#myisamchk" title="4.6.3. myisamchk — MyISAM Table-Maintenance Utility"><span><strong class="command">myisamchk --unpack</strong></span></a> could corrupt a table that
        when unpacked has static (fixed-length) row format.
       (<a href="http://bugs.mysql.com/31277" target="_top">Bug#31277</a>)</p></li><li><p>
        Building a 64-bit binary with support for the
        <code class="literal">Falcon</code> storage engine using
        <span><strong class="command">gcc</strong></span> on Solaris could fail. See
        <a href="installing.html#installing-source" title="2.9. MySQL Installation Using a Source Distribution">Section 2.9, “MySQL Installation Using a Source Distribution”</a>, for more information.
       (<a href="http://bugs.mysql.com/31268" target="_top">Bug#31268</a>, <a href="http://bugs.mysql.com/33126" target="_top">Bug#33126</a>)</p></li><li><p>
        When a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> with a non-zero
        time part was converted to a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>
        value, no warning was generated. This caused index lookups to
        assume that this is a valid conversion and was returning rows
        that match a comparison between a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> value and a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> keypart. Now a warning is
        generated so that <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> with
        a non-zero time part will not match
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> values.
       (<a href="http://bugs.mysql.com/31221" target="_top">Bug#31221</a>)</p></li><li><p>
        If <a href="functions.html#function_maketime"><code class="literal">MAKETIME()</code></a> returned
        <code class="literal">NULL</code> when used in an <code class="literal">ORDER
        BY</code> that was evaluated using
        <code class="literal">filesort</code>, a server crash could result.
       (<a href="http://bugs.mysql.com/31160" target="_top">Bug#31160</a>)</p></li><li><p>
        <a href="functions.html#function_last-insert-id"><code class="literal">LAST_INSERT_ID()</code></a> execution could
        be handled improperly in subqueries.
       (<a href="http://bugs.mysql.com/31157" target="_top">Bug#31157</a>)</p></li><li><p>
        An assertion designed to detect a bug in the
        <code class="literal">ROLLUP</code> implementation would incorrectly be
        triggered when used in a subquery context with non-cacheable
        statements.
       (<a href="http://bugs.mysql.com/31156" target="_top">Bug#31156</a>)</p></li><li><p>
        When creating a <code class="literal">TABLESPACE</code> that uses the same
        name as an existing <code class="literal">TABLESPACE</code>, Falcon
        returned <code class="literal">Unknown error -103</code>. MySQL now
        returns an error stating that the specified tablespace already
        exists.
       (<a href="http://bugs.mysql.com/31114" target="_top">Bug#31114</a>)</p></li><li><p>
        <a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a> failed to handle databases
        containing a ‘<code class="literal">-</code>’ character in the
        name.
       (<a href="http://bugs.mysql.com/31113" target="_top">Bug#31113</a>)</p></li><li><p>
        Starting the server using
        <a href="server-administration.html#sysvar_read_only"><code class="option">--read-only</code></a> and with the Event
        Scheduler enabled caused it to crash.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This issue occurred only when the server had been built with
          certain nonstandard combinations of
          <span><strong class="command">configure</strong></span> options.
        </p></div><p>(<a href="http://bugs.mysql.com/31111" target="_top">Bug#31111</a>)</p></li><li><p>
        Dropping a tablespace and specifying an engine type that does
        not support tablespaces reported a warning. The response has now
        been updated to report an error.
       (<a href="http://bugs.mysql.com/31110" target="_top">Bug#31110</a>)</p></li><li><p>
        <code class="literal">GROUP BY NULL WITH ROLLUP</code> could cause a
        server crash.
       (<a href="http://bugs.mysql.com/31095" target="_top">Bug#31095</a>)</p><p>See also <a href="http://bugs.mysql.com/32558" target="_top">Bug#32558</a>.</p></li><li><p>
        A rule to prefer <code class="literal">filesort</code> over an indexed
        <code class="literal">ORDER BY</code> when accessing all rows of a table
        was being used even if a <code class="literal">LIMIT</code> clause was
        present.
       (<a href="http://bugs.mysql.com/31094" target="_top">Bug#31094</a>)</p></li><li><p>
        <a href="functions.html#operator_regexp"><code class="literal">REGEXP</code></a> operations could cause a
        server crash for character sets such as <code class="literal">ucs2</code>.
        Now the arguments are converted to <code class="literal">utf8</code> if
        possible, to allow correct results to be produced if the
        resulting strings contain only 8-bit characters.
       (<a href="http://bugs.mysql.com/31081" target="_top">Bug#31081</a>)</p></li><li><p>
        Expressions of the form <code class="literal">WHERE
        <em class="replaceable"><code>col</code></em> NOT IN
        (<em class="replaceable"><code>col</code></em>, ...)</code>, where the same
        column was named both times, could cause a server crash in the
        optimizer.
       (<a href="http://bugs.mysql.com/31075" target="_top">Bug#31075</a>)</p></li><li><p>
        <code class="literal">Falcon</code> failed to compile on FreeBSD.
       (<a href="http://bugs.mysql.com/31045" target="_top">Bug#31045</a>)</p></li><li><p>
        Using <code class="literal">ORDER BY</code> with
        <code class="literal">ARCHIVE</code> tables caused a server crash.
       (<a href="http://bugs.mysql.com/31036" target="_top">Bug#31036</a>)</p></li><li><p>
        The <a href="functions.html#function_mod"><code class="literal">MOD()</code></a> function and the
        <code class="literal">%</code> operator crashed the server for a divisor
        less than 1 with a very long fractional part.
       (<a href="http://bugs.mysql.com/31019" target="_top">Bug#31019</a>)</p></li><li><p>
        Using <a href="storage-engines.html#sysvar_falcon_serial_log_dir"><code class="literal">falcon_serial_log_dir</code></a> to
        set the location of the <code class="literal">Falcon</code> serial log
        would have no effect.
       (<a href="http://bugs.mysql.com/31005" target="_top">Bug#31005</a>)</p></li><li><p>
        The LooseScan subquery optimization strategy could produce
        duplicate rows in query results.
       (<a href="http://bugs.mysql.com/30993" target="_top">Bug#30993</a>)</p></li><li><p>
        A character set introducer followed by a hexadecimal or
        bit-value literal did not check its argument and could return an
        ill-formed result for invalid input.
       (<a href="http://bugs.mysql.com/30986" target="_top">Bug#30986</a>)</p></li><li><p>
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        <em class="replaceable"><code>charset</code></em>)</code></a> did not check its
        argument and could return an ill-formed result for invalid
        input.
       (<a href="http://bugs.mysql.com/30982" target="_top">Bug#30982</a>)</p></li><li><p>
        The result from
        <a href="functions.html#function_char"><code class="literal">CHAR(<em class="replaceable"><code>str</code></em> USING
        ucs2</code></a>) did not add a leading 0x00 byte for input
        strings with an odd number of bytes.
       (<a href="http://bugs.mysql.com/30981" target="_top">Bug#30981</a>)</p></li><li><p>
        The <a href="functions.html#function_geomfromtext"><code class="literal">GeomFromText()</code></a> function could
        cause a server crash if the first argument was
        <code class="literal">NULL</code> or the empty string.
       (<a href="http://bugs.mysql.com/30955" target="_top">Bug#30955</a>)</p></li><li><p>
        When invoked with constant arguments,
        <a href="functions.html#function_str-to-date"><code class="literal">STR_TO_DATE()</code></a> could use a cached
        value for the format string and return incorrect results.
       (<a href="http://bugs.mysql.com/30942" target="_top">Bug#30942</a>)</p></li><li><p>
        <a href="functions.html#function_group-concat"><code class="literal">GROUP_CONCAT()</code></a> returned
        <code class="literal">','</code> rather than an empty string when the
        argument column contained only empty strings.
       (<a href="http://bugs.mysql.com/30897" target="_top">Bug#30897</a>)</p></li><li><p>
        A server crash could occur if a stored function that contained a
        <code class="literal">DROP TEMPORARY TABLE</code> statement was invoked by
        a <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TEMPORARY
        TABLE</code></a> statement that created a table of the same name.
       (<a href="http://bugs.mysql.com/30882" target="_top">Bug#30882</a>)</p></li><li><p>
        Calling <a href="functions.html#function_name-const"><code class="literal">NAME_CONST()</code></a> with
        non-constant arguments triggered an assertion failure.
        Non-constant arguments are now disallowed.
       (<a href="http://bugs.mysql.com/30832" target="_top">Bug#30832</a>)</p></li><li><p>
        Running <code class="literal">ALTER TABLE ... OPTIMIZE PARTITION</code> on
        a <code class="literal">Falcon</code> table, a 'divide by zero' error
        would be reported during a server crash.
       (<a href="http://bugs.mysql.com/30826" target="_top">Bug#30826</a>)</p></li><li><p>
        For a spatial column with a regular
        (non-<code class="literal">SPATIAL</code>) index, queries failed if the
        optimizer tried to use the index.
       (<a href="http://bugs.mysql.com/30825" target="_top">Bug#30825</a>)</p></li><li><p>
        <a href="information-schema.html#schemata-table" title="19.1. The INFORMATION_SCHEMA SCHEMATA Table"><code class="literal">INFORMATION_SCHEMA.SCHEMATA</code></a> was
        returning incorrect information.
       (<a href="http://bugs.mysql.com/30795" target="_top">Bug#30795</a>)</p></li><li><p>
        On Windows, the <code class="function">pthread_mutex_trylock()</code>
        implementation was incorrect. One symptom was that invalidating
        the query cache could cause a server crash.
       (<a href="http://bugs.mysql.com/30768" target="_top">Bug#30768</a>)</p></li><li><p>
        A multiple-table <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> involving
        transactional and non-transactional tables caused an assertion
        failure.
       (<a href="http://bugs.mysql.com/30763" target="_top">Bug#30763</a>)</p></li><li><p>
        Under some circumstances,
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> could crash the server or incorrectly report
        that the table row size was too large.
       (<a href="http://bugs.mysql.com/30736" target="_top">Bug#30736</a>)</p></li><li><p>
        Using the <a href="functions.html#function_min"><code class="literal">MIN()</code></a> or
        <a href="functions.html#function_max"><code class="literal">MAX()</code></a> function to select one part
        of a multi-part key could cause a crash when the function result
        was <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/30715" target="_top">Bug#30715</a>)</p></li><li><p>
        <code class="literal">INFORMATION_SCHEMA.VIEWS.VIEW_DEFINITION</code> was
        incorrect for views that were defined to select from other
        <code class="literal">INFORMATION_SCHEMA</code> tables.
       (<a href="http://bugs.mysql.com/30689" target="_top">Bug#30689</a>)</p></li><li><p>
        Issuing an <a href="sql-syntax.html#alter-server" title="12.1.5. ALTER SERVER Syntax"><code class="literal">ALTER SERVER</code></a> statement
        to update the settings for a <code class="literal">FEDERATED</code> server
        would cause the <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/30671" target="_top">Bug#30671</a>)</p></li><li><p>
        The optimizer could ignore <code class="literal">ORDER BY</code> in cases
        when the result set is ordered by <code class="literal">filesort</code>,
        resulting in rows being returned in incorrect order.
       (<a href="http://bugs.mysql.com/30666" target="_top">Bug#30666</a>)</p></li><li><p>
        A different execution plan was displayed for
        <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a> than would actually have
        been used for the <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> because
        the test of sort keys for <code class="literal">ORDER BY</code> did not
        consider keys mentioned in <code class="literal">IGNORE KEYS FOR ORDER
        BY</code>.
       (<a href="http://bugs.mysql.com/30665" target="_top">Bug#30665</a>)</p></li><li><p>
        <code class="literal">MyISAM</code> tables could not exceed 4294967295
        (2^32 - 1) rows on Windows.
       (<a href="http://bugs.mysql.com/30638" target="_top">Bug#30638</a>)</p></li><li><p>
        <span><strong class="command">mysql-test-run.pl</strong></span> could not run
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with <code class="literal">root</code>
        privileges.
       (<a href="http://bugs.mysql.com/30630" target="_top">Bug#30630</a>)</p></li><li><p>
        Using <code class="literal">GROUP BY</code> on an expression of the form
        <code class="literal"><em class="replaceable"><code>timestamp_col</code></em> DIV
        <em class="replaceable"><code>number</code></em></code> caused a server
        crash due to incorrect calculation of number of decimals.
       (<a href="http://bugs.mysql.com/30587" target="_top">Bug#30587</a>)</p></li><li><p>
        The options available to the <a href="sql-syntax.html#check-table" title="12.5.2.2. CHECK TABLE Syntax"><code class="literal">CHECK
        TABLE</code></a> statement were also allowed in
        <a href="sql-syntax.html#optimize-table" title="12.5.2.4. OPTIMIZE TABLE Syntax"><code class="literal">OPTIMIZE TABLE</code></a> and
        <a href="sql-syntax.html#analyze-table" title="12.5.2.1. ANALYZE TABLE Syntax"><code class="literal">ANALYZE TABLE</code></a> statements, but
        caused corruption during their execution. These options were
        never supported for these statements, and an error is now raised
        if you try to apply these options to these statements.
       (<a href="http://bugs.mysql.com/30495" target="_top">Bug#30495</a>)</p></li><li><p>
        When expanding a <code class="literal">*</code> in a
        <code class="literal">USING</code> or <code class="literal">NATURAL</code> join, the
        check for table access for both tables in the join was done
        using only the grant information of the first table.
       (<a href="http://bugs.mysql.com/30468" target="_top">Bug#30468</a>)</p></li><li><p>
        Compared to MySQL 5.1, the 6.0 optimizer failed to use join
        buffering for certain queries, resulting in slower performance
        for those queries.
       (<a href="http://bugs.mysql.com/30363" target="_top">Bug#30363</a>)</p></li><li><p>
        A table-access check was performed improperly by
        <code class="literal">libmysqld</code>, causing a crash.
       (<a href="http://bugs.mysql.com/30329" target="_top">Bug#30329</a>)</p></li><li><p>
        Some valid <code class="literal">euc-kr</code> characters having the
        second byte in the ranges <code class="literal">[0x41..0x5A]</code> and
        <code class="literal">[0x61..0x7A]</code> were rejected.
       (<a href="http://bugs.mysql.com/30315" target="_top">Bug#30315</a>)</p></li><li><p>
        When loading a dynamic plugin on FreeBSD, the plugin would fail
        to load. This was due to a build error where the required
        symbols would be not exported correctly.
       (<a href="http://bugs.mysql.com/30296" target="_top">Bug#30296</a>)</p></li><li><p>
        Setting certain values on a table using a spatial index could
        cause the server to crash.
       (<a href="http://bugs.mysql.com/30286" target="_top">Bug#30286</a>)</p></li><li><p>
        It was not possible for client applications to distinguish
        between auto-set and auto-updated
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column values.
      </p><p>
        To rectify this problem, a new
        <code class="literal">ON_UPDATE_NOW_FLAG</code> flag is set by
        Field_timestamp constructors whenever a column should be set to
        <code class="literal">NOW</code> on <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>,
        and the <code class="literal">get_schema_column_record()</code> function
        now reports whether a timestamp column is set to
        <code class="literal">NOW</code> on <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>.
        In addition, such columns now display <code class="literal">on update
        CURRENT_TIMESTAMP</code> in the <code class="literal">Extra</code>
        column in the output from <a href="sql-syntax.html#show-columns" title="12.5.6.6. SHOW COLUMNS Syntax"><code class="literal">SHOW
        COLUMNS</code></a>.
       (<a href="http://bugs.mysql.com/30081" target="_top">Bug#30081</a>)</p></li><li><p>
        Some <code class="literal">INFORMATION_SCHEMA</code> tables are intended
        for internal use, but could be accessed by using
        <a href="sql-syntax.html#show" title="12.5.6. SHOW Syntax"><code class="literal">SHOW</code></a> statements.
       (<a href="http://bugs.mysql.com/30079" target="_top">Bug#30079</a>)</p></li><li><p>
        On some 64-bit systems, inserting the largest negative value
        into a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> column resulted in
        incorrect data.
       (<a href="http://bugs.mysql.com/30069" target="_top">Bug#30069</a>)</p></li><li><p>
        <a href="programs.html#mysqlslap" title="4.5.7. mysqlslap — Load Emulation Client"><span><strong class="command">mysqlslap</strong></span></a> did not properly handle multiple
        result sets from stored procedures.
       (<a href="http://bugs.mysql.com/29985" target="_top">Bug#29985</a>)</p></li><li><p>
        Running the <span><strong class="command">sqlbench</strong></span> test suite against
        <code class="literal">Falcon</code> would cause a crash.
       (<a href="http://bugs.mysql.com/29870" target="_top">Bug#29870</a>)</p></li><li><p>
        When accessing the statistics in
        <code class="literal">INFORMATION_SCHEMA.FALCON_DATABASE_IO</code>, the
        information related only to the <code class="literal">Falcon</code>
        database, and not to user tablespaces. The output has been
        updated to report on all tablespaces, and the
        <code class="literal">DATABASE</code> column has been renamed to
        <code class="literal">TABLESPACE</code> to reflect the fact that these
        statistics are now reported by tablespace, not by database.
       (<a href="http://bugs.mysql.com/29823" target="_top">Bug#29823</a>)</p></li><li><p>
        Whitespace characters other than spaces within XML tags, such as
        linefeeds or tabs, caused <code class="literal">LOAD XML INFILE</code> to
        skip rows.
       (<a href="http://bugs.mysql.com/29752" target="_top">Bug#29752</a>)</p></li><li><p>
        <span><strong class="command">configure</strong></span> did not find <code class="literal">nss</code>
        on some Linux platforms.
       (<a href="http://bugs.mysql.com/29658" target="_top">Bug#29658</a>)</p></li><li><p>
        Compilation failed on systems where a native
        <code class="literal">log2()</code> implementation was unavailable.
       (<a href="http://bugs.mysql.com/29640" target="_top">Bug#29640</a>)</p></li><li><p>
        Use of the <code class="literal">latin2_czech_cs</code> collation caused a
        server crash.
       (<a href="http://bugs.mysql.com/29459" target="_top">Bug#29459</a>)</p></li><li><p>
        Using two simultaneous connections it was possible to create a
        deadlock situation between two different active transactions on
        the same <code class="literal">Falcon</code> table. There is no way to
        prevent this, but a new parameter,
        <code class="literal">falcon_lock_timeout</code> can set the timeout for
        deadlocked transactions. The default timeout is 0 (timeouts are
        disabled).
       (<a href="http://bugs.mysql.com/29452" target="_top">Bug#29452</a>)</p></li><li><p>
        The <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client program now ignores Unicode
        byte order mark (BOM) characters at the beginning of input
        files. Previously, it read them and sent them to the server,
        resulting in a syntax error.
      </p><p>
        Presence of a BOM does not cause <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> to
        change its default character set. To do that, invoke
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> with an option such as
        <a href="programs.html#option_mysql_default-character-set"><code class="option">--default-character-set=utf8</code></a>.
       (<a href="http://bugs.mysql.com/29323" target="_top">Bug#29323</a>)</p></li><li><p>
        Inserting information into the same table from multiple threads
        could cause duplicate key errors. This was related to the
        changes made to allow compatibility with the
        <code class="literal">InnoDB</code> repeatable-read isolation level. The
        option, <code class="literal">falcon_innodb_compatibility</code>, has been
        renamed to
        <a href="storage-engines.html#sysvar_falcon_consistent_read"><code class="literal">falcon_consistent_read</code></a>, but
        with the opposite effect. The default is for this option to be
        on. When set to off, the behavior of <code class="literal">Falcon</code>
        is similar to that in <code class="literal">InnoDB</code>.
       (<a href="http://bugs.mysql.com/29151" target="_top">Bug#29151</a>)</p></li><li><p>
        For transactional tables, an error during a multiple-table
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement did not roll
        back the statement.
       (<a href="http://bugs.mysql.com/29136" target="_top">Bug#29136</a>)</p></li><li><p>
        The <code class="literal">log</code> and
        <a href="server-administration.html#sysvar_log_slow_queries"><code class="literal">log_slow_queries</code></a> system
        variables were displayed by <a href="sql-syntax.html#show-variables" title="12.5.6.39. SHOW VARIABLES Syntax"><code class="literal">SHOW
        VARIABLES</code></a> but could not be accessed in expressions as
        <code class="literal">@@log</code> and
        <code class="literal">@@log_slow_queries</code>. Also, attempting to set
        them with <code class="literal">SET</code> produced an incorrect
        <code class="literal">Unknown system variable</code> message. Now these
        variables are treated as synonyms for
        <a href="server-administration.html#sysvar_general_log"><code class="literal">general_log</code></a> and
        <a href="server-administration.html#sysvar_slow_query_log"><code class="literal">slow_query_log</code></a>, which means
        that they can be accessed in expressions and their values can be
        changed with <code class="literal">SET</code>.
       (<a href="http://bugs.mysql.com/29131" target="_top">Bug#29131</a>)</p></li><li><p>
        When loading large data sets using
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> into a <code class="literal">Falcon</code> table, the
        server could crash.
       (<a href="http://bugs.mysql.com/29081" target="_top">Bug#29081</a>)</p></li><li><p>
        <a href="sql-syntax.html#show-variables" title="12.5.6.39. SHOW VARIABLES Syntax"><code class="literal">SHOW VARIABLES</code></a> did not display
        the <code class="literal">relay_log</code>,
        <code class="literal">relay_log_index</code>, or
        <code class="literal">relay_log_info_file</code> system variables.
       (<a href="http://bugs.mysql.com/28893" target="_top">Bug#28893</a>)</p></li><li><p>
        Index hints specified in view definitions were ignored when
        using the view to select from the base table.
       (<a href="http://bugs.mysql.com/28702" target="_top">Bug#28702</a>)</p></li><li><p>
        Views do not have indexes, so index hints do not apply. Use of
        index hints when selecting from a view is now disallowed.
       (<a href="http://bugs.mysql.com/28701" target="_top">Bug#28701</a>)</p></li><li><p>
        After changing the SQL mode to a restrictive value that would
        make already-inserted dates in a column be considered invalid,
        searches returned different results depending on whether the
        column was indexed.
       (<a href="http://bugs.mysql.com/28687" target="_top">Bug#28687</a>)</p></li><li><p>
        The result from <a href="functions.html#function_char"><code class="literal">CHAR()</code></a> was
        incorrectly assumed in some contexts to return a single-byte
        result.
       (<a href="http://bugs.mysql.com/28550" target="_top">Bug#28550</a>)</p></li><li><p>
        Using a temporary table within <code class="literal">Falcon</code> that is
        created in a directory where the path contains a mixture of
        upper and lower letters would fail.
       (<a href="http://bugs.mysql.com/28541" target="_top">Bug#28541</a>)</p></li><li><p>
        Under heavy load when updating <code class="literal">Falcon</code> tables,
        a race condition could occur that would ultimately result in a
        crash.
       (<a href="http://bugs.mysql.com/28519" target="_top">Bug#28519</a>)</p></li><li><p>
        The result of a comparison between
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> columns differed depending
        on whether the <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column
        was indexed.
       (<a href="http://bugs.mysql.com/28076" target="_top">Bug#28076</a>)</p></li><li><p>
        The metadata in some <code class="literal">MYSQL_FIELD</code> members
        could be incorrect when a temporary table was used to evaluate a
        query.
       (<a href="http://bugs.mysql.com/27990" target="_top">Bug#27990</a>)</p></li><li><p>
        <code class="literal">ALTER TABLE <em class="replaceable"><code>tbl_name</code></em>
        ROW_FORMAT=<em class="replaceable"><code>format_type</code></em></code> did
        not cause the table to be rebuilt.
       (<a href="http://bugs.mysql.com/27610" target="_top">Bug#27610</a>)</p></li><li><p>
        Searching a <code class="literal">Falcon</code> table that uses
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns with an index
        could return incorrect results.
       (<a href="http://bugs.mysql.com/27426" target="_top">Bug#27426</a>)</p></li><li><p>
        Removing a partition on a <code class="literal">Falcon</code> table when
        there are two tables with the same name, but different case,
        would cause a crash during normal shutdown.
       (<a href="http://bugs.mysql.com/27425" target="_top">Bug#27425</a>)</p></li><li><p>
        Mixing differently cased tables between
        <code class="literal">MyISAM</code> and <code class="literal">Falcon</code> tables
        would cause a crash.
       (<a href="http://bugs.mysql.com/27424" target="_top">Bug#27424</a>)</p></li><li><p>
        The <a href="functions.html#function_extractvalue"><code class="literal">ExtractValue()</code></a> and
        <a href="functions.html#function_updatexml"><code class="literal">UpdateXML()</code></a> functions performed
        extremely slowly for large amounts of XML data (greater than 64
        KB). These functions now execute approximately 2000 times faster
        than previously.
       (<a href="http://bugs.mysql.com/27287" target="_top">Bug#27287</a>)</p></li><li><p>
        On Windows, writes to the debug log were using
        <code class="literal">freopen()</code> instead of
        <code class="literal">fflush()</code>, resulting in slower performance.
       (<a href="http://bugs.mysql.com/27099" target="_top">Bug#27099</a>)</p></li><li><p>
        The MySQL Instance Configuration Wizard would not allow you to
        choose a service name, even though the criteria for the service
        name were valid. The code that checks the name has been updated
        to support the correct criteria of any string less than 256
        character and not containing either a forward or backward slash
        character.
       (<a href="http://bugs.mysql.com/27013" target="_top">Bug#27013</a>)</p></li><li><p>
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> ran very slowly when reading large files into
        partitioned tables.
       (<a href="http://bugs.mysql.com/26527" target="_top">Bug#26527</a>)</p></li><li><p>
        Threads that were calculating the estimated number of records
        for a range scan did not respond to the
        <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL</code></a> statement. That is, if a
        <a href="optimization.html#jointype_range"><code class="literal">range</code></a> join type is possible
        (even if not selected by the optimizer as a join type of choice
        and thus not shown by <a href="sql-syntax.html#explain" title="12.3.2. EXPLAIN Syntax"><code class="literal">EXPLAIN</code></a>),
        the query in the <code class="literal">statistics</code> state (shown by
        the <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a>) did not
        respond to the <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL</code></a> statement.
       (<a href="http://bugs.mysql.com/25421" target="_top">Bug#25421</a>)</p></li><li><p>
        For <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql --show-warnings</strong></span></a>, warnings were in
        some cases not displayed.
       (<a href="http://bugs.mysql.com/25146" target="_top">Bug#25146</a>)</p></li><li><p>
        Using <code class="literal">CREATE UNIQUE INDEX</code> on a
        <code class="literal">Falcon</code> table where rows contain duplicate
        values could result in pending transactions to the table being
        deleted.
       (<a href="http://bugs.mysql.com/22842" target="_top">Bug#22842</a>)</p></li><li><p>
        Creating a <code class="literal">Falcon</code> table with an
        auto-increment column that is not indexed as the first column in
        a multi-column index would auto-increment. This behavior was
        different to the behavior in both <code class="literal">MyISAM</code> and
        <code class="literal">InnoDB</code>. <code class="literal">Falcon</code> now rejects
        such tables during creation in the same way
        <code class="literal">InnoDB</code> does.
       (<a href="http://bugs.mysql.com/22564" target="_top">Bug#22564</a>)</p></li><li><p>
        For storage engines that do not redefine
        <code class="function">handler::index_next_same()</code> and are capable
        of indexes, statements that include a <code class="literal">WHERE</code>
        clause might select incorrect data.
       (<a href="http://bugs.mysql.com/22351" target="_top">Bug#22351</a>)</p></li><li><p>
        Creating a new table or dropping a database on a newly created
        <code class="literal">Falcon</code> database or tablespace raised an
        error.
       (<a href="http://bugs.mysql.com/22199" target="_top">Bug#22199</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#truncate" title="12.2.11. TRUNCATE Syntax"><code class="literal">TRUNCATE</code></a> on a
        <code class="literal">Falcon</code> table did not reset the auto-increment
        counters and used an inefficient method of deleting existing
        data.
       (<a href="http://bugs.mysql.com/22173" target="_top">Bug#22173</a>)</p></li><li><p>
        Creating a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> outside the
        normal range within a <code class="literal">Falcon</code> table would
        result in a zero <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> value being
        returned, even though normally invalid values would be stored
        correctly in other storage engines.
       (<a href="http://bugs.mysql.com/22168" target="_top">Bug#22168</a>)</p></li><li><p>
        Selecting information from a <code class="literal">Falcon</code> table
        using a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> column with an
        index would produce incorrect results.
       (<a href="http://bugs.mysql.com/22125" target="_top">Bug#22125</a>)</p></li><li><p>
        The <code class="literal">readline</code> library has been updated to
        version 5.2. This addresses issues in the
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> client where history and editing within
        the client would fail to work as expected.
       (<a href="http://bugs.mysql.com/18431" target="_top">Bug#18431</a>)</p></li><li><p>
        <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a> stripped comments from statements sent
        to the server. Now the
        <a href="programs.html#option_mysqldump_comments"><code class="option">--comments</code></a> or
        <a href="programs.html#option_mysqldump_skip-comments"><code class="option">--skip-comments</code></a> option can be
        used to control whether to retain or strip comments. The default
        is <a href="programs.html#option_mysqldump_skip-comments"><code class="option">--skip-comments</code></a>.
       (<a href="http://bugs.mysql.com/11230" target="_top">Bug#11230</a>, <a href="http://bugs.mysql.com/26215" target="_top">Bug#26215</a>)</p></li><li><p>
        Executing <code class="literal">DISABLE KEYS</code> and <code class="literal">ENABLE
        KEYS</code> on a non-empty table would cause the size of the
        index file for the table to grow considerable. This was because
        the <code class="literal">DISABLE KEYS</code> operation would only mark
        the existing index, without deleting the index blocks. The
        <code class="literal">ENABLE KEYS</code> operation would re-create the
        index, adding new blocks, while the previous index blocks would
        remain. Existing indexes are now dropped and recreated when the
        <code class="literal">ENABLE KEYS</code> statement is executed.
       (<a href="http://bugs.mysql.com/4692" target="_top">Bug#4692</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-3"></a>C.1.10. Changes in MySQL 6.0.3 (16 November 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Aliases for wildcards (as in <code class="literal">SELECT t.* AS 'alias' FROM
        t</code>) are no longer accepted and result in an error.
        Previously, such aliases were ignored silently.
       (<a href="http://bugs.mysql.com/27249" target="_top">Bug#27249</a>)</p></li><li><p>
        Sinhala collations <code class="literal">utf8_sinhala_ci</code> and
        <code class="literal">ucs2_sinhala_ci</code> were added for the
        <code class="literal">utf8</code> and <code class="literal">ucs2</code> character
        sets.
       (<a href="http://bugs.mysql.com/26474" target="_top">Bug#26474</a>)</p></li><li><p>
        If the value of the <code class="option">--log-warnings</code> option is
        greater than 1, the server now writes access-denied errors for
        new connection attempts to the error log (for example, if a
        client user name or password is incorrect).
       (<a href="http://bugs.mysql.com/25822" target="_top">Bug#25822</a>)</p></li><li><p>
        Added the <a href="information-schema.html#parameters-table" title="19.27. The INFORMATION_SCHEMA PARAMETERS Table"><code class="literal">PARAMETERS</code></a> table to
        <code class="literal">INFORMATION_SCHEMA</code>. The
        <a href="information-schema.html#parameters-table" title="19.27. The INFORMATION_SCHEMA PARAMETERS Table"><code class="literal">PARAMETERS</code></a> table provides
        information about stored function and procedure parameters, and
        about return values for stored functions.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#drop-table" title="12.1.23. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> now is allowed only if
        you have acquired a <code class="literal">WRITE</code> lock with
        <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a>, or if you hold no
        locks, or if the table is a <code class="literal">TEMPORARY</code> table.
      </p><p>
        Previously, if other tables were locked, you could drop a table
        with a read lock or no lock, which could lead to deadlocks
        between clients. The new stricter behavior means that some usage
        scenarios will fail when previously they did not.
       (<a href="http://bugs.mysql.com/25858" target="_top">Bug#25858</a>)</p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        <a href="sql-syntax.html#grant" title="12.5.1.3. GRANT Syntax"><code class="literal">GRANT</code></a> and
        <a href="sql-syntax.html#revoke" title="12.5.1.5. REVOKE Syntax"><code class="literal">REVOKE</code></a> statements now cause an
        implicit commit, and thus are prohibited within stored functions
        and triggers.
       (<a href="http://bugs.mysql.com/21975" target="_top">Bug#21975</a>, <a href="http://bugs.mysql.com/21422" target="_top">Bug#21422</a>, <a href="http://bugs.mysql.com/17244" target="_top">Bug#17244</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        Adding a new <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> column to
        an <code class="literal">NDB</code> table which used
        <code class="literal">COLUMN_FORMAT = DYNAMIC</code>, and when binary
        logging was enabled, caused all cluster
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> processes to crash.
       (<a href="http://bugs.mysql.com/30213" target="_top">Bug#30213</a>)</p></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        After adding a new column of one of the
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> types to an
        <code class="literal">NDB</code> table which used
        <code class="literal">COLUMN_FORMAT = DYNAMIC</code>, it was no longer
        possible to access or drop the table using SQL.
       (<a href="http://bugs.mysql.com/30205" target="_top">Bug#30205</a>)</p></li><li><p>
        The server crashed on optimization of queries that compared an
        indexed <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column with a
        string value.
       (<a href="http://bugs.mysql.com/32262" target="_top">Bug#32262</a>)</p></li><li><p>
        The server crashed on optimizations that used the <code class="literal">range
        checked for each record</code> access method.
       (<a href="http://bugs.mysql.com/32229" target="_top">Bug#32229</a>)</p></li><li><p>
        When comparing a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> value that
        was null, memory corruption could occur casuing the server to
        crash.
       (<a href="http://bugs.mysql.com/32191" target="_top">Bug#32191</a>)</p></li><li><p>
        Deleting a large number of records could sometimes take a
        significant amount of time.
       (<a href="http://bugs.mysql.com/27946" target="_top">Bug#27946</a>)</p></li><li><p>
        Several buffer-size system variables were either being handled
        incorrectly for large values (for settings larger than 4GB, they
        were truncated to values less than 4GB without a warning), or
        were limited unnecessarily to 4GB even on 64-bit systems. The
        following changes were made:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            For <a href="server-administration.html#sysvar_key_buffer_size"><code class="literal">key_buffer_size</code></a>, values
            larger than 4GB are allowed on 64-bit platforms.
          </p></li><li><p>
            For <a href="server-administration.html#sysvar_join_buffer_size"><code class="literal">join_buffer_size</code></a>,
            <a href="server-administration.html#sysvar_sort_buffer_size"><code class="literal">sort_buffer_size</code></a>, and
            <a href="server-administration.html#sysvar_myisam_sort_buffer_size"><code class="literal">myisam_sort_buffer_size</code></a>,
            values larger than 4GB are allowed on 64-bit platforms
            (except Windows, for which large values are truncated to 4GB
            with a warning).
          </p></li></ul></div><p>
        In addition, settings for
        <a href="server-administration.html#sysvar_read_buffer_size"><code class="literal">read_buffer_size</code></a> and
        <a href="server-administration.html#sysvar_read_rnd_buffer_size"><code class="literal">read_rnd_buffer_size</code></a> are
        limited to 2GB on all platforms. Larger values are truncated to
        2GB with a warning.
       (<a href="http://bugs.mysql.com/5731" target="_top">Bug#5731</a>, <a href="http://bugs.mysql.com/29419" target="_top">Bug#29419</a>, <a href="http://bugs.mysql.com/29446" target="_top">Bug#29446</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-2"></a>C.1.11. Changes in MySQL 6.0.2 (04 September 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Mac OS X (Intel) support has been added. To build on Mac OS X
        from the repository sources you must have the most recent
        versions of <code class="literal">bison</code>,
        <code class="literal">automake</code>, <code class="literal">autoconf</code> and
        <code class="literal">libtool</code> installed.
      </p><p>
        There are known issues with the Falcon on Mac OS X build.
       (<a href="http://bugs.mysql.com/30564" target="_top">Bug#30564</a>)</p></li><li><p>
        The Falcon record cache parameters have been altered. The
        <code class="literal">falcon_max_record_memory</code> and
        <code class="literal">falcon_min_record_memory</code> are no longer
        supported.
      </p><p>
        Instead, the
        <a href="storage-engines.html#sysvar_falcon_record_memory_max"><code class="literal">falcon_record_memory_max</code></a>,
        <a href="storage-engines.html#sysvar_falcon_record_scavenge_threshold"><code class="literal">falcon_record_scavenge_threshold</code></a>,
        <a href="storage-engines.html#sysvar_falcon_record_scavenge_floor"><code class="literal">falcon_record_scavenge_floor</code></a>
        and <code class="literal">falcon_inital_allocation</code> parameters are
        now used to control the caching of records in memory within
        Falcon. See <a href="storage-engines.html#se-falcon-configuration" title="13.8.2. Configuration Parameters">Section 13.8.2, “Configuration Parameters”</a>.
       (<a href="http://bugs.mysql.com/30083" target="_top">Bug#30083</a>)</p></li><li><p>
        64-bit Windows support.
      </p></li><li><p>
        Support for tablespaces.
      </p></li><li><p>
        New performance settings, <code class="literal">falcon_log_windows</code>,
        <a href="storage-engines.html#sysvar_falcon_index_chill_threshold"><code class="literal">falcon_index_chill_threshold</code></a>,
        and
        <a href="storage-engines.html#sysvar_falcon_record_chill_threshold"><code class="literal">falcon_record_chill_threshold</code></a>.
      </p></li><li><p>
        The option <a href="storage-engines.html#sysvar_falcon_disable_fsync"><code class="literal">falcon_disable_fsync</code></a>
        has been added. If set to true, then the periodic fsync
        operation is disabled.
      </p></li><li><p>
        The option
        <a href="storage-engines.html#sysvar_falcon_initial_allocation"><code class="literal">falcon_initial_allocation</code></a> has
        been added to control the initial size of a Falcon tablespace on
        disk.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An assertion could be thrown during high number of concurrent
        updates of <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> fields.
       (<a href="http://bugs.mysql.com/30463" target="_top">Bug#30463</a>)</p></li><li><p>
        When loading large data sets into a Falcon table
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> could crash. An Out of memory error
        will now be raised in this situation.
       (<a href="http://bugs.mysql.com/30251" target="_top">Bug#30251</a>, <a href="http://bugs.mysql.com/30074" target="_top">Bug#30074</a>)</p></li><li><p>
        Falcon would incorrectly allow creation of two tables with the
        same name but different case sensitivity, without raising an
        error, but treat the two tables as the same during further
        queries. .
       (<a href="http://bugs.mysql.com/30210" target="_top">Bug#30210</a>)</p></li><li><p>
        Updating a large table without an index would lock all the
        records during a transaction and unlock the records
        individually.
       (<a href="http://bugs.mysql.com/30124" target="_top">Bug#30124</a>)</p></li><li><p>
        Creating a tablespace with a unique name but using the same data
        file as an existing tablespace results in the re-initialization
        of the tablespace and the loss of the data contained in it.
        Falcon now reports an error if the data file already exists.
       (<a href="http://bugs.mysql.com/29511" target="_top">Bug#29511</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> on a table that uses
        two <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> columns with a single
        index would fail to return rows that queried both columns and
        complex comparison operators.
       (<a href="http://bugs.mysql.com/29319" target="_top">Bug#29319</a>)</p></li><li><p>
        Falcon could occasionally report a problem with a duplicate key
        error during <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> when
        inserting the same data into a unique column on two or more
        connections simultaneously.
       (<a href="http://bugs.mysql.com/29240" target="_top">Bug#29240</a>)</p></li><li><p>
        Inserting into a table with a unique index simultaneously on two
        connections in a way that would cause a deadlock would cause
        MySQL to hang. The deadlock situation is now identified and an
        error will be raised.
       (<a href="http://bugs.mysql.com/29206" target="_top">Bug#29206</a>)</p></li><li><p>
        Wide <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns would show
        rounding errors during <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/29201" target="_top">Bug#29201</a>)</p></li><li><p>
        Some Falcon variables were marked as status variables.
       (<a href="http://bugs.mysql.com/29169" target="_top">Bug#29169</a>)</p></li><li><p>
        Accessing an <code class="literal">INFORMATION_SCHEMA</code> table
        generated by Falcon, when Falcon has not been enabled would
        cause <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> to crash.
       (<a href="http://bugs.mysql.com/29014" target="_top">Bug#29014</a>)</p></li><li><p>
        For debug builds, the server crashed when inserting a negated
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> value of maximum
        precision (65 digits), such as for <code class="literal">INSERT INTO ...
        SELECT -col_val ...</code>
       (<a href="http://bugs.mysql.com/28810" target="_top">Bug#28810</a>)</p></li><li><p>
        Accessing data within <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        columns wider than 18 digits would cause a crash.
       (<a href="http://bugs.mysql.com/28725" target="_top">Bug#28725</a>)</p></li><li><p>
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> would crash after a high number of
        <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> and
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>statements.
       (<a href="http://bugs.mysql.com/28515" target="_top">Bug#28515</a>, <a href="http://bugs.mysql.com/22154" target="_top">Bug#22154</a>)</p></li><li><p>
        Unique indexes on <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns
        are not identified correctly.
       (<a href="http://bugs.mysql.com/28500" target="_top">Bug#28500</a>)</p></li><li><p>
        Under certain situations the Falcon tables and log could become
        corrupt and prevent recovery from a crashed version of the
        files.
       (<a href="http://bugs.mysql.com/28351" target="_top">Bug#28351</a>)</p></li><li><p>
        The value for
        <code class="literal">FALCON_SYSTEM_MEMORY_SUMMARY.TOTAL_SPACE</code> in
        <code class="literal">INFORMATION_SCHEMA</code> would be reported
        incorrectly.
       (<a href="http://bugs.mysql.com/28197" target="_top">Bug#28197</a>)</p></li><li><p>
        Searching for rows within a table with some non-western
        character sets would fail to return the right results if the
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> relied on an index.
       (<a href="http://bugs.mysql.com/27697" target="_top">Bug#27697</a>)</p></li><li><p>
        Inserting large numbers of identical columns into a table,
        followed by a <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> or
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> could cause a hang or
        crash.
       (<a href="http://bugs.mysql.com/27277" target="_top">Bug#27277</a>)</p></li><li><p>
        Loading certain data sets through a direct import could cause
        index problems and crash.
       (<a href="http://bugs.mysql.com/26930" target="_top">Bug#26930</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> columns with large widths
        did not work, either during
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>.
       (<a href="http://bugs.mysql.com/26607" target="_top">Bug#26607</a>)</p></li><li><p>
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statements could cause a
        crash when many simultaneous threads are running.
       (<a href="http://bugs.mysql.com/26475" target="_top">Bug#26475</a>)</p></li><li><p>
        Falcon would fail to build under Mac OS X/Intel. A preliminary
        patch is available to allow building under Mac OS X/Intel only
        (PowerPC support is not yet available). Note that Mac OS X/Intel
        is still an unsupported platform.
       (<a href="http://bugs.mysql.com/26466" target="_top">Bug#26466</a>)</p></li><li><p>
        Queries could fail with a <code class="literal">Can't find record in
        ...</code> error.
       (<a href="http://bugs.mysql.com/26328" target="_top">Bug#26328</a>)</p></li><li><p>
        Under certain situations, shutting down MySQL using
        <a href="programs.html#mysqladmin" title="4.5.2. mysqladmin — Client for Administering a MySQL Server"><span><strong class="command">mysqladmin</strong></span></a> could cause Falcon to corrupt the
        database tables and fail to restart properly.
       (<a href="http://bugs.mysql.com/26296" target="_top">Bug#26296</a>)</p></li><li><p>
        Searches for accented characters in a UTF8 table fail if an
        index exists for the column.
       (<a href="http://bugs.mysql.com/26057" target="_top">Bug#26057</a>)</p></li><li><p>
        Searches using <code class="literal">LIKE</code> on a UTF8 table fail if
        the search relies an indexed column.
       (<a href="http://bugs.mysql.com/24921" target="_top">Bug#24921</a>)</p></li><li><p>
        Searches for data on a partial index for a column using the UTF8
        character set would fail.
       (<a href="http://bugs.mysql.com/24858" target="_top">Bug#24858</a>)</p></li><li><p>
        Searches for data using exotic collation/character sets fail if
        the search relies on an indexed column.
       (<a href="http://bugs.mysql.com/23689" target="_top">Bug#23689</a>)</p></li><li><p>
        Inserting rows to a table with a unique index where the unique
        index value is identical on two separate connections would block
        the second transaction.
       (<a href="http://bugs.mysql.com/22847" target="_top">Bug#22847</a>)</p></li><li><p>
        Renaming a database would raise error <code class="literal">ERROR 1030
        (HY000): Got error 157 from storage engine</code>.
       (<a href="http://bugs.mysql.com/22182" target="_top">Bug#22182</a>)</p></li><li><p>
        Large inserts to a table within a single transaction trigger
        high memory usage and may ultimately crash.
       (<a href="http://bugs.mysql.com/22169" target="_top">Bug#22169</a>)</p></li><li><p>
        Renaming tables to or from Falcon tablespaces raised an error.
       (<a href="http://bugs.mysql.com/22155" target="_top">Bug#22155</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-1"></a>C.1.12. Changes in MySQL 6.0.1 (Not released)</h3></div></div></div><p>
        This was an internal release only, and no binaries were
        published.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-6-0-0"></a>C.1.13. Changes in MySQL 6.0.0 (30 April 2007 Alpha)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a> is now supported.
      </p></li><li><p>
        Uncommitted record scavenging has been implemented.
      </p></li><li><p>
        Performance diagnostics are available through
        <code class="literal">INFORMATION_SCHEMA</code>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a> and
        <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a> could
        cause <code class="literal">mysqld</code> to hang indefinitely.
       (<a href="http://bugs.mysql.com/28165" target="_top">Bug#28165</a>)</p></li><li><p>
        Concurrent updates on two different connections could lead to an
        assertion failure.
       (<a href="http://bugs.mysql.com/28090" target="_top">Bug#28090</a>)</p></li><li><p>
        Updating a row within a table that has a unique compound index
        to a non-unique value would not raise an error.
       (<a href="http://bugs.mysql.com/27997" target="_top">Bug#27997</a>)</p></li><li><p>
        Rolling back an inserted row while accessing the same on a
        different connection would cause a crash.
       (<a href="http://bugs.mysql.com/27993" target="_top">Bug#27993</a>)</p></li><li><p>
        Creating a table with a 19 digit
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column would cause
        incorrect data to be stored. This is due to current limitation
        in Falcon where you cannot create a table with a column with
        greater than 18 digits precision (i.e.
        <code class="literal">DECIMAL(18,9)</code>). Creating a column with larger
        than this specification will fail and raise an error.
       (<a href="http://bugs.mysql.com/27962" target="_top">Bug#27962</a>)</p></li><li><p>
        Executing <code class="literal">INSERT INTO ... SELECT FROM</code> could
        cause a crash on large data sets.
       (<a href="http://bugs.mysql.com/27951" target="_top">Bug#27951</a>)</p></li><li><p>
        Inserting data into the same table on two different connections
        with autocommit disabled would cause a crash.
       (<a href="http://bugs.mysql.com/27895" target="_top">Bug#27895</a>)</p></li><li><p>
        Creating a Falcon table immediately after creating a new
        database could cause a crash.
       (<a href="http://bugs.mysql.com/27768" target="_top">Bug#27768</a>)</p></li><li><p>
        Executing <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a> in a second connection on a newly created and
        populated table could cause a crash.
       (<a href="http://bugs.mysql.com/27767" target="_top">Bug#27767</a>)</p></li><li><p>
        Continually updating a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        column would cause MySQL server to crash.
       (<a href="http://bugs.mysql.com/27719" target="_top">Bug#27719</a>)</p></li><li><p>
        Using a trigger on an <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> to a
        Falcon table when autocommit is disabled would cause MySQL
        server to crash.
       (<a href="http://bugs.mysql.com/27574" target="_top">Bug#27574</a>)</p></li><li><p>
        Interrupting a stored procedure during execution could cause a
        crash.
       (<a href="http://bugs.mysql.com/27539" target="_top">Bug#27539</a>)</p></li><li><p>
        Opening the same database with Falcon tables on a different
        connection could cause a crash.
       (<a href="http://bugs.mysql.com/27428" target="_top">Bug#27428</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#commit" title="12.4.1. START TRANSACTION,
      COMMIT, and
      ROLLBACK Syntax"><code class="literal">ROLLBACK</code></a>
        after a <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> does not restore
        the deleted row.
       (<a href="http://bugs.mysql.com/27357" target="_top">Bug#27357</a>)</p></li><li><p>
        Two simultaneous <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT
        ... FOR UPDATE</code></a> statements with
        <a href="sql-syntax.html#isolevel_read-committed"><code class="literal">READ COMMITTED</code></a> isolation
        level would result in the wrong error message being returned.
       (<a href="http://bugs.mysql.com/26871" target="_top">Bug#26871</a>)</p></li><li><p>
        Row insertions to a table with long
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> columns and large
        compound indexes would cause MySQL to crash.
       (<a href="http://bugs.mysql.com/26850" target="_top">Bug#26850</a>)</p></li><li><p>
        Falcon could consume large amounts of memory during a high
        number of continuous <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statements.
       (<a href="http://bugs.mysql.com/26843" target="_top">Bug#26843</a>)</p></li><li><p>
        Updating a partitioned table in two sessions simultaneously
        would cause MySQL to crash.
       (<a href="http://bugs.mysql.com/26828" target="_top">Bug#26828</a>)</p></li><li><p>
        Locking between sessions when using
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT ... FOR
        UPDATE</code></a> would not work.
       (<a href="http://bugs.mysql.com/26826" target="_top">Bug#26826</a>)</p></li><li><p>
        Tables with <code class="literal">UNIQUE</code> key constraints would not
        be enforced.
       (<a href="http://bugs.mysql.com/26803" target="_top">Bug#26803</a>)</p></li><li><p>
        When updating a table with a unique key constraint the
        constraint would not be enforced.
       (<a href="http://bugs.mysql.com/26802" target="_top">Bug#26802</a>)</p></li><li><p>
        Searching for records in a table with a
        <code class="literal">DECIMAL(6,6)</code> column would fail to find the
        value.
       (<a href="http://bugs.mysql.com/26469" target="_top">Bug#26469</a>)</p></li><li><p>
        Rows with a numeric column may fail to find records with zero
        values.
       (<a href="http://bugs.mysql.com/26468" target="_top">Bug#26468</a>)</p></li><li><p>
        Retrieving rows from a table that used an index would sometimes
        fail to return the row.
       (<a href="http://bugs.mysql.com/26452" target="_top">Bug#26452</a>)</p></li><li><p>
        Continue handlers in stored procedures could cause a crash.
       (<a href="http://bugs.mysql.com/26433" target="_top">Bug#26433</a>)</p></li><li><p>
        Tables with a long multi-column index may fail to find a record
        for <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>.
       (<a href="http://bugs.mysql.com/26420" target="_top">Bug#26420</a>)</p></li><li><p>
        Updating <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns could
        result in a crash.
       (<a href="http://bugs.mysql.com/26324" target="_top">Bug#26324</a>)</p></li><li><p>
        Deleting a large quantity of rows in a single table may result
        in <code class="literal">ERROR 1020</code>.
       (<a href="http://bugs.mysql.com/26055" target="_top">Bug#26055</a>)</p></li><li><p>
        A <a href="sql-syntax.html#drop-table" title="12.1.23. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> statement on a table
        created using
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT ...</code></a> crashed the server.
       (<a href="http://bugs.mysql.com/25564" target="_top">Bug#25564</a>)</p></li><li><p>
        Random updates of <code class="literal">LONG VARCHAR</code> columns would
        fail.
       (<a href="http://bugs.mysql.com/23818" target="_top">Bug#23818</a>)</p></li><li><p>
        Running <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> after a changing
        the table contents does not result in a new data set.
       (<a href="http://bugs.mysql.com/22181" target="_top">Bug#22181</a>)</p></li><li><p>
        Using <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a> with
        interleaving transactions could cause <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a>
        to crash.
       (<a href="http://bugs.mysql.com/22165" target="_top">Bug#22165</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="news-5-2-x"></a>C.2. Changes in release 5.2.x (Development)</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#news-5-2-5">C.2.1. Changes in MySQL 5.2.5 (08 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-2-4">C.2.2. Changes in MySQL 5.2.4 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-2-3">C.2.3. Changes in MySQL 5.2.3 (15 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-5-2-2">C.2.4. Changes in MySQL 5.2.2 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#news-5-2-1">C.2.5. Changes in MySQL 5.2.1 (Not released Alpha)</a></span></dt></dl></div><a class="indexterm" name="id3891013"></a><p>
    MySQL 5.2 was merged into MySQL 6.0. An overview of which features
    were added in MySQL 5.2 and MySQL 6.0 can be found here:
    <a href="introduction.html#mysql-nutshell" title="1.4.1. What Is New in MySQL 6.0">Section 1.4.1, “What Is New in MySQL 6.0”</a>.
  </p><p>
    For a full list of changes, please refer to the changelog sections
    for each individual 5.2.x release.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-2-5"></a>C.2.1. Changes in MySQL 5.2.5 (08 August 2007)</h3></div></div></div><p class="release-level">
      This is a new Alpha development release, fixing recently
      discovered bugs.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p class="release-non-production">
        This Alpha release, as any other pre-production release, should
        not be installed on <span class="emphasis"><em>production</em></span> level
        systems or systems with critical data. It is good practice to
        back up your data before installing any new version of software.
        Although MySQL has worked very hard to ensure a high level of
        quality, protect your data by making a backup as you would for
        any software beta release. Please refer to our bug database at
        <a href="http://bugs.mysql.com/" target="_top">http://bugs.mysql.com/</a> for more details about the
        individual bugs fixed in this version.
      </p></div><p>
      This section documents all changes and bug fixes that have been
      applied since the last official MySQL release. If you would like
      to receive more fine-grained and personalized <span class="emphasis"><em>update
      alerts</em></span> about fixes that are relevant to the version and
      features you use, please consider subscribing to <span class="emphasis"><em>MySQL
      Network</em></span> (a commercial MySQL offering). For more details
      please see <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The obsolete constructs in the following table have been
        removed. Use the equivalents shown in the table's second column
        instead. Existing applications that depend on the obsolete
        constructs should be converted to make use of the current
        equivalents as soon as possible.
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><tbody><tr><td><span class="bold"><strong>Obsolete</strong></span>:</td><td><span class="bold"><strong>Current</strong></span>:</td></tr><tr><td><code class="literal">@@table_type</code>

              </td><td><code class="literal">@@storage_engine</code>

              </td></tr><tr><td><code class="literal">@@log_bin_trust_routine_creators</code>

              </td><td><code class="literal">@@log_bin_trust_function_creators</code>

              </td></tr><tr><td><code class="literal">TIMESTAMP(<em class="replaceable"><code>N</code></em>)</code>

              </td><td>See <a href="functions.html#date-and-time-functions" title="11.6. Date and Time Functions">Section 11.6, “Date and Time Functions”</a>.</td></tr><tr><td><code class="literal">TYPE=</code>

              </td><td><code class="literal">ENGINE=</code>

              </td></tr><tr><td><a href="http://dev.mysql.com/doc/refman/5.1/en/backup-table.html" target="_top"><code class="literal">BACKUP TABLE</code></a>

              </td><td><a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>,
                <a href="programs.html#mysqlhotcopy" title="4.6.10. mysqlhotcopy — A Database Backup Program"><span><strong class="command">mysqlhotcopy</strong></span></a>, or MySQL Administrator</td></tr><tr><td><a href="http://dev.mysql.com/doc/refman/5.1/en/restore-table.html" target="_top"><code class="literal">RESTORE TABLE</code></a>, <code class="literal">LOAD TABLE FROM
                  MASTER</code>

              </td><td><a href="programs.html#mysqldump" title="4.5.4. mysqldump — A Database Backup Program"><span><strong class="command">mysqldump</strong></span></a>, <a href="programs.html#mysql" title="4.5.1. mysql — The MySQL Command-Line Tool"><span><strong class="command">mysql</strong></span></a>, or
                MySQL Administrator</td></tr><tr><td><code class="literal">SHOW TABLE TYPES</code>

              </td><td><code class="literal">SHOW [STORAGE] ENGINES</code>

              </td></tr><tr><td><a href="http://dev.mysql.com/doc/refman/5.1/en/show-innodb-status.html" target="_top"><code class="literal">SHOW INNODB STATUS</code></a>

              </td><td><a href="sql-syntax.html#show-engine" title="12.5.6.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE INNODB STATUS</code></a>

              </td></tr><tr><td><code class="literal">SHOW MUTEX STATUS</code>

              </td><td><a href="sql-syntax.html#show-engine" title="12.5.6.16. SHOW ENGINE Syntax"><code class="literal">SHOW ENGINE INNODB MUTEX</code></a>

              </td></tr><tr><td><code class="option">--master-<em class="replaceable"><code>xxx</code></em></code>
                options to set replication parameters:
                <code class="option">--master-host</code>, <code class="option">--master-user</code>,
                  <code class="option">--master-password </code>,
                <code class="option">--master-port</code>,
                <code class="option">--master-connect-retry</code>,
                <code class="option">--master-ssl</code>, <code class="option">--master-ssl-ca</code>,
                  <code class="option">--master-ssl-capath</code>,
                  <code class="option">--master-ssl-cert</code>,
                  <code class="option">--master-ssl-cipher</code>,
                <code class="option">--master-ssl-key</code>

              </td><td><a href="sql-syntax.html#change-master-to" title="12.6.2.1. CHANGE MASTER TO Syntax"><code class="literal">CHANGE MASTER TO</code></a>

              </td></tr></tbody></table></div></li><li><p><span class="bold"><strong>MySQL Cluster</strong></span>: 
        It is now possible to control whether fixed-width or
        variable-width storage is used for a given column of an
        <code class="literal">NDB</code> table by means of the
        <code class="literal">COLUMN_FORMAT</code> specifier as part of the
        column's definition in a <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statement.
      </p><p>
        It is also possible to control whether a given column of an
        <code class="literal">NDB</code> table is stored in memory or on
        disk, using the <code class="literal">STORAGE</code> specifier as part of
        the column's definition in a <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE
        TABLE</code></a> or <a href="sql-syntax.html#alter-table" title="12.1.6. ALTER TABLE Syntax"><code class="literal">ALTER TABLE</code></a>
        statement.
      </p><p>
        For permitted values and other information about
        <code class="literal">COLUMN_FORMAT</code> and <code class="literal">STORAGE</code>,
        see <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax">Section 12.1.14, “<code class="literal">CREATE TABLE</code> Syntax”</a>.
      </p></li><li><p>
        The <a href="information-schema.html#columns-table" title="19.3. The INFORMATION_SCHEMA COLUMNS Table"><code class="literal">INFORMATION_SCHEMA.COLUMNS</code></a>
        table now has <code class="literal">STORAGE</code> and
        <code class="literal">FORMAT</code> columns. For
        <code class="literal">NDB</code> tables,
        <code class="literal">STORAGE</code> indicates whether a column is stored
        on disk or memory, and <code class="literal">FORMAT</code> indicates the
        column storage format (<a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FIXED</code></a>,
        <code class="literal">DYNAMIC</code>, or <code class="literal">DEFAULT</code>).
      </p></li><li><p>
        The <a href="information-schema.html#statistics-table" title="19.4. The INFORMATION_SCHEMA STATISTICS Table"><code class="literal">INFORMATION_SCHEMA.STATISTICS</code></a>
        table now has an <code class="literal">INDEX_COMMENT</code> column to
        indicate any comment string provided for the column. The
        <a href="sql-syntax.html#show-index" title="12.5.6.23. SHOW INDEX Syntax"><code class="literal">SHOW INDEX</code></a> statement now displays
        an <code class="literal">Index_comment</code> column that provides the
        same information.
      </p></li><li><p>
        The <code class="literal">LOAD XML INFILE</code> statement was added. This
        statement makes it possible to read data directly from XML files
        into database tables. For more information, see
        <a href="sql-syntax.html#load-xml" title="12.2.7. LOAD XML Syntax">Section 12.2.7, “<code class="literal">LOAD XML</code> Syntax”</a>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use of the <code class="literal">latin2_czech_cs</code> collation caused a
        server crash.
       (<a href="http://bugs.mysql.com/29459" target="_top">Bug#29459</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-2-4"></a>C.2.2. Changes in MySQL 5.2.4 (Not released)</h3></div></div></div><p class="release-level">
      This is a new Alpha development release, fixing recently
      discovered bugs.
    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p class="release-non-production">
        This Alpha release, as any other pre-production release, should
        not be installed on <span class="emphasis"><em>production</em></span> level
        systems or systems with critical data. It is good practice to
        back up your data before installing any new version of software.
        Although MySQL has worked very hard to ensure a high level of
        quality, protect your data by making a backup as you would for
        any software beta release. Please refer to our bug database at
        <a href="http://bugs.mysql.com/" target="_top">http://bugs.mysql.com/</a> for more details about the
        individual bugs fixed in this version.
      </p></div><p>
      This section documents all changes and bug fixes that have been
      applied since the last official MySQL release. If you would like
      to receive more fine-grained and personalized <span class="emphasis"><em>update
      alerts</em></span> about fixes that are relevant to the version and
      features you use, please consider subscribing to <span class="emphasis"><em>MySQL
      Network</em></span> (a commercial MySQL offering). For more details
      please see <a href="http://www.mysql.com/products/enterprise/advisors.html" target="_top">http://www.mysql.com/products/enterprise/advisors.html</a>.
    </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Added the <a href="server-administration.html#sysvar_optimizer_use_mrr"><code class="literal">optimizer_use_mrr</code></a>
        system variable to enable control over whether Multi-Range Read
        optimization is used. This replaces the
        <code class="literal">multi_range_count</code> system variable, which has
        been removed.
      </p></li><li><p>
        The syntax for the <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a>
        statement has been extended to support transactional table locks
        that do not commit transactions automatically. Following
        <code class="literal">LOCK TABLES ... IN SHARE MODE</code> or
        <code class="literal">LOCK TABLES ... IN EXCLUSIVE MODE</code>, you can
        access tables not mentioned in the <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK
        TABLES</code></a> statement. You can now also issue these
        extended <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> statements
        many times in succession, adding additional tables to the locked
        set, and without unlocking any tables that were locked
        previously. When using <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK
        TABLES</code></a> with <code class="literal">IN SHARE MODE</code> or
        <code class="literal">IN EXCLUSIVE MODE</code>, tables are not unlocked
        until the transaction is committed.
      </p><p>
        The behavior of <a href="sql-syntax.html#lock-tables" title="12.4.5. LOCK TABLES and
      UNLOCK
      TABLES Syntax"><code class="literal">LOCK TABLES</code></a> when
        not using <code class="literal">IN SHARE MODE</code> or <code class="literal">IN
        EXCLUSIVE MODE</code> remains unchanged.
      </p></li><li><p>
        A new SQL function,
        <a href="functions.html#function_weight-string"><code class="literal">WEIGHT_STRING()</code></a>, returns the
        weight string for an input string. The weight string represents
        the sorting and comparison value of the input string.
      </p></li><li><p>
        Added the <a href="server-administration.html#sysvar_optimizer_switch"><code class="literal">optimizer_switch</code></a>
        system variable to enable control over individual optimizations.
      </p></li><li><p>
        The maximum length of table comments was extended from 60 to
        2048 characters. The maximum length of column comments was
        extended from 255 to 1024 characters. Index definitions now can
        include a comment of up to 1024 characters.
      </p></li><li><p>
        Parser performance was improved for identifier scanning and
        conversion of ASCII string literals.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-2-3"></a>C.2.3. Changes in MySQL 5.2.3 (15 February 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL would crash with an assertion on startup during recovery
        referring to <code class="filename">tc.log</code>.
       (<a href="http://bugs.mysql.com/26161" target="_top">Bug#26161</a>)</p></li><li><p>
        A crash would occur when running
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> within a loop inside a
        stored procedure.
       (<a href="http://bugs.mysql.com/25537" target="_top">Bug#25537</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-2-2"></a>C.2.4. Changes in MySQL 5.2.2 (Not released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        MySQL would fail with an assertion on startup.
       (<a href="http://bugs.mysql.com/25835" target="_top">Bug#25835</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-5-2-1"></a>C.2.5. Changes in MySQL 5.2.1 (Not released Alpha)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Performance improvements: thread bottlenecks have been reduced
        when a larger number of parallel auto-commit threads executed a
        trivial query in a hard loop.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Falcon compound primary key problem.
       (<a href="http://bugs.mysql.com/25828" target="_top">Bug#25828</a>)</p></li><li><p>
        Assertion when killing a
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT</code></a> statement.
       (<a href="http://bugs.mysql.com/25565" target="_top">Bug#25565</a>)</p></li><li><p>
        A <a href="sql-syntax.html#drop-table" title="12.1.23. DROP TABLE Syntax"><code class="literal">DROP TABLE</code></a> statement on a table
        created using
        <a href="sql-syntax.html#create-table" title="12.1.14. CREATE TABLE Syntax"><code class="literal">CREATE TABLE ...
        SELECT ...</code></a> crashed the server.
       (<a href="http://bugs.mysql.com/25564" target="_top">Bug#25564</a>)</p></li><li><p>
        Crash if create index on nullable <code class="literal">utf8</code>
        column.
       (<a href="http://bugs.mysql.com/25555" target="_top">Bug#25555</a>)</p></li><li><p>
        Between fails with Unicode field.
       (<a href="http://bugs.mysql.com/24511" target="_top">Bug#24511</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mem-news"></a>C.3. MySQL Enterprise Monitor Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#mem-news-2-1-0">C.3.1. Changes in MySQL Enterprise Monitor 2.1.0 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-5">C.3.2. Changes in MySQL Enterprise Monitor 2.0.5 (18th March 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-4">C.3.3. Changes in MySQL Enterprise Monitor 2.0.4 (5th February 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-3">C.3.4. Changes in MySQL Enterprise Monitor 2.0.3 (23rd January 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-2">C.3.5. Changes in MySQL Enterprise Monitor 2.0.2 (14th January 2009)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-1">C.3.6. Changes in MySQL Enterprise Monitor 2.0.1 (15th December 2008)</a></span></dt><dt><span class="section"><a href="news.html#mem-news-2-0-0">C.3.7. Changes in MySQL Enterprise Monitor 2.0.0 (11th December 2008)</a></span></dt></dl></div><p>
    This appendix lists the changes to the MySQL Enterprise Monitor, beginning with the
    most recent release. Each release section covers added or changed
    functionality, bug fixes, and known issues, if applicable. All bug
    fixes are referenced by bug number and include a link to the bug
    database. Bugs are listed in order of resolution. To find a bug
    quickly, search by bug number.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-1-0"></a>C.3.1. Changes in MySQL Enterprise Monitor 2.1.0 (Not yet released)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.3.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The agent should be able to run as a non-root user. However, the
        startup scripts always started it as root.
      </p><p>
        The agent chassis now has a new option <code class="option">--user</code>
        to drop privileges after being started as root. Note, this does
        not work when not started as superuser, nor on Windows.
      </p><p>
        A new dialog box has also been added to the agent installer. The
        dialog has the following text: “<span class="quote">The agent does not need to
        run with root user privileges. The agent will switch to the user
        account provided below when started by the root user.</span>”
      </p><p>
        The dialog also has a text field to allow the entry of the user
        account.
      </p><p>
        A new parameter was also added to the
        <code class="filename">mysql-monitor-agent.ini</code> file. The parameter
        has the format <code class="literal">user=xxx</code>, where xxx is the
        user account to be used.
       (<a href="http://bugs.mysql.com/33778" target="_top">Bug#33778</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Accessing the Query Analyzer tab caused a full table scan to
        take place on the MySQL Enterprise Monitor database.
       (<a href="http://bugs.mysql.com/43989" target="_top">Bug#43989</a>)</p></li><li><p>
        The Replication Group was renamed back to its default name after
        a new topology was discovered.
       (<a href="http://bugs.mysql.com/43816" target="_top">Bug#43816</a>)</p></li><li><p>
        A new topology was not discovered after the previous replication
        group was renamed.
       (<a href="http://bugs.mysql.com/43815" target="_top">Bug#43815</a>)</p></li><li><p>
        On Unix systems, executing the command:
      </p><pre class="programlisting">./mysqlmonitorctl.sh stop</pre><p>
        did not make sure that <code class="literal">mysqld</code> was shutdown
        before finishing.
      </p><p>
        This resulted in a situation such as the following:
      </p><pre class="programlisting"># /opt/mysql/enterprise/monitor-2.0.0.7092/mysqlmonitorctl.sh stop
Using CATALINA_BASE:   /opt/mysql/enterprise/monitor/apache-tomcat
Using CATALINA_HOME:   /opt/mysql/enterprise/monitor/apache-tomcat
Using CATALINA_TMPDIR: /opt/mysql/enterprise/monitor/apache-tomcat/temp
Using JRE_HOME:       /opt/mysql/enterprise/monitor-2.0.0.7092/java
Stopping tomcat service ... [ OK ]
/opt/mysql/enterprise/monitor-2.0.0.7092/mysqlmonitorctl.sh : mysql stopped
</pre><p>
        However, running the following command a few minutes later
        showed that the MySQL server was still running:
      </p><pre class="programlisting"># /opt/mysql/enterprise/monitor-2.0.0.7092/mysqlmonitorctl.sh status
MySQL Network MySQL is running
MySQL Network Tomcat is not running
</pre><p>(<a href="http://bugs.mysql.com/43803" target="_top">Bug#43803</a>)</p></li><li><p>
        The MySQL Enterprise Monitor upgrade installer incorrectly
        replaced the <code class="filename">AdvisorScript.jar</code> in
        <code class="filename">&lt;instDir&gt;/apache-tomcat/webapps/ROOT/WEB-INF/lib/</code>
        with the default Advisor JAR.
       (<a href="http://bugs.mysql.com/43773" target="_top">Bug#43773</a>)</p></li><li><p>
        The SNMP trap source IP was always set to 127.0.0.1.
       (<a href="http://bugs.mysql.com/43738" target="_top">Bug#43738</a>)</p></li><li><p>
        The agent created the <code class="literal">mysql.inventory</code> table
        with an engine type of InnoDB, instead of MyISAM, when InnoDB
        was specified as the default engine type in
        <code class="filename">my.cnf</code>. This happened because the agent did
        not explicitly specify the table engine type to be of MyISAM.
       (<a href="http://bugs.mysql.com/43551" target="_top">Bug#43551</a>)</p></li><li><p>
        When a trailing space, or tab character, was added at the end of
        a parameter in the <code class="filename">config.properties</code> file,
        MySQL Enterprise Monitor failed to start and generated the
        following errors in log:
      </p><pre class="programlisting">ERROR [Thread-1:org.springframework.web.context.ContextLoader] Context initialization
failed
...
Caused by: java.sql.SQLException: Illegal connection port value '13306'
...</pre><p>
        Resolving the problem required detailed log analysis because the
        configuration file did not show any apparent problems.
       (<a href="http://bugs.mysql.com/43540" target="_top">Bug#43540</a>)</p></li><li><p>
        If a host was not a slave during the initial discovery phase,
        then it would not be displayed in the Replication tab if it
        subsequently became a slave.
      </p><p>
        This was because after the initial discovery phase, if a host
        did not have <code class="literal"> slavestatus</code> present, no
        subsequent checks were made to check for the host being a slave.
        It was therefore missed for the purposes of replication
        discovery and never showed in the Replication tab.
       (<a href="http://bugs.mysql.com/42997" target="_top">Bug#42997</a>)</p></li><li><p>
        There were four columns added to the <code class="literal">SHOW SLAVE
        STATUS</code> query in MySQL Server 5.1:
        <code class="literal">Last_IO_Errno</code>,
        <code class="literal">Last_IO_Error</code>,
        <code class="literal">Last_SQL_Errno</code>, and
        <code class="literal">Last_SQL_Error</code>.
      </p><p>
        However, these were not displayed within the Replication tab.
       (<a href="http://bugs.mysql.com/42811" target="_top">Bug#42811</a>)</p></li><li><p>
        The installer used to upgrade from version 1.3 corrupted
        passwords containing the “<span class="quote">?</span>” character.
       (<a href="http://bugs.mysql.com/42452" target="_top">Bug#42452</a>)</p></li><li><p>
        Sun multi-core processors caused all cores to be reported on the
        meta information page.
      </p><p>
        The larger T-series SPARC processors have 32+ cores. This caused
        the meta information page in the Dashboard to scroll as it
        reported each one.
       (<a href="http://bugs.mysql.com/42355" target="_top">Bug#42355</a>)</p></li><li><p>
        The username field for new users was populated by the last
        username used.
      </p><p>
        When creating a new user for the second time in Dashboard, the
        previously created username appeared in the dialog.
       (<a href="http://bugs.mysql.com/42314" target="_top">Bug#42314</a>)</p></li><li><p>
        The <code class="filename">my.cnf</code> file for the Enterprise Monitor
        internal database had the following configuration item:
      </p><pre class="programlisting">innodb_autoextend_increment = 50M
</pre><p>
        This generated the error:
      </p><pre class="programlisting">16:36:23 [Warning] option 'innodb_autoextend_increment': unsigned value 52428800
adjusted to 1000
</pre><p>
        This variable is interpreted as being specified in MB, so 50M
        would be 50 TB. Such a high value results in the variable being
        adjusted to 1000 MB.
      </p><p>
        The value in the configuration file should be:
      </p><pre class="programlisting">innodb_autoextend_increment = 50
</pre><p>(<a href="http://bugs.mysql.com/42096" target="_top">Bug#42096</a>)</p></li><li><p>
        A number of Advisor rules had advice text that had not been
        translated into Japanese. The Advisors that contained
        untranslated rules included Performance, Schema and Security.
       (<a href="http://bugs.mysql.com/42067" target="_top">Bug#42067</a>)</p></li><li><p>
        After an error was generated due to an incorrect password while
        trying to create a new user, the following error was obtained
        when subsequently attempting to create a valid new user:
      </p><pre class="programlisting">U0002 You must log in to access the requested resource</pre><p>(<a href="http://bugs.mysql.com/41384" target="_top">Bug#41384</a>)</p></li><li><p>
        SNMP trap messages were sending 127.0.0.1 as the IP address, and
        there was no feature to allow the user to configure the IP
        address contained in the SNMP message, which would have been
        useful for troubleshooting.
       (<a href="http://bugs.mysql.com/41361" target="_top">Bug#41361</a>)</p></li><li><p>
        Allowing the heat chart rules to be set to unscheduled caused
        the user interface to appear broken.
       (<a href="http://bugs.mysql.com/41312" target="_top">Bug#41312</a>)</p></li><li><p>
        Graphs were incorrect for data that did not change. The graphs
        appeared as if no data had been gathered.
      </p><p>
        The Hit Ratios graph had gaps in it where there had not been any
        activity on the parameters being monitored. For instance, if
        MyISAM tables were not used, then no Key Cache hit ratio series
        was plotted, even though the variables were still being
        collected.
       (<a href="http://bugs.mysql.com/41232" target="_top">Bug#41232</a>)</p></li><li><p>
        When creating a new Database Administrator user in FireFox 2 the
        following error message was generated:
      </p><pre class="programlisting">U0002 You must log in to access the requested resource.</pre><p>
        This occurred in a new installation using the default
        administrator account. No Query Analysis permissions were given.
        However, the operation worked correctly using the Safari web
        browser.
       (<a href="http://bugs.mysql.com/41032" target="_top">Bug#41032</a>)</p></li><li><p>
        The <span class="guilabel">Manage Servers</span> page did not refresh in
        a manner consistent with other pages. This meant that changes to
        configuration made by others would not be reflected on the page.
        Also, changes in the status of the servers were not displayed
        automatically.
       (<a href="http://bugs.mysql.com/40792" target="_top">Bug#40792</a>)</p></li><li><p>
        The MySQL Enterprise Monitor upgrade installer replaced the
        <code class="filename">my.cnf</code> file. This resulted in the loss of
        any changes that had been made to the configuration file.
       (<a href="http://bugs.mysql.com/36528" target="_top">Bug#36528</a>)</p></li><li><p>
        If the “<span class="quote">On Save send test trap</span>” checkbox was
        checked when the <span class="guibutton">Save</span> button was clicked
        and the locale was set to Japanese, an error occurred. The
        orange error banner was displayed at the top of the page with
        the error message in Japanese.
       (<a href="http://bugs.mysql.com/32069" target="_top">Bug#32069</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-5"></a>C.3.2. Changes in MySQL Enterprise Monitor 2.0.5 (18th March 2009)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.4.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Calling the Agent with the option
        <code class="option">--agent-run-os-tests</code> resulted in a crash. This
        happened on Linux x86-64 systems. The resultant stack trace was:
      </p><pre class="programlisting">(qa-merlin)
2009-03-04 16:39:42: (critical) chassis.c:1097: could not raise RLIMIT_NOFILE to 8192,
Invalid argument (22). Current limit still 1024.
sigar-test-all.c.124 (test_sigar_pid_get):
  pid = 5188
sigar-test-all.c.106 (test_sigar_mem_get):
...cut...
sigar-test-all.c.427 (test_sigar_file_system_list_get): (items = 13)
[0]
  fs.dirname = /
  fs.devname = /dev/mapper/vg00-root
  fs.typename = local
  fs.sys-type-name = ext3
  fs.type = 2
  fsusage.total = 15481840
  fsusage.free = 14116140
  fsusage.used = 1365700
  fsusage.avail = 13329708
  fsusage.files = 1966080
  fsusage.use_percent = 0.100000
[0]
  diskusage.reads = 315302
  diskusage.writes = 6318240
  diskusage.write_bytes = 25879511040
  diskusage.read_bytes = 6561092608
  diskusage.queue = 47457530080206
Segmentation fault
</pre><p>
        On some systems no output was shown, other than the message
        “<span class="quote">Segmentation fault</span>”.
       (<a href="http://bugs.mysql.com/43381" target="_top">Bug#43381</a>)</p></li><li><p>
        Following a change in the replication configuration, MySQL
        Enterprise Monitor did not display the new topology correctly.
       (<a href="http://bugs.mysql.com/43240" target="_top">Bug#43240</a>)</p></li><li><p>
        When a data collection became invalid, the agent sent NULLs for
        those collection values. However, the timestamps that it sent
        with the values were the timestamps from the last valid value
        that was collected.
      </p><p>
        Due to key constraints on the Service Manager side, MySQL
        Enterprise Monitor disregarded anything sent with duplicate
        timestamps, thus the NULLs received from the agent were never
        processed. Some mechanisms, such as replication discovery,
        depend on the NULLs to identify a situation where data has
        become invalid.
       (<a href="http://bugs.mysql.com/43239" target="_top">Bug#43239</a>)</p></li><li><p>
        MySQL Enterprise Monitor did not add a log entry each time data
        was purged. The log entry should have noted how many rows of
        each type of data were purged (historical data, logs, quan
        data).
       (<a href="http://bugs.mysql.com/43159" target="_top">Bug#43159</a>)</p></li><li><p>
        MySQL Enterprise Monitor generated a stack overflow. This was as
        a result of a bug in Hibernate, which caused Hibernate to enter
        infinite recursion while trying to load a relationship.
       (<a href="http://bugs.mysql.com/43107" target="_top">Bug#43107</a>)</p></li><li><p>
        The “<span class="quote">Table Cache Set Too Low For Startup</span>” and
        “<span class="quote">Table Cache Not Optimal</span>” rules were not supported
        on MySQL 5.1 because the <code class="literal">table_cache</code> system
        variable was deprecated and replaced with
        <code class="literal">table_open_cache</code>.
       (<a href="http://bugs.mysql.com/42663" target="_top">Bug#42663</a>)</p></li><li><p>
        Migrated server was not completely deleted.
      </p><p>
        In a Monitor that had been updated from 1.3.2 to 2.0.4, with 2
        database servers queued for migration, if a server being
        migrated was deleted, or a migrated server was deleted, this
        would not be reflected in the user interface or in the license
        count, until Tomcat was restarted.
       (<a href="http://bugs.mysql.com/42604" target="_top">Bug#42604</a>)</p></li><li><p>
        The installer used to upgrade from version 1.3 corrupted
        passwords containing the “<span class="quote">?</span>” character.
       (<a href="http://bugs.mysql.com/42452" target="_top">Bug#42452</a>)</p></li><li><p>
        Sun multi-core processors caused all cores to be reported on the
        meta information page.
      </p><p>
        The larger T-series SPARC processors have 32+ cores. This caused
        the meta information page in the Dashboard to scroll as it
        reported each one.
       (<a href="http://bugs.mysql.com/42355" target="_top">Bug#42355</a>)</p></li><li><p>
        If an attempt was made to disable a rule using the link next to
        the rule, the following error message was generated:
      </p><pre class="programlisting">U0002 You must log in to access the requested resource. Go to login page.</pre><p>
        However, clicking on the link did not prompt the user to login
        again.
       (<a href="http://bugs.mysql.com/42313" target="_top">Bug#42313</a>)</p></li><li><p>
        Changing <code class="literal">ssh-agent</code> from OpenSSH or specifying
        a malevolent value of <code class="literal">agent-host-id</code>, could
        inject data into the monitored MySQL Server.
      </p><p>
        For example, setting <code class="literal">agent-host-id</code> to the
        value “<span class="quote">I'm a test</span>” would result in the
        following message in the error log:
      </p><pre class="programlisting">2009-01-23 15:45:11: ((error)) agent_mysqld.c:281: mysql_real_query('INSERT INTO
mysql.inventory  (name, value) VALUES ( 'hostid', 'I'm a test' )') on 'mysql' failed: You
have an error in your SQL syntax; check the manual that corresponds to your MySQL server
version for the right syntax to use near 'm a test' )' at line 1 (mysql-errno = 1064)
</pre><p>(<a href="http://bugs.mysql.com/42306" target="_top">Bug#42306</a>)</p></li><li><p>
        When <code class="literal">SHOW GLOBAL STATUS</code> returned a value
        greater than 214748364, it was sent to the Service Manager as
        214748364.
       (<a href="http://bugs.mysql.com/42245" target="_top">Bug#42245</a>)</p></li><li><p>
        The Agent failed to identify local sockets as local on Mac OS X
        10.4.
      </p><p>
        If the Agent was configured to use a Unix domain socket on Mac
        OS X 10.4, it did not treat the connection as local and failed
        to provide CPU and memory information to MySQL Enterprise
        Monitor. This is shown in the log file:
      </p><pre class="programlisting">2009-01-20 18:15:02: (message) network-socket.c:752: is-local family 0 != 1
2009-01-20 18:15:02: (message) agent_mysqld.c:322: [mysql] mysqld is not local or not
directly connected</pre><p>
        However, this problem did not happen on Mac OS X 10.5.
       (<a href="http://bugs.mysql.com/42220" target="_top">Bug#42220</a>)</p></li><li><p>
        Some graphs on the <span class="guilabel">Graph</span> tab were not
        updated after the page was refreshed, or
        <span class="guibutton">Update</span> was clicked.
      </p><p>
        The only way to get an updated graph was to change the graph
        size (in pixels) and then click <span class="guibutton">Update</span>.
       (<a href="http://bugs.mysql.com/42162" target="_top">Bug#42162</a>)</p></li><li><p>
        The <code class="filename">my.cnf</code> file for the Enterprise Monitor
        internal database had the following configuration item:
      </p><pre class="programlisting">innodb_autoextend_increment = 50M
</pre><p>
        This generated the error:
      </p><pre class="programlisting">16:36:23 [Warning] option 'innodb_autoextend_increment': unsigned value 52428800
adjusted to 1000
</pre><p>
        This variable is interpreted as being specified in MB, so 50M
        would be 50 TB. Such a high value results in the variable being
        adjusted to 1000 MB.
      </p><p>
        The value in the configuration file should be:
      </p><pre class="programlisting">innodb_autoextend_increment = 50
</pre><p>(<a href="http://bugs.mysql.com/42096" target="_top">Bug#42096</a>)</p></li><li><p>
        A number of Advisor rules had advice text that had not been
        translated into Japanese. The Advisors that contained
        untranslated rules included Performance, Schema and Security.
       (<a href="http://bugs.mysql.com/42067" target="_top">Bug#42067</a>)</p></li><li><p>
        The Service Manager did not handle the case where the agent
        failed to supply a valid <code class="literal">master_ip</code>. The
        Service Manager would then not restart. The logs contained the
        following:
      </p><pre class="programlisting">2009-01-09 14:39:50,472 ERROR [main:org.springframework.web.context.ContextLoader] Context
initialization failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with
name 'serverConnectionMonitor' defined in ServletContext resource
[/WEB-INF/applicationContext.xml]: Unsatisfied dependency expressed through constructor
argument with index 2 of type [com.mysql.etools.monitor.bo.Manager]: Error creating bean
with name 'manager' defined in ServletContext resource [/WEB-INF/applicationContext.xml]:
Invocation of init method failed; nested exception is
com.mysql.etools.monitor.pom.UnsupportedAttributeException:
101c6b5b-15eb-49aa-916c-843c51b28d38: mysql.slavestatus.Master_ip</pre><p>(<a href="http://bugs.mysql.com/42005" target="_top">Bug#42005</a>)</p></li><li><p>
        Having too many users with strong privileges generated Service
        Manager errors and events failed to be triggered.
      </p><p>
        If there were approximately 1000 users with full privileges and
        the value of <code class="literal">group_concat_max_len</code> was set to
        100001, the size of the data that the agent sent to the Service
        Manager was too large and caused Service Manager errors. Also,
        the Security event “<span class="quote">Account has Strong MySQL
        privileges</span>” did not trigger.
       (<a href="http://bugs.mysql.com/41987" target="_top">Bug#41987</a>)</p></li><li><p>
        Query Analyzer's Query Type filter for <code class="literal">SELECT</code>
        ignored statements starting with parenthesis.
      </p><p>
        If you sent a statement through Query Analyzer starting with
        parenthesis, such as:
      </p><pre class="programlisting">(SELECT 1 FROM dual);</pre><p>
        and then attempted to filter for <code class="literal">SELECT</code>
        queries only, queries starting with parenthesis were not
        displayed.
       (<a href="http://bugs.mysql.com/41968" target="_top">Bug#41968</a>)</p></li><li><p>
        The agent angel process was spawning too soon, which caused a
        duplicate UUID error.
      </p><p>
        <code class="literal">g_error()</code> logged a fatal error, and called
        <code class="literal">abort()</code>. This terminated the program. Then
        the angel respawned with the same UUID, but with a -1 session
        resync request, which the MEM server denied because the old
        session was still active. This resulted in a permissions denied
        error (1142) on the <code class="literal">mysql.inventory table</code>.
      </p><pre class="programlisting">2008-12-17 18:58:58: (message) agent_mysqld.c:313: [mysql] mysqld is local and directly connected
2008-12-17 18:58:58: ((error)) agent_mysqld.c:444: [mysql] mysql_real_query("SELECT value
FROM mysql.inventory WHERE name = 'uuid'") failed: SELECT command denied to user
'ent_agent'@'127.0.0.1' for table 'inventory' (errno=1142)
2008-12-17 18:58:58: (debug) chassis.c:282: 15134 returned: 15134
2008-12-17 18:58:58: (message) chassis.c:304: [angel] PID=15134 died on signal=6 (it used
0 kBytes max) ... waiting 3min before restart
2008-12-17 18:59:00: (debug) chassis.c:244: we are the child: 15149
2008-12-17 18:59:00: (message) chassis.c:259: [angel] we try to keep PID=15149 alive
2008-12-17 18:59:00: (debug) chassis.c:277: waiting for 15149
2008-12-17 18:59:00: (message) mysql-proxy 0.7.0 started
2008-12-17 18:59:00: (message) MySQL Monitor Agent 2.0.0.7111 started.
</pre><p>(<a href="http://bugs.mysql.com/41600" target="_top">Bug#41600</a>)</p></li><li><p>
        <code class="literal">master_uuid</code> discovery did not work with MySQL
        Server versions prior to 5.1. <code class="literal">master_uuid</code> did
        not show in any Agent to Monitor communications, and no log or
        error messages were generated.
      </p><p>
        However, now the bug has been fixed, an Agent monitoring a 5.0
        MySQL Server would register the following in its logs:
      </p><pre class="programlisting">...
 &lt;classname&gt;slavestatus&lt;/classname&gt;
 &lt;instance&gt;12515cdc-8c00-4223-9d2a-2666a403512c&lt;/instance&gt;
 &lt;attribute&gt;Master_uuid&lt;/attribute&gt;
&lt;/target&gt;
&lt;utc&gt;2009-03-03T19:58:05.700Z&lt;/utc&gt;
&lt;value&gt;b2fd9f86-6e42-49f2-b930-e8fb3e728179&lt;/value&gt;
</pre><p>
        Note the presence of <code class="literal">master_uuid</code>.
       (<a href="http://bugs.mysql.com/41525" target="_top">Bug#41525</a>)</p></li><li><p>
        The <code class="literal">master_uuid</code> was not used for replication
        topology discovery.
      </p><p>
        The agent collected <code class="literal">master_uuid</code> by reading
        the <code class="filename">master.info</code> file, and then running a
        <code class="literal">SELECT</code> directly against its master. This was
        to try and read the <code class="literal">mysql.inventory</code> table on
        the master to obtain the instance
        <code class="literal">master_uuid</code>.
      </p><p>
        However, this was not being used correctly by the replication
        topology discovery within the server.
       (<a href="http://bugs.mysql.com/41519" target="_top">Bug#41519</a>)</p></li><li><p>
        Queries such as <code class="literal">SELECT</code> against the master
        <code class="literal">mysql.inventory</code> was not logged on slave-based
        agents. This made diagnosing topology discovery issues
        difficult.
       (<a href="http://bugs.mysql.com/41518" target="_top">Bug#41518</a>)</p></li><li><p>
        After an error was generated due to an incorrect password while
        trying to create a new user, the following error was obtained
        when subsequently attempting to create a valid new user:
      </p><pre class="programlisting">U0002 You must log in to access the requested resource</pre><p>(<a href="http://bugs.mysql.com/41384" target="_top">Bug#41384</a>)</p></li><li><p>
        Agent startup failed on Solaris 10. The error generated was:
      </p><pre class="programlisting"># ./mysql-monitor-agent start
Bad string 
ERROR! /opt/mysql/enterprise/agent/etc/mysql-monitor-agent.ini has to have a
[mysql-proxy].pid-file setting
</pre><p>
        This was caused by unexpected behavior of the
        <span><strong class="command">tr</strong></span> command.
       (<a href="http://bugs.mysql.com/41260" target="_top">Bug#41260</a>)</p></li><li><p>
        On the Query Analysis page, if a query was clicked the minimum
        displayed was greater than the average.
       (<a href="http://bugs.mysql.com/41259" target="_top">Bug#41259</a>)</p></li><li><p>
        In some circumstances the agent/proxy ran out of file
        descriptors, causing secondary failures. It could not recover
        from that state. The relevant part of the log file is shown
        here:
      </p><pre class="programlisting">2008-11-27 11:11:00: (critical) last message repeated 2 times
2008-11-27 11:11:00: (critical) job_collect_os.c:411: sigar_cpu_info_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:445: sigar_cpu_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:411: sigar_cpu_info_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:445: sigar_cpu_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:411: sigar_cpu_info_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:445: sigar_cpu_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:411: sigar_cpu_info_list_get() failed
2008-11-27 11:11:00: (critical) job_collect_os.c:445: sigar_cpu_list_get() failed
2008-11-27 11:11:30: (critical) network-socket.c.292: socket(127.0.0.1:3306) failed: Too many open files (24)
2008-11-27 11:11:30: (critical) proxy-plugin.c.1532: Cannot connect, all backends are down.
2008-11-27 11:20:22: (critical) last message repeated 4 times
2008-11-27 11:20:22: (critical) network-io.c:215:
curl_easy_perform('https://user:password@merlin-dashboard:443/heartbeat') failed: 
SSL connection timeout (curl-error = 'Timeout was reached' (28), os-error = 'Connection refused' (111))
</pre><p>(<a href="http://bugs.mysql.com/41068" target="_top">Bug#41068</a>)</p></li><li><p>
        If an installation of Service Manager 2.0.0.7102 included a
        <code class="filename">backup</code> directory, due to a previous
        upgrade, and was upgraded using at least Service Manager
        2.0.0.7103, then the installer displayed an error message and
        exited.
      </p><p>
        The error message displayed was:
      </p><pre class="programlisting">There has been an error.
Error renaming /Applications/mysql/enterprise/monitor/apache-tomcat to
/Applications/mysql/enterprise/monitor/backup/apache-tomcat
The application will exit now
</pre><p>(<a href="http://bugs.mysql.com/40996" target="_top">Bug#40996</a>)</p></li><li><p>
        The Agent started without problems and connected to the master.
        But it was unable to perform a <code class="literal">SELECT</code> from
        the table <code class="literal">mysql.inventory</code> in order to obtain
        server information.
       (<a href="http://bugs.mysql.com/40933" target="_top">Bug#40933</a>)</p></li><li><p>
        Canonical Query Text for <code class="literal">Select -1</code> was
        displayed as <code class="literal">SELECT -?</code> instead of
        <code class="literal">SELECT ?</code> on the Query Analyzer tab.
       (<a href="http://bugs.mysql.com/40435" target="_top">Bug#40435</a>)</p></li><li><p>
        The startup scripts supplied with MySQL Network Monitoring and
        Advisory tool did not supply all of the LSB
        <code class="filename">init.d</code> script options required. A list of
        the required options can be found at the following website
        <a href="http://refspecs.freestandards.org/LSB_3.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html" target="_top">http://refspecs.freestandards.org/LSB_3.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html</a>
      </p><p>
        The required options missing include <code class="literal">status</code>
        and <code class="literal">force-reload</code>. The option
        <code class="literal">status</code> is used by monitoring tools and
        cluster software such as Red Hat Cluster, to ensure that the
        service is still running. The <code class="literal">force-reload</code>
        option is an alias for restart.
       (<a href="http://bugs.mysql.com/29848" target="_top">Bug#29848</a>)</p></li><li><p>
        Multiple errors showed in the agent log after issuing a
        <code class="literal">SHOW INNODB STATUS</code> statement. The
        <code class="literal">InnoDB Buffer Pool</code>graph also went blank.
       (<a href="http://bugs.mysql.com/27372" target="_top">Bug#27372</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-4"></a>C.3.3. Changes in MySQL Enterprise Monitor 2.0.4 (5th February 2009)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.3.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Service Agent did not log connections to, and disconnects
        from, the monitored database.
      </p><p>
        This meant it was not possible to check if the Agent was
        connected to the database by simply looking at the log file.
       (<a href="http://bugs.mysql.com/42403" target="_top">Bug#42403</a>)</p></li><li><p>
        The Service Agent failed to create the
        <code class="literal">mysql.inventory</code> table. The logs displayed the
        following error message:
      </p><pre class="programlisting">(critical) (share/mysql-proxy/quan.lua:711) [proxy] please add SELECT permissions for
this user on mysql.inventory to enable the QUAN feature, got Table 'mysql.inventory'
doesn't exist</pre><p>
        This happened even though the Service Agent used the
        <code class="literal">root</code> account.
       (<a href="http://bugs.mysql.com/42389" target="_top">Bug#42389</a>)</p></li><li><p>
        After installing Service Agent 2.0.4.7138 and then starting it
        with <code class="option">--version</code>, the incorrect version was
        displayed. Although 2.0.4.7138 was installed, the Service Agent
        displayed the version number as 2.0.2.7138.
       (<a href="http://bugs.mysql.com/42263" target="_top">Bug#42263</a>)</p></li><li><p>
        An invalid path was shown in the error message if the upgrade
        installer failed to find the previous install location.
      </p><p>
        The error message is shown below, note that the error message
        displays a different path to that provided by the user:
      </p><pre class="programlisting">Please specify the directory that contains the previous installation of the MySQL
Enterprise Monitor Agent

Installation directory [/home/mysql/mysql/enterprise/agent]: /var/lib/mysql/agent

Warning: The directory /home/mysql/mysql/enterprise/agent does not contain a a
previous installation. Please select the right installation directory.
Press [Enter] to continue :
----------------------------------------------------------------------------
Please specify the directory that contains the previous installation of the MySQL
Enterprise Monitor Agent</pre><p>(<a href="http://bugs.mysql.com/42200" target="_top">Bug#42200</a>)</p></li><li><p>
        The agent password error in the Service Manager did not log the
        originating host, making it impossible to determine the agent
        that failed to log in:
      </p><pre class="programlisting">ErrorJan 5, 2009 4:56:08 PM&lt;?xml version='1.0'?&gt;&lt;exceptions&gt;&lt;error&gt;&lt;![CDATA[E1702:
IncorrectPasswordException: [agent]]]&gt;&lt;/error&gt;&lt;/exceptions&gt;</pre><p>(<a href="http://bugs.mysql.com/42139" target="_top">Bug#42139</a>)</p></li><li><p>
        The Service Manager's JDBC connections did not have
        <code class="literal">sql_mode</code> set to include
        <code class="literal">NO_ENGINE_SUBSTITUTION</code>. This resulted in the
        failure of Data Definition Language (DDL) if the Service Manager
        was inadvertently pointed to an incorrect
        <code class="literal">mysqld</code> instance.
       (<a href="http://bugs.mysql.com/42137" target="_top">Bug#42137</a>)</p></li><li><p>
        A number of Advisor rules had advice text that had not been
        translated into Japanese. The Advisors that contained
        untranslated rules included Performance, Schema and Security.
       (<a href="http://bugs.mysql.com/42067" target="_top">Bug#42067</a>)</p></li><li><p>
        Service Agent configuration files had global read privileges on
        the filesystem.
       (<a href="http://bugs.mysql.com/41794" target="_top">Bug#41794</a>)</p></li><li><p>
        When the log files rotated to the maximum allowed by the
        <code class="literal">log4j</code> configuration, the metadata contained
        in the <code class="literal">FileAppender</code> became out of
        synchronization due to a logic bug. This caused an assertion
        error on any subsequent request for the logs tab or data.
       (<a href="http://bugs.mysql.com/41593" target="_top">Bug#41593</a>)</p></li><li><p>
        SNMP trap messages were sending 127.0.0.1 as the IP address, and
        there was no feature to allow the user to configure the IP
        address contained in the SNMP message, which would have been
        useful for troubleshooting.
       (<a href="http://bugs.mysql.com/41361" target="_top">Bug#41361</a>)</p></li><li><p>
        Although the <span class="guilabel">Monitor</span> tab loaded initially,
        after a 64-bit MySQL server running a 32-bit MySQL Monitor Agent
        was clicked, a Null Pointer Exception was generated.
       (<a href="http://bugs.mysql.com/41164" target="_top">Bug#41164</a>)</p></li><li><p>
        The Service Agent startup configuration did not seem to work and
        did not generate a log file.
       (<a href="http://bugs.mysql.com/40583" target="_top">Bug#40583</a>)</p></li><li><p>
        An error generated by a rule failed to clear.
      </p><p>
        When a rule was created with the
        <code class="literal">os:disk:fs_used</code> data item, if the instance
        was not a valid mount point then the Service Agent reported the
        error:
      </p><pre class="programlisting">2008-08-11 17:57:00: (critical) disk-get failed for all: 2</pre><p>
        Note the above instance was for “<span class="quote">all</span>”, and similar
        results occurred for instance “<span class="quote">disk</span>”.
      </p><p>
        The issue was that upon editing the rule, or even deleting the
        rule, the agent still showed the above error type. Restarting
        the agent and the monitoring service failed to remove the error.
       (<a href="http://bugs.mysql.com/38709" target="_top">Bug#38709</a>)</p></li><li><p>
        If the “<span class="quote">On Save send test trap</span>” checkbox was
        checked when the <span class="guibutton">Save</span> button was clicked
        and the locale was set to Japanese, an error occurred. The
        orange error banner was displayed at the top of the page with
        the error message in Japanese.
       (<a href="http://bugs.mysql.com/32069" target="_top">Bug#32069</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-3"></a>C.3.4. Changes in MySQL Enterprise Monitor 2.0.3 (23rd January 2009)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.2.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Service Agent failed to connect to the server, and no error
        message was displayed in the log file.
      </p><p>
        However, when the log verbosity level was set to
        <code class="literal">message</code>, the following message was recorded:
      </p><pre class="programlisting">2009-01-12 13:34:43: (warning) agent_mysqld.c:600: agent connecting to mysql-server
failed: mysql_real_connect(host = '127.0.0.1', port = 3306, socket = ''): Lost connection
to MySQL server at 'reading initial communication packet', system error: 0 (mysql-errno =
2013)</pre><p>(<a href="http://bugs.mysql.com/42044" target="_top">Bug#42044</a>)</p></li><li><p>
        There was a mismatch between the contents of an SNMP Trap from
        MySQL Enterprise Monitor and the definition given in the file
        <code class="filename">MONITOR.MIB</code>.
       (<a href="http://bugs.mysql.com/41912" target="_top">Bug#41912</a>)</p></li><li><p>
        If a copy was made of a standard rule, the resulting Wiki markup
        was incorrect, resulting in the display of user-interface text
        containing HTML markup.
       (<a href="http://bugs.mysql.com/41375" target="_top">Bug#41375</a>)</p></li><li><p>
        Allowing the heat chart rules to be set to unscheduled caused
        the user interface to appear broken.
       (<a href="http://bugs.mysql.com/41312" target="_top">Bug#41312</a>)</p></li><li><p>
        When a custom rule requiring disk information was created, for
        example:
      </p><pre class="programlisting">[Expression]
%disk_reads% &gt; THRESHOLD

[Thresholds]
Critical Alert: 9000
Warning Alert: 3000
Info Alert: 1000

[Variable Assignment]
variables: %disk_reads%
Data Item: os:disk:disk_reads
Instance: /</pre><p>
        The following error was written to the file
        <code class="filename">mysql-service-agent.log</code>:
      </p><pre class="programlisting">2007-09-05 17:11:00: (critical) disk-get failed for c0d0p1: 2</pre><p>
        It therefore appeared that the Service Agent was not able to
        obtain the required information.
       (<a href="http://bugs.mysql.com/30820" target="_top">Bug#30820</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-2"></a>C.3.5. Changes in MySQL Enterprise Monitor 2.0.2 (14th January 2009)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.1.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <span class="guibutton">Complete Setup</span> button was missing
        from the <span class="guilabel">Setup</span> page you were taken to after
        the current subscription expired.
       (<a href="http://bugs.mysql.com/41685" target="_top">Bug#41685</a>)</p></li><li><p>
        If the <code class="literal">host-id</code> of the monitored instance and
        the <code class="literal">host-id</code> of the current agent did not
        match, the agent generated the following error message:
      </p><pre class="programlisting">Please TRUNCATE TABLE mysql.inventory on this mysql-instance and restart the agent.</pre><p>
        However, it did not suggest using <code class="literal">sql_log_bin =
        0</code>. This is used for all other actions against this
        table so that they are not replicated to slaves, each of which
        has their own copy of this table.
       (<a href="http://bugs.mysql.com/41673" target="_top">Bug#41673</a>)</p></li><li><p>
        The Agent did not start up when the monitored server had many
        databases and tables, and was under heavy load. This was because
        the <code class="literal">trigger_schema</code> query was taking too long
        on agent start up.
       (<a href="http://bugs.mysql.com/41555" target="_top">Bug#41555</a>)</p></li><li><p>
        The Service Agent failed to install on Solaris 10 x86. The
        following error was generated:
      </p><pre class="programlisting">Installing
0% ______________ 50% ______________ 100%
########################################
Warning: Problem running post-install step.
Installation may not complete correctly
Error running /usr/local/mysqlagent/bin/mysql-monitor-agent
--defaults-file=/usr/local/mysqlagent/etc/mysql-monitor-agent.ini
--plugins=agent --agent-generate-uuid=true : 2008-12-12 13:06:02: (critical)
Conversion from character set '646' to 'UTF-8' is not supported
2008-12-12 13:06:02: (message) shutting down normally</pre><p>(<a href="http://bugs.mysql.com/41445" target="_top">Bug#41445</a>)</p></li><li><p>
        The console/stdout appender remained in the log4j configuration,
        which meant that all the MySQL Enterprise Monitor server logs
        were duplicated to Catalina's stdout, and thus
        <code class="filename">catalina.out</code>, which was wasteful,
        especially as that file was not rotated or managed.
       (<a href="http://bugs.mysql.com/41439" target="_top">Bug#41439</a>)</p></li><li><p>
        When creating new multiple user accounts, the first attempt
        worked fine. However, following attempts to create new users did
        not show the <span class="guilabel">Query Analyzer Options</span> in the
        <span class="guilabel">Create User</span> popup until the role field was
        changed.
       (<a href="http://bugs.mysql.com/41430" target="_top">Bug#41430</a>)</p></li><li><p>
        When login privileges were required the Service Manager did not
        redirect the user to the login page. This resulted in error
        messages being displayed rather than simply redirecting the user
        to the login page. This problem typically occurred if it was
        necessary to restart Tomcat.
       (<a href="http://bugs.mysql.com/41320" target="_top">Bug#41320</a>)</p></li><li><p>
        The monitor 2.0.0.7105 and 2.0.0.7122 Solaris Intel update
        installer quits unexpectedly. The installer exits from the GUI
        in the <span class="guilabel">Backup of Previous Installation</span>
        screen, when OpenSolaris is running on top of Sun xVM.
      </p><p>
        The console output for both installer versions is given below:
      </p><pre class="programlisting">shell&gt; ./mysqlmonitor-2.0.0.7105-solaris-intel-update-installer.bin 
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  73 (X_GetImage)
  Serial number of failed request:  21161
  Current serial number in output stream:  21161</pre><pre class="programlisting">shell&gt; ./mysqlmonitor-2.0.0.7122-solaris-intel-update-installer.bin 
X Error of failed request:  BadMatch (invalid parameter attributes)
  Major opcode of failed request:  73 (X_GetImage)
  Serial number of failed request:  21148
  Current serial number in output stream:  21148</pre><p>(<a href="http://bugs.mysql.com/41315" target="_top">Bug#41315</a>)</p></li><li><p>
        The <span class="guilabel">Rename Group</span> function failed if the new
        group name was different to the current one only in the case
        used; for example, if “<span class="quote">Merlin</span>” was changed to
        “<span class="quote">MERLIN</span>”.
      </p><p>
        The error generated was:
      </p><pre class="programlisting">U0105 This group name is already in use. Enter a different name.</pre><p>(<a href="http://bugs.mysql.com/41266" target="_top">Bug#41266</a>)</p></li><li><p>
        The Agent returned an inventory list of all databases and
        tables. This information was not used by MySQL Enterprise
        Monitor, other than to populate the
        <code class="literal">inv_databases</code> and
        <code class="literal">inv_tables</code> tables. For large-scale
        deployments, where there were many databases and tables, this
        resulted in redundant XML messages being sent from the Agent to
        the Service Manager.
       (<a href="http://bugs.mysql.com/33150" target="_top">Bug#33150</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-1"></a>C.3.6. Changes in MySQL Enterprise Monitor 2.0.1 (15th December 2008)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 2.0.0.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Having an installation with over 420 master binlogs resulted in
        the <code class="literal">mysql::status</code> graph not being plotted.
       (<a href="http://bugs.mysql.com/41314" target="_top">Bug#41314</a>)</p></li><li><p>
        The MySQL Enterprise Monitor installer generated a segfault on
        RedHat Fedora 10:
      </p><pre class="programlisting">shell&gt; ./mysqlmonitor-2.0.0.7105-linux-x86-installer.bin
Segmentation fault</pre><p>(<a href="http://bugs.mysql.com/41196" target="_top">Bug#41196</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mem-news-2-0-0"></a>C.3.7. Changes in MySQL Enterprise Monitor 2.0.0 (11th December 2008)</h3></div></div></div><p>
        This section documents all changes and bug fixes that have been
        applied since the release of MySQL Enterprise Monitor, version 1.3.3.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        The <code class="literal">server-name</code> configuration parameter is
        deprecated. For compatibility, during an upgrade, the
        information will be migrated to a <code class="literal">displayname</code>
        configuration parameter within the individual instance
        configuration files. This configuration parameter is provided
        only for compatibility, as display name information is now
        stored within the main repository. Support for
        <code class="literal">displayname</code> is also deprecated and will be
        removed in a future release.
      </p></li><li><p><span class="bold"><strong>Important Note</strong></span>: 
        The rules “<span class="quote">32-Bit Binary Running on 64-Bit AMD Or Intel
        System</span>” and “<span class="quote">Key Buffer Size Greater Than 4
        GB</span>” occasionally do not evaluate correctly due to timing
        issues. This causes them to be displayed with the
        <span class="guilabel">Severity</span> level of “<span class="quote">Unknown</span>”.
        This is a known issue and will be resolved in future versions of
        MySQL Enterprise Monitor.
      </p></li><li><p><span class="bold"><strong>Important Note</strong></span>: 
        When you start the Merlin 2.0 agent from the command line on
        Windows, you get the following error dialog:
      </p><pre class="programlisting">"mysql-proxy.exe - Entry Point Not Found"
"The procedure entry point libiconv_set_relocation_prefix could not be located in the
dynamic link library iconv.dll"</pre><p>
        If you click <span class="guibutton">OK</span> the agent works fine
        after that.
      </p><p>
        This only occurs when starting the agent from the command line,
        and only when there is another version of one of the DLLs that
        the agent uses somewhere on the current path. This error can be
        avoided by opening a command prompt, typing <code class="literal">SET
        PATH=</code> to clear the path, and then starting the agent.
      </p></li><li><p><span class="bold"><strong>Important Note</strong></span>: 
        If you are monitoring one instance of MySQL server (mysqld) and
        then upgrade that MySQL server, the correct version of the MySQL
        server is not displayed in the Dashboard. This is a known issue
        that will be fixed in future versions of MySQL Enterprise
        Monitor.
      </p></li><li><p>
        The following has been added to the Tomcat
        <code class="filename">config.properties</code> properties file:
      </p><pre class="programlisting">     # max connections in the pool for the repository
     default.maxActive=70 
</pre><p>(<a href="http://bugs.mysql.com/40652" target="_top">Bug#40652</a>)</p></li><li><p>
        The dashboard could be used to change the agent password to one
        containing the <code class="literal">@</code> character, or other special
        characters, which subsequently caused errors. To fix this
        problem, special characters in passwords are now prevented by
        the dashboard. The list of disallowed special characters can be
        found at the following location:
        <a href="http://en.wikipedia.org/wiki/Percent-encoding#Types_of_URI_characters" target="_top">http://en.wikipedia.org/wiki/Percent-encoding#Types_of_URI_characters</a>
       (<a href="http://bugs.mysql.com/37172" target="_top">Bug#37172</a>)</p></li><li><p>
        The <span class="guilabel">Query Analysis</span> page was missing the
        <span class="guilabel">Refresh</span> dropdown control that the
        <span class="guilabel">Monitor</span>, <span class="guilabel">Events</span>, and
        <span class="guilabel">Graphs</span> pages had at the top.
       (<a href="http://bugs.mysql.com/36831" target="_top">Bug#36831</a>)</p></li><li><p>
        The User Interface only returned error strings, without any
        associated error codes. This meant that if the error string was
        in a language that the user did not understand, it would be very
        difficult to determine which error actually occurred.
      </p><p>
        The User Interface now supports error codes, as well as error
        strings. This change allows easier testing of multiple locales.
       (<a href="http://bugs.mysql.com/32131" target="_top">Bug#32131</a>)</p></li><li><p>
        The wording was changed on the fading popup subscription alert.
        The text “<span class="quote">account</span>” was changed to
        “<span class="quote">subscription</span>”.
       (<a href="http://bugs.mysql.com/31492" target="_top">Bug#31492</a>)</p></li><li><p>
        The alert thresholds for the Query Cache Advisor were changed:
      </p><p>
        </p><div class="informaltable"><table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th> </th><th>Information

                </th><th>Warning

                </th><th>Critical

                </th></tr></thead><tbody><tr><td>From</td><td>
                  95
                </td><td>
                  85
                </td><td>
                  75
                </td></tr><tr><td>To</td><td>
                  60
                </td><td>
                  50
                </td><td>
                  40
                </td></tr></tbody></table></div><p>
       (<a href="http://bugs.mysql.com/30969" target="_top">Bug#30969</a>)</p></li><li><p>
        The agent log file name has changed from
        <code class="filename">mysql-service-agent.log</code> to
        <code class="filename">mysql-monitor-agent.log</code>. The old log file
        will be retained during a upgrade install.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Starting a new agent against an instance that contained many
        databases broke up the initial discovery packet, causing
        collections such as CPU usage and their graphs to fail. See also
        <a href="http://bugs.mysql.com/33150" target="_top">Bug#33150</a> and <a href="http://bugs.mysql.com/41314" target="_top">Bug#41314</a>.
       (<a href="http://bugs.mysql.com/41933" target="_top">Bug#41933</a>)</p></li><li><p>
        When altering an existing rule you had to add an empty string,
        <code class="literal">""</code>, to any threshold level that was empty.
        Otherwise, the rule failed to run and the resulting exceptions
        caused the <span class="guilabel">Events</span> page to be unusable due
        to duplicate key exceptions.
       (<a href="http://bugs.mysql.com/41310" target="_top">Bug#41310</a>)</p></li><li><p>
        After installing the 2.0.0.7119 Dashboard the following error
        was generated in the logs:
      </p><pre class="programlisting">com.opensymphony.xwork2.util.OgnlValueStack  Warning  Dec 5, 2008 10:41:26 AM  Caught
an Ognl exception while getting property titleAddition</pre><p>(<a href="http://bugs.mysql.com/41252" target="_top">Bug#41252</a>)</p></li><li><p>
        The <code class="literal">dc_ng_long_now</code> table became very large
        partly due to an unused column <code class="literal">begin_time</code>.
       (<a href="http://bugs.mysql.com/41093" target="_top">Bug#41093</a>)</p></li><li><p>
        Although there was a unique constraint on the user name, it was
        not enforced during first-time setup. This resulted in a stack
        trace being produced, rather than a more user-friendly error
        message, if the same name was used for the
        <code class="literal">admin</code> and <code class="literal">agent</code> accounts.
       (<a href="http://bugs.mysql.com/40870" target="_top">Bug#40870</a>)</p></li><li><p>
        MySQL Enterprise Monitor server had stopped sending up/down SNMP
        traps.
       (<a href="http://bugs.mysql.com/40861" target="_top">Bug#40861</a>)</p></li><li><p>
        The Query Analyzer's <span class="guilabel">Explain Query</span> tab did
        not have pop up text or a link to the documentation regarding
        <code class="literal">SELECT</code> queries.
       (<a href="http://bugs.mysql.com/40841" target="_top">Bug#40841</a>)</p></li><li><p>
        When you tried to import a Trial-level advisor JAR using a Trial
        user account, one of the following error messages was generated:
      </p><pre class="programlisting">U0009 The uploaded Advisor jar was invalid</pre><pre class="programlisting">U0161 Please import a Platinum level Advisor .jar to use with this Platinum level product key</pre><p>(<a href="http://bugs.mysql.com/40834" target="_top">Bug#40834</a>)</p></li><li><p>
        Meta Info on the Dashboard did not display information for the
        meta data <code class="literal">os_description</code>.
       (<a href="http://bugs.mysql.com/40830" target="_top">Bug#40830</a>)</p></li><li><p>
        Attempting to create an alias of statements such as
        <code class="literal">COMMIT</code>, <code class="literal">ROLLBACK</code>,
        <code class="literal">BEGIN</code>, resulted in the error:
      </p><pre class="programlisting">Can't find template commitTnx.st; group hierarchy is [HTMLFormatting]
org.antlr.stringtemplate.StringTemplateGroup.lookupTemplate(StringTemplateGroup.java:507)
</pre><p>(<a href="http://bugs.mysql.com/40736" target="_top">Bug#40736</a>)</p></li><li><p>
        Trying to upgrade from 2.0.0.7088 to 2.0.0.7092 failed as there
        was a missing file. When the update program
        <code class="filename">mysqlmonitor-2.0.0.7092-solaris-intel-update-installer.bin</code>
        was run, the file
        <code class="filename">/tmp/com/mysql/merlin/server/version.props</code>
        could not be found.
       (<a href="http://bugs.mysql.com/40692" target="_top">Bug#40692</a>)</p></li><li><p>
        On OS X with Java 1.5, Tomcat crashed on launch with the error:
      </p><pre class="programlisting">Invalid memory access of location 00000007 eip=013df179
</pre><p>(<a href="http://bugs.mysql.com/40689" target="_top">Bug#40689</a>)</p></li><li><p>
        When the agent was installed using the command line installer
        and <code class="option">--enableproxy 0</code> was specified, the
        installer should have removed <code class="filename">quan.lua</code> from
        the <code class="option">agent-item-files</code> option in the INI file.
       (<a href="http://bugs.mysql.com/40551" target="_top">Bug#40551</a>)</p></li><li><p>
        The Agent could not connect to a database with the
        <code class="literal">hostname</code> set to <code class="literal">localhost</code>.
        Doing so resulted in the error:
      </p><pre class="programlisting">(critical) the MySQL server could not be reached at socket '(null)', we will check in 10 seconds
</pre><p>(<a href="http://bugs.mysql.com/40530" target="_top">Bug#40530</a>)</p></li><li><p>
        The update installer for the 2.0 Monitor did not have an
        <span class="guilabel">Is SSL support required?</span> checkbox.
        Therefore, the appropriate SSL connector definition was
        commented out in the <code class="filename">conf/server.xml</code> file.
       (<a href="http://bugs.mysql.com/40414" target="_top">Bug#40414</a>)</p></li><li><p>
        The Service Manager installer did not uninstall or wipe out the
        previous installation if you answered “<span class="quote">Yes</span>” to the
        question:
      </p><p>
        “<span class="quote">The directory you selected already contains a MySQL
        installation. If you continue installation all data will be
        lost. Do you wish to continue?</span>”
       (<a href="http://bugs.mysql.com/40410" target="_top">Bug#40410</a>)</p></li><li><p>
        If you unchecked the <span class="guilabel">Enable Proxy</span> checkbox
        on the <span class="guilabel">Query Analysis Configuration</span> screen,
        the agent's INI file still contained proxy configuration data
        and was not commented out.
       (<a href="http://bugs.mysql.com/40272" target="_top">Bug#40272</a>)</p></li><li><p>
        As different queries were sent through the agent it used
        increasing amounts of memory.
       (<a href="http://bugs.mysql.com/40260" target="_top">Bug#40260</a>)</p></li><li><p>
        The Service Manager installer set the Java Virtual Machine
        option <code class="literal">HeapDumpPath</code> to
        <code class="filename">&lt;install_root&gt;\temp</code> on Windows and
        <code class="filename">/tmp</code> on other platforms. For consistency
        the <code class="literal">HeapDumpPath</code> directory should have been
        set to <code class="filename">&lt;install_root&gt;\tmp</code> on Windows.
       (<a href="http://bugs.mysql.com/40215" target="_top">Bug#40215</a>)</p></li><li><p>
        When using the command line agent setup program, a socket file
        was not accepted for the monitored instance.
       (<a href="http://bugs.mysql.com/40085" target="_top">Bug#40085</a>)</p></li><li><p>
        The language option when installing the MySQL Enterprise Monitor in Japanese
        using the command-line instllaer has been changed from
        <code class="literal">jp</code> to <code class="literal">ja</code>.
       (<a href="http://bugs.mysql.com/40082" target="_top">Bug#40082</a>)</p></li><li><p>
        When monitoring MySQL 5.1.24 and above, the user used by the
        agent to connect to the MySQL server for monitoring must have
        the <code class="literal">PROCESS</code> privilege.
       (<a href="http://bugs.mysql.com/40050" target="_top">Bug#40050</a>)</p></li><li><p>
        The check box option string “<span class="quote">Is SSL support
        required?</span>”, on the Tomcat Server Option dialog of the
        Monitor installation, was not correctly translated into
        Japanese.
       (<a href="http://bugs.mysql.com/39814" target="_top">Bug#39814</a>)</p></li><li><p>
        The base application directory for the MySQL Enterprise Dashboard has been
        updated from <code class="literal">http://localhost:18080/merlin</code> to
        <code class="literal">http://localhost:18080/</code>.
       (<a href="http://bugs.mysql.com/39403" target="_top">Bug#39403</a>)</p></li><li><p>
        If the Service Manager or the MySQL Server running the
        Repository crashed, they did not restart automatically.
       (<a href="http://bugs.mysql.com/39377" target="_top">Bug#39377</a>)</p></li><li><p>
        If the agent crashed, there was no watchdog, angel or keep-alive
        mechanism to restart the agent and keep it running.
       (<a href="http://bugs.mysql.com/39374" target="_top">Bug#39374</a>)</p></li><li><p>
        If the MySQL client libraries were located in a non-standard
        location, the agent 2.0.0.7042 installer failed with a
        “<span class="quote">library not found</span>” error.
       (<a href="http://bugs.mysql.com/39317" target="_top">Bug#39317</a>)</p></li><li><p>
        For the rule “<span class="quote">Server-Enforced Data Integrity Checking Not
        Strict</span>”, the Recommended Action did not display
        correctly. It displayed as <code class="literal">SET
        sql_mode=modes</code>, rather than <code class="literal">SET
        [GLOBAL|SESSION] sql_mode=modes</code>.
       (<a href="http://bugs.mysql.com/39261" target="_top">Bug#39261</a>)</p></li><li><p>
        A query that was issued through the proxy, and that had an
        auto-explain performed on that query, did not give the correct
        response to a subsequent query of <code class="literal">SELECT
        FOUND_ROWS()</code>.
       (<a href="http://bugs.mysql.com/39223" target="_top">Bug#39223</a>)</p></li><li><p>
        It was not possible to establish a connection with the Dashboard
        using the SSL protocol (https://).
       (<a href="http://bugs.mysql.com/39198" target="_top">Bug#39198</a>)</p></li><li><p>
        When a 1.3 MySQL Enterprise Monitor installation with many rules
        scheduled was upgraded to 2.0, the upgraded installation was
        then found to have only the heat chart rules scheduled.
       (<a href="http://bugs.mysql.com/39043" target="_top">Bug#39043</a>)</p></li><li><p>
        The agent installer did not allow a second agent to be installed
        on Windows.
       (<a href="http://bugs.mysql.com/38976" target="_top">Bug#38976</a>)</p></li><li><p>
        The Dashboard incorrectly diplayed that insufficient licenses
        were available, even though sufficient licenses had been
        purchased.
       (<a href="http://bugs.mysql.com/38514" target="_top">Bug#38514</a>)</p></li><li><p>
        After running the MySQL Service Agent uninstall program, the
        file <code class="filename">/etc/init.d/mysql-service-agent</code>
        remained present on the server.
       (<a href="http://bugs.mysql.com/38490" target="_top">Bug#38490</a>)</p></li><li><p>
        The notice fader continued to display English text after you
        changed the locale to Japanese.
       (<a href="http://bugs.mysql.com/38460" target="_top">Bug#38460</a>)</p></li><li><p>
        The <span class="guilabel">Subscription Expired</span> pop-up window
        referred to the “<span class="quote">Global Preferences</span>” page, instead
        of the “<span class="quote">Global Settings</span>” page.
       (<a href="http://bugs.mysql.com/38358" target="_top">Bug#38358</a>)</p></li><li><p>
        An inappropriate time zone was used to parse user-entered date
        and time strings.
       (<a href="http://bugs.mysql.com/38323" target="_top">Bug#38323</a>)</p></li><li><p>
        A sigar network stats error was generated on the Solaris
        platform:
      </p><pre class="programlisting"># /opt/mysql/enterprise/agent/bin/mysql-service-agent --version
MySQL Service Agent - 1.2.0.7879, (glib lib=2.8.5, headers=2.8.5)

SunOS mysqlprd01 5.10 Generic_127127-11 sun4v sparc SUNW,T5240

2008-07-21 10:07:24: (critical) sigar_net_interface_config_primary_get() failed: 6
2008-07-21 10:08:00: (critical) sigar_net_interface_config_primary_get() failed: 6

# /opt/mysql/enterprise/agent/bin/sigar-test-all &gt;/tmp/test.txt
sigar_net_interface_stat_get(e1000g0:2) failed#</pre><p>(<a href="http://bugs.mysql.com/38302" target="_top">Bug#38302</a>)</p></li><li><p>
        After deleting a server from the <span class="guilabel">Settings</span>,
        <span class="guilabel">Manage Servers</span> tab, at the very bottom of
        the page the <span class="guilabel">Monitoring x instances on x
        host</span> values did not reflect the deletion.
       (<a href="http://bugs.mysql.com/38225" target="_top">Bug#38225</a>)</p></li><li><p>
        The MySQL Enterprise Monitor alert “<span class="quote">INFO Alert - Users Can
        View All Databases On MySQL Server (v 1.5 *)</span>” from the
        Security advisor was incorrect. This is because the default
        server behavior allows users to see databases for which they
        have privileges, not “<span class="quote">all databases on server</span>” as
        suggested by the alert.
       (<a href="http://bugs.mysql.com/38052" target="_top">Bug#38052</a>)</p></li><li><p>
        The “<span class="quote">Maximum Connection Limit Nearing Or Reached</span>”
        advisor did not generate a new Critical Alert event when there
        was an open info success event.
       (<a href="http://bugs.mysql.com/37816" target="_top">Bug#37816</a>)</p></li><li><p>
        The Linux IA64 installer appeared to crash. The installer
        appeared to crash on RH4_IA64 if called with option "--version":
      </p><pre class="programlisting">-------------------------------------------------------------------------------
&lt;INSTALLER&gt; --version                                                                
mysqlmonitorage(30704): unaligned access to 0x6000000000a8413c, ip=0x2000000003ddd5f0
mysqlmonitorage(30704): unaligned access to 0x6000000000a84144, ip=0x2000000003ddd5f1
mysqlmonitorage(30704): unaligned access to 0x6000000000a8414c, ip=0x2000000003ddd600
mysqlmonitorage(30704): unaligned access to 0x6000000000a84154, ip=0x2000000003ddd601
MySQL Enterprise Monitor Agent 0.7.0.1737 --- Built on 2008-06-25 19:31:53           

-------------------------------------------------------------------------------</pre><p>
        However, this warning is harmless and will not impact the
        operation of the agent.
       (<a href="http://bugs.mysql.com/37496" target="_top">Bug#37496</a>)</p></li><li><p>
        If the log-level option in the agent configuration file was set
        to an unknown level by mistake, the <code class="literal">init.d</code>
        script appeared to enter an infinite loop.
       (<a href="http://bugs.mysql.com/37108" target="_top">Bug#37108</a>)</p></li><li><p>
        Malformatted server meta information appeared on the Dashboard;
        <span class="guilabel">RAM</span> and <span class="guilabel">Disk Space</span>
        appeared under the <span class="guilabel">CPU</span> category.
       (<a href="http://bugs.mysql.com/36740" target="_top">Bug#36740</a>)</p></li><li><p>
        A “<span class="quote">rename</span>” link incorrectly appeared next to the
        <span class="guilabel">Upgrade</span> category on the <span class="guilabel">Manage
        Rules</span> page.
       (<a href="http://bugs.mysql.com/36584" target="_top">Bug#36584</a>)</p></li><li><p>
        In the case where exceptions were passed through to the User
        Interface, the substituted arguments in the message contained
        developer-only information.
       (<a href="http://bugs.mysql.com/36580" target="_top">Bug#36580</a>)</p></li><li><p>
        <span class="guilabel">Agent Version</span>, <span class="guilabel">Last MySQL
        Contact</span>, <span class="guilabel">OS Info</span>, <span class="guilabel">CPU
        Info</span>, and <span class="guilabel">IP Addresses</span> were all
        blank on the dashboard when the agent for the selected server
        was not functioning.
       (<a href="http://bugs.mysql.com/36301" target="_top">Bug#36301</a>)</p></li><li><p>
        <span><strong class="command">mysql-monitor-agent</strong></span> became confused by the
        <code class="filename">.DS_Store</code> files that are created on Mac OS
        X.
       (<a href="http://bugs.mysql.com/36216" target="_top">Bug#36216</a>)</p></li><li><p>
        The rule “<span class="quote">Key Buffer Size Greater Than 4 GB</span>”
        incorrectly triggered the following alert:
      </p><p>
        <span class="errortext">CRITICAL Alert - Key Buffer Size Greater Than 4
        GB</span>
      </p><p>
        However, on non-Windows systems, a key buffer size greater than
        4 GB is supported.
       (<a href="http://bugs.mysql.com/36143" target="_top">Bug#36143</a>)</p></li><li><p>
        Since the repository database for MySQL Enterprise Monitor uses
        InnoDB there was no way to reduce the size of the data files
        after an old log/event data purge operation. Further, the purge
        data operation executed once per day, and had no option to
        trigger the purge operation manually.
       (<a href="http://bugs.mysql.com/35971" target="_top">Bug#35971</a>)</p></li><li><p>
        On the Graphs page, if all graphs were expanded, then the Time
        Display interval updated, the page was refreshed with the
        <span class="guibutton">Expand All</span> button displayed, even though
        all the graphs were already expanded.
       (<a href="http://bugs.mysql.com/35917" target="_top">Bug#35917</a>, <a href="http://bugs.mysql.com/35133" target="_top">Bug#35133</a>)</p></li><li><p>
        The Meta Info area of the Monitor page incorrectly reported the
        operating system version number for the MySQL version.
       (<a href="http://bugs.mysql.com/35836" target="_top">Bug#35836</a>)</p></li><li><p>
        The rule “<span class="quote">XA Distributed Transaction Support Enabled For
        InnoDB</span>” incorrectly sent a warning when the binary log
        was on.
       (<a href="http://bugs.mysql.com/35786" target="_top">Bug#35786</a>)</p></li><li><p>
        On the Monitor page, the time displayed for <code class="literal">Last MySQL
        Contact</code> lagged behind that for <code class="literal">Last Agent
        Contact</code> by a large amount.
       (<a href="http://bugs.mysql.com/35774" target="_top">Bug#35774</a>)</p></li><li><p>
        MySQL Enterprise Monitor did not update replication settings
        correctly. After a slave became the master, the Adviser still
        referred to it as a slave.
       (<a href="http://bugs.mysql.com/35771" target="_top">Bug#35771</a>)</p></li><li><p>
        The Adviser email suggested using the
        <code class="literal">--log-queries-not-using-indexes</code> option.
        However, this option is not available in MySQL Server versions
        prior to 4.1.
       (<a href="http://bugs.mysql.com/35770" target="_top">Bug#35770</a>)</p></li><li><p>
        Thumbnail graphs did not update properly after a time zone
        change.
       (<a href="http://bugs.mysql.com/35756" target="_top">Bug#35756</a>)</p></li><li><p>
        If a system had a global <code class="literal">wait_timeout</code> lower
        than the general activity of the agent, the agent was
        disconnected. The monitored server then logged an error and
        incremented <code class="literal">Aborted_clients</code>.
       (<a href="http://bugs.mysql.com/35648" target="_top">Bug#35648</a>)</p></li><li><p>
        Alerts fired after a blackout period based on data collections
        that happened during the blackout.
       (<a href="http://bugs.mysql.com/35617" target="_top">Bug#35617</a>)</p></li><li><p>
        The translation of the <span class="guibutton">Add Row</span> button on
        the Rule Definition window was incorrect.
       (<a href="http://bugs.mysql.com/35495" target="_top">Bug#35495</a>)</p></li><li><p>
        An uninstallation message asked about removing Apache files,
        even though Apache is no longer used.
       (<a href="http://bugs.mysql.com/35154" target="_top">Bug#35154</a>)</p></li><li><p>
        After updating from a previous version to the latest 1.3
        version, the <span class="guilabel">Query Cache Has Sub-Optimal Hit
        Rate</span> was still displayed in English after setting the
        locale to Japanese. Note, the rule was translated correctly if
        the full installer was used.
       (<a href="http://bugs.mysql.com/35134" target="_top">Bug#35134</a>)</p></li><li><p>
        The MySQL Enterprise Monitor uninstall dialog box had missing
        text when using the Japanese locale.
       (<a href="http://bugs.mysql.com/34982" target="_top">Bug#34982</a>)</p></li><li><p>
        Running the installer with the <code class="option">--help</code> option
        caused an incorrect message to be displayed.
       (<a href="http://bugs.mysql.com/34200" target="_top">Bug#34200</a>)</p></li><li><p>
        When using the unattended <code class="filename">unInstall</code> script
        on Linux together with the option <code class="option">--env
        deleteUserData=yes</code> the correct warning text was
        displayed. However, this text should not be displayed in
        unattended mode. Further, the option <code class="option">--env
        deleteUserData=yes</code> was not displayed by the
        <code class="option">--help</code> output.
       (<a href="http://bugs.mysql.com/34071" target="_top">Bug#34071</a>)</p></li><li><p>
        Platinum Unlimited customers sometimes received a warning
        stating incorrectly that their subscription supported zero
        hosts.
       (<a href="http://bugs.mysql.com/34010" target="_top">Bug#34010</a>)</p></li><li><p>
        Clicking on the resolution notes link for a closed event on the
        events tab showed incorrect behaviour. The popup initially
        showed the resolution notes, but when the resolution tab was
        clicked the notes disappeared and were replaced by an edit box.
       (<a href="http://bugs.mysql.com/33935" target="_top">Bug#33935</a>)</p></li><li><p>
        The status on the product information page was not translated
        when the user locale was set to Japanese.
       (<a href="http://bugs.mysql.com/32785" target="_top">Bug#32785</a>)</p></li><li><p>
        When the locale was set to Japanese, the date picker still had
        English month titles.
       (<a href="http://bugs.mysql.com/32741" target="_top">Bug#32741</a>)</p></li><li><p>
        Flashing display of a pop-up used while saving outgoing email
        settings was caused by problematic initial placement
        calculations.
       (<a href="http://bugs.mysql.com/32579" target="_top">Bug#32579</a>)</p></li><li><p>
        AIX 5.2 Agent did not work on AIX 5.3.
       (<a href="http://bugs.mysql.com/32414" target="_top">Bug#32414</a>)</p></li><li><p>
        When the First Time Setup program was run it did not prompt the
        user to allow importing an Advisor bundle.
       (<a href="http://bugs.mysql.com/32199" target="_top">Bug#32199</a>)</p></li><li><p>
        Agent on MacOSX did not read IP addresses for network interfaces
        correctly, so the monitor displayed empty host IP addresses.
       (<a href="http://bugs.mysql.com/32188" target="_top">Bug#32188</a>)</p></li><li><p>
        HTML code in queries was not escaped when reporting replication
        errors, causing the code to be rendered into the page.
       (<a href="http://bugs.mysql.com/32186" target="_top">Bug#32186</a>)</p></li><li><p>
        The First Run pop-up defaulted to English rather than to the
        locale set in the browser.
       (<a href="http://bugs.mysql.com/32129" target="_top">Bug#32129</a>)</p></li><li><p>
        The error dialog box flashed in the upper left corner before
        being positioned in the center of the screen. This error dialog
        box now opens in the center of the screen.
       (<a href="http://bugs.mysql.com/32068" target="_top">Bug#32068</a>)</p></li><li><p>
        The Events list did not take into account Daylight Time and
        Standard Time when listing events that happened during
        1:00am-1:59am. An event that occurred at 1:10am Standard Time
        was listed before an event that occurred 50 minutes before it at
        1:20am Daylight Time.
       (<a href="http://bugs.mysql.com/32016" target="_top">Bug#32016</a>)</p></li><li><p>
        The pop-up for editing log levels failed to load due to bad
        instantiation data.
       (<a href="http://bugs.mysql.com/32013" target="_top">Bug#32013</a>)</p></li><li><p>
        During the repeated hour of Daylight Savings Time (when 2am
        turns back into 1am), the graphs were not drawing data. Instead,
        there was a straight line from the point at 1:00 to the second
        1:00, which is what happens if there is no data. The repository
        did, however, have data for this hour.
       (<a href="http://bugs.mysql.com/31997" target="_top">Bug#31997</a>)</p></li><li><p>
        Only US English was supported for a locale setting. Other
        English variants are now available for the
        <code class="literal">locale</code> setting on the <code class="literal">General
        Settings</code> or the <code class="literal">User Preferences</code>
        pages.
       (<a href="http://bugs.mysql.com/31801" target="_top">Bug#31801</a>)</p></li><li><p>
        If the user locale was changed the graph cache would continue to
        display the graph in the last locale until it timed out.
       (<a href="http://bugs.mysql.com/31680" target="_top">Bug#31680</a>)</p></li><li><p>
        No init script was installed for the MySQL Network Monitoring
        Service Manager, and so it did not restart automatically on
        reboot.
       (<a href="http://bugs.mysql.com/31676" target="_top">Bug#31676</a>)</p></li><li><p>
        The graph's displayed time was not the local time of the
        Dashboard corresponding to the requested time on the monitored
        server.
       (<a href="http://bugs.mysql.com/31656" target="_top">Bug#31656</a>)</p></li><li><p>
        Saving a rule with a name that already existed resulted in a
        stack trace in the window, instead of a more user-friendly error
        message.
       (<a href="http://bugs.mysql.com/30925" target="_top">Bug#30925</a>)</p></li><li><p>
        The <code class="literal">network.mysql.com</code> error messages were
        remapped thereby causing confusion. For example, the following
        error message:
      </p><p>
        <span class="errortext">E9000: MySQL Enterprise Customer Center is having
        difficulties fetching your contract information. Please contact
        enterprise-feedback@mysql.com for assistance. </span>
      </p><p>
        Was remapped to:
      </p><p>
        <span class="errortext">Unable to connect to verify credentials</span>
       (<a href="http://bugs.mysql.com/30873" target="_top">Bug#30873</a>)</p></li><li><p>
        A newly added server showed as “<span class="quote">down</span>” in the user
        interface, and could potentially have sent a false alarm
        notification.
       (<a href="http://bugs.mysql.com/30735" target="_top">Bug#30735</a>)</p></li><li><p>
        The information on the <span class="guimenu">Advisors</span>,
        <span class="guimenu">Check For Updates</span> page did not accurately
        reflect how many rules and graphs were actually in the database
        and available to the user.
       (<a href="http://bugs.mysql.com/29623" target="_top">Bug#29623</a>)</p></li><li><p>
        The agent did not process <code class="literal">SIGHUP</code>.
       (<a href="http://bugs.mysql.com/29380" target="_top">Bug#29380</a>)</p></li><li><p>
        Monitor did not have a facility to stop or downgrade an agent
        collection frequency.
       (<a href="http://bugs.mysql.com/28589" target="_top">Bug#28589</a>)</p></li><li><p>
        After an agent installation was updated from 1.0.1.4391 to
        1.1.0.4899, the version in the <span class="guimenu">Add/Remove
        Programs</span> menu was incorrectly displayed as 1.0.1.4391,
        even though the update was successful and the file version of
        <code class="filename">agent.exe</code> was correctly displayed as
        1.1.0.4899.
       (<a href="http://bugs.mysql.com/27447" target="_top">Bug#27447</a>)</p></li><li><p>
        When viewing the <span class="guilabel">Results</span> of an
        <span class="guilabel">Event</span> in the <span class="guilabel">Events</span>
        tab of the <span class="guilabel">Dashboard</span>, the
        <span class="guilabel">Notifications</span> section did not reflect the
        <span class="guilabel">Notifications</span> settings at the time the
        <span class="guilabel">Event</span> was triggered, but rather the
        <span class="guilabel">Notifications</span> settings at the time the
        <span class="guilabel">Event Results</span> were viewed.
       (<a href="http://bugs.mysql.com/26349" target="_top">Bug#26349</a>)</p></li><li><p>
        When the Service Agent was remotely monitoring a MySQL server it
        incorrectly reported that it could collect operating system
        information.
       (<a href="http://bugs.mysql.com/22497" target="_top">Bug#22497</a>)</p></li><li><p>
        The Account Without Password advisor did not report all users
        who were without a password, it only reported one.
       (<a href="http://bugs.mysql.com/15165" target="_top">Bug#15165</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="connector-odbc-news"></a>C.4. MySQL Connector/ODBC (MyODBC) Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-6">C.4.1. Changes in MySQL Connector/ODBC 5.1.6 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-5">C.4.2. Changes in MySQL Connector/ODBC 5.1.5 (18 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-4">C.4.3. Changes in MySQL Connector/ODBC 5.1.4 (15 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-3">C.4.4. Changes in MySQL Connector/ODBC 5.1.3 (26 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-2">C.4.5. Changes in MySQL Connector/ODBC 5.1.2 (13 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-1">C.4.6. Changes in MySQL Connector/ODBC 5.1.1 (13 December 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-1-0">C.4.7. Changes in MySQL Connector/ODBC 5.1.0 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-12">C.4.8. Changes in MySQL Connector/ODBC 5.0.12 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-11">C.4.9. Changes in MySQL Connector/ODBC 5.0.11 (31 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-10">C.4.10. Changes in MySQL Connector/ODBC 5.0.10 (14 December 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-9">C.4.11. Changes in MySQL Connector/ODBC 5.0.9 (22 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-8">C.4.12. Changes in MySQL Connector/ODBC 5.0.8 (17 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-7">C.4.13. Changes in MySQL Connector/ODBC 5.0.7 (08 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-6">C.4.14. Changes in MySQL Connector/ODBC 5.0.6 (03 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-5">C.4.15. Changes in MySQL Connector/ODBC 5.0.5 (17 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-3">C.4.16. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-2">C.4.17. Changes in Connector/ODBC 5.0.2 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-5-0-1">C.4.18. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-27">C.4.19. Changes in MySQL Connector/ODBC 3.51.27 (20 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-26">C.4.20. Changes in MySQL Connector/ODBC 3.51.26 (07 July 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-25">C.4.21. Changes in MySQL Connector/ODBC 3.51.25 (11 April 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-24">C.4.22. Changes in MySQL Connector/ODBC 3.51.24 (14 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-23">C.4.23. Changes in MySQL Connector/ODBC 3.51.23 (09 January 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-22">C.4.24. Changes in MySQL Connector/ODBC 3.51.22 (13 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-21">C.4.25. Changes in MySQL Connector/ODBC 3.51.21 (08 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-20">C.4.26. Changes in MySQL Connector/ODBC 3.51.20 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-19">C.4.27. Changes in MySQL Connector/ODBC 3.51.19 (10 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-18">C.4.28. Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-17">C.4.29. Changes in MySQL Connector/ODBC 3.51.17 (14 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-16">C.4.30. Changes in MySQL Connector/ODBC 3.51.16 (14 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-15">C.4.31. Changes in MySQL Connector/ODBC 3.51.15 (07 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-14">C.4.32. Changes in MySQL Connector/ODBC 3.51.14 (08 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-13">C.4.33. Changes in MySQL Connector/ODBC 3.51.13 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-12">C.4.34. Changes in MySQL Connector/ODBC 3.51.12 (11 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-odbc-news-3-51-11">C.4.35. Changes in MySQL Connector/ODBC 3.51.11 (28 January 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-6"></a>C.4.1. Changes in MySQL Connector/ODBC 5.1.6 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC failed to build with MySQL 5.1.30 due to
        incorrect use of the data type <code class="literal">bool</code>.
       (<a href="http://bugs.mysql.com/42120" target="_top">Bug#42120</a>)</p></li><li><p>
        Calling <code class="literal">SQLDescribeCol()</code> with a NULL buffer
        and non-zero buffer length caused a crash.
       (<a href="http://bugs.mysql.com/41942" target="_top">Bug#41942</a>)</p></li><li><p>
        MySQL Connector/ODBC updated some fields with random values,
        rather than with <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/41256" target="_top">Bug#41256</a>)</p></li><li><p>
        Calling <code class="literal">SQLDriverConnect()</code> with a
        <code class="literal">NULL</code> pointer for the output buffer caused a
        crash if <code class="literal">SQL_DRIVER_NOPROMPT</code> was also
        specified:
      </p><pre class="programlisting">SQLDriverConnect(dbc, NULL, "DSN=myodbc5", SQL_NTS, NULL, 0, NULL, SQL_DRIVER_NOPROMPT)
</pre><p>(<a href="http://bugs.mysql.com/40316" target="_top">Bug#40316</a>)</p></li><li><p>
        Setting the ADO <code class="literal">Recordset</code> decimal field value
        to 44.56 resulted in an incorrect value of 445600.0000 being
        stored when the record set was updated with the
        <code class="literal">Update</code> method.
       (<a href="http://bugs.mysql.com/39961" target="_top">Bug#39961</a>)</p></li><li><p>
        The <code class="literal">SQLTablesW</code> API gave incorrect results.
        For example, table name and table type were returned as
        <code class="literal">NULL</code> rather than as the correct values.
       (<a href="http://bugs.mysql.com/39957" target="_top">Bug#39957</a>)</p></li><li><p>
        If the table used any Cyrillic charset (cp1251, koi8r, cp866)
        and text columns contained symbols from these code pages, then
        <code class="literal">SELECT</code> through Connector/ODBC returned an
        error:
      </p><pre class="programlisting">[MySQL][ODBC 5.1 Driver][mysqld-5.0.27-community-nt]Restricted data type attribute violation
</pre><p>
        The same is true when inserting Cyrillic characters into a text
        column in a MySQL table, through Connector/ODBC.
       (<a href="http://bugs.mysql.com/39831" target="_top">Bug#39831</a>)</p></li><li><p>
        When the <code class="methodname">SQLTables</code> method was called
        with <code class="literal">NULL</code> passed as the
        <code class="literal">tablename</code> parameter, only one row in the
        <code class="literal">resultset</code>, with table name of
        <code class="literal">NULL</code> was returned, instead of all tables for
        the given database.
       (<a href="http://bugs.mysql.com/39561" target="_top">Bug#39561</a>)</p></li><li><p>
        The <code class="literal">SQLGetInfo()</code> function returned 0 for
        <code class="literal">SQL_CATALOG_USAGE</code> information.
       (<a href="http://bugs.mysql.com/39560" target="_top">Bug#39560</a>)</p></li><li><p>
        MyODBC Driver 5.1.5 was not able to connect if the connection
        string parameters contained spaces or tab symbols. For example,
        if the <code class="literal">SERVER</code> parameter was specified as
        “<span class="quote">SERVER= localhost</span>” instead of
        “<span class="quote">SERVER=localhost</span>” the following error message will
        be displayed:
      </p><pre class="programlisting">[MySQL][ODBC 5.1 Driver] Unknown MySQL server host ' localhost' (11001).
</pre><p>(<a href="http://bugs.mysql.com/39085" target="_top">Bug#39085</a>)</p></li><li><p>
        The pointer passed to the
        <code class="methodname">SQLDriverConnect</code> method to retrieve the
        output connection string length was one greater than it should
        have been due to the inclusion of the NULL terminator.
       (<a href="http://bugs.mysql.com/38949" target="_top">Bug#38949</a>)</p></li><li><p>
        Data-at-execution parameters were not supported during
        positioned update. This meant updating a long text field with a
        cursor update would erroneously set the value to null. This
        would lead to the error <code class="literal">Column 'column_name' cannot be
        null</code> while updating the database, even when
        <code class="literal">column_name</code> had been assigned a valid
        non-null string.
       (<a href="http://bugs.mysql.com/37649" target="_top">Bug#37649</a>)</p></li><li><p>
        The <code class="methodname">SQLDriverConnect</code> method truncated
        the <code class="literal">OutputConnectionString</code> parameter to 52
        characters.
       (<a href="http://bugs.mysql.com/37278" target="_top">Bug#37278</a>)</p></li><li><p>
        The connection string option <code class="literal">Enable
        Auto-reconnect</code> did not work. When the connection
        failed, it could not be restored, and the errors generated were
        the same as if the option had not been selected.
       (<a href="http://bugs.mysql.com/37179" target="_top">Bug#37179</a>)</p></li><li><p>
        No result record was returned for
        <code class="literal">SQLGetTypeInfo</code> for the
        <code class="literal">TIMESTAMP</code> data type. An application would
        receive the result <code class="literal">return code 100
        (SQL_NO_DATA_FOUND)</code>.
       (<a href="http://bugs.mysql.com/30626" target="_top">Bug#30626</a>)</p></li><li><p>
        It was not possible to use Connector/ODBC to connect to a server
        using SSL. The following error was generated:
      </p><pre class="programlisting">Runtime error '-2147467259 (80004005)':

[MySQL][ODBC 3.51 Driver]SSL connection error.
</pre><p>(<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>)</p></li><li><p>
        When the <code class="literal">recordSet.Update</code> function was called
        to update an <code class="literal">adLongVarChar</code> field, the field
        was updated but the recordset was immediately lost. This
        happened with driver cursors, whether the cursor was opened in
        optimistic or pessimistic mode.
      </p><p>
        When the next update was called the test code would exit with
        the following error:
      </p><pre class="programlisting">-2147467259 : Query-based update failed because the row to update could not be found.
</pre><p>(<a href="http://bugs.mysql.com/26950" target="_top">Bug#26950</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-5"></a>C.4.2. Changes in MySQL Connector/ODBC 5.1.5 (18 August 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        ODBC <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> string format is
        not handled properly by the MyODBC driver. When passing a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> or
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> to MyODBC, in the ODBC
        format: {d &lt;date&gt;} or {ts &lt;timestamp&gt;}, the string
        that represents this is copied once into the SQL statement, and
        then added again, as an escaped string.
       (<a href="http://bugs.mysql.com/37342" target="_top">Bug#37342</a>)</p></li><li><p>
        The connector failed to prompt for additional information
        required to create a DSN-less connection from an application
        such as Microsoft Excel.
       (<a href="http://bugs.mysql.com/37254" target="_top">Bug#37254</a>)</p></li><li><p>
        <code class="literal">SQLDriverConnect</code> does not return
        <code class="literal">SQL_NO_DATA</code> on cancel. The ODBC documentation
        specifies that this method should return
        <code class="literal">SQL_NO_DATA</code> when the user cancels the dialog
        to connect. The connector, however, returns
        <code class="literal">SQL_ERROR</code>.
       (<a href="http://bugs.mysql.com/36293" target="_top">Bug#36293</a>)</p></li><li><p>
        Assigning a string longer than 67 characters to the
        <code class="literal">TableType</code> parameter resulted in a buffer
        overrun when the <code class="function">SQLTables()</code> function was
        called.
       (<a href="http://bugs.mysql.com/36275" target="_top">Bug#36275</a>)</p></li><li><p>
        The ODBC connector randomly uses logon information stored in
        <code class="literal">odbc-profile</code>, or prompts the user for
        connection information and ignores any settings stored in
        <code class="literal">odbc-profile</code>.
       (<a href="http://bugs.mysql.com/36203" target="_top">Bug#36203</a>)</p></li><li><p>
        After having successfully established a connection, a crash
        occurs when calling <code class="function">SQLProcedures()</code>
        followed by <code class="function">SQLFreeStmt()</code>, using the ODBC C
        API.
       (<a href="http://bugs.mysql.com/36069" target="_top">Bug#36069</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-4"></a>C.4.3. Changes in MySQL Connector/ODBC 5.1.4 (15 April 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Wrong result obtained when using <code class="function">sum()</code> on a
        <code class="literal">decimal(8,2)</code> field type.
       (<a href="http://bugs.mysql.com/35920" target="_top">Bug#35920</a>)</p></li><li><p>
        The driver installer could not create a new DSN if many other
        drivers were already installed.
       (<a href="http://bugs.mysql.com/35776" target="_top">Bug#35776</a>)</p></li><li><p>
        The <code class="function">SQLColAttribute()</code> function returned
        <code class="literal">SQL_TRUE</code> when querying the
        <code class="literal">SQL_DESC_FIXED_PREC_SCALE (SQL_COLUMN_MONEY)</code>
        attribute of a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column.
        Previously, the correct value of <code class="literal">SQL_FALSE</code>
        was returned; this is now again the case.
       (<a href="http://bugs.mysql.com/35581" target="_top">Bug#35581</a>)</p></li><li><p>
        On Linux, <code class="function">SQLGetDiagRec()</code> returned
        <code class="literal">SQL_SUCCESS</code> in cases when it should have
        returned <code class="literal">SQL_NO_DATA</code>.
       (<a href="http://bugs.mysql.com/33910" target="_top">Bug#33910</a>)</p></li><li><p>
        The driver crashes ODBC Administrator on attempting to add a new
        DSN.
       (<a href="http://bugs.mysql.com/32057" target="_top">Bug#32057</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-3"></a>C.4.4. Changes in MySQL Connector/ODBC 5.1.3 (26 March 2008)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        You must uninstall previous 5.1.x editions of Connector/ODBC
        before installing the new version.
      </p></li><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        The installer for 64-bit Windows installs both the 32-bit and
        64-bit driver. Please note that Microsoft does not yet supply a
        64-bit bridge from ADO to ODBC.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Important Change</strong></span>: 
        In previous versions, the SSL certificate would automatically be
        verified when used as part of the Connector/ODBC connection. The
        default mode is now to ignore the verificate of certificates. To
        enforce verification of the SSL certificate during connection,
        use the <code class="option">SSLVERIFY</code> DSN parameter, setting the
        value to 1.
       (<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>, <a href="http://bugs.mysql.com/34648" target="_top">Bug#34648</a>)</p></li><li><p>
        Inserting characters to a UTF8 table using surrogate pairs would
        fail and insert invalid data.
       (<a href="http://bugs.mysql.com/34672" target="_top">Bug#34672</a>)</p></li><li><p>
        Installation of Connector/ODBC would fail because it was unable
        to uninstall a previous installed version. The file being
        requested would match an older release version than any
        installed version of the connector.
       (<a href="http://bugs.mysql.com/34522" target="_top">Bug#34522</a>)</p></li><li><p>
        Using <code class="literal">SqlGetData</code> in combination with
        <code class="literal">SQL_C_WCHAR</code> would return overlapping data.
       (<a href="http://bugs.mysql.com/34429" target="_top">Bug#34429</a>)</p></li><li><p>
        Descriptor records were not cleared correctly when calling
        <code class="literal">SQLFreeStmt(SQL_UNBIND)</code>.
       (<a href="http://bugs.mysql.com/34271" target="_top">Bug#34271</a>)</p></li><li><p>
        The dropdown selection for databases on a server when creating a
        DSN was too small. The list size now automatically adjusts up to
        a maximum size of 20 potential databases.
       (<a href="http://bugs.mysql.com/33918" target="_top">Bug#33918</a>)</p></li><li><p>
        Microsoft Access would be unable to use
        <code class="literal">DBEngine.RegisterDatabase</code> to create a DSN
        using the Connector/ODBC driver.
       (<a href="http://bugs.mysql.com/33825" target="_top">Bug#33825</a>)</p></li><li><p>
        Connector/ODBC erroneously reported that it supported the
        <code class="literal">CAST()</code> and <code class="literal">CONVERT()</code> ODBC
        functions for parsing values in SQL statements, which could lead
        to bad SQL generation during a query.
       (<a href="http://bugs.mysql.com/33808" target="_top">Bug#33808</a>)</p></li><li><p>
        Using a linked table in Access 2003 where the table has a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a> column as the first column
        in the table, and is configured as the primary key, shows
        <code class="literal">#DELETED</code> for all rows of the table.
       (<a href="http://bugs.mysql.com/24535" target="_top">Bug#24535</a>)</p></li><li><p>
        Updating a <code class="literal">RecordSet</code> when the query involves
        a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> field would fail.
       (<a href="http://bugs.mysql.com/19065" target="_top">Bug#19065</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-2"></a>C.4.5. Changes in MySQL Connector/ODBC 5.1.2 (13 February 2008)</h3></div></div></div><p>
        MySQL Connector/ODBC 5.1.2-beta, a new version of the ODBC
        driver for the MySQL database management system, has been
        released. This release is the second beta (feature-complete)
        release of the new 5.1 series and is suitable for use with any
        MySQL server version since MySQL 4.1, including MySQL 5.0, 5.1,
        and 6.0. (It will not work with 4.0 or earlier releases.)
      </p><p>
        Keep in mind that this is a beta release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        The installer for 64-bit Windows installs both the 32-bit and
        64-bit driver. Please note that Microsoft does not yet supply a
        64-bit bridge from ADO to ODBC.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a>.</p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Explicit descriptors are implemented.
       (<a href="http://bugs.mysql.com/32064" target="_top">Bug#32064</a>)</p></li><li><p>
        A full implementation of SQLForeignKeys based on the information
        available from INFORMATION_SCHEMA in 5.0 and later versions of
        the server has been implemented.
      </p></li><li><p>
        Changed <code class="literal">SQL_ATTR_PARAMSET_SIZE</code> to return an
        error until support for it is implemented.
      </p></li><li><p>
        Disabled <code class="literal">MYSQL_OPT_SSL_VERIFY_SERVER_CERT</code>
        when using an SSL connection.
      </p></li><li><p>
        <code class="literal">SQLForeignKeys</code> uses
        <code class="literal">INFORMATION_SCHEMA</code> when it is available on
        the server, which allows more complete information to be
        returned.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="option">SSLCIPHER</code> option would be incorrectly
        recorded within the SSL configuration on Windows.
       (<a href="http://bugs.mysql.com/33897" target="_top">Bug#33897</a>)</p></li><li><p>
        Within the GUI interface, when connecting to a MySQL server on a
        non-standard port, the connection test within the GUI would
        fail. The issue was related to incorrect parsing of numeric
        values within the DSN when the option was not configured as the
        last parameter within the DSN.
       (<a href="http://bugs.mysql.com/33822" target="_top">Bug#33822</a>)</p></li><li><p>
        Specifying a non-existent database name within the GUI dialog
        would result in an empty list, not an error.
       (<a href="http://bugs.mysql.com/33615" target="_top">Bug#33615</a>)</p></li><li><p>
        When deleting rows from a static cursor, the cursor position
        would be incorrectly reported.
       (<a href="http://bugs.mysql.com/33388" target="_top">Bug#33388</a>)</p></li><li><p>
        <code class="function">SQLGetInfo()</code> reported characters for
        <code class="literal">SQL_SPECIAL_CHARACTERS</code> that were not encoded
        correctly.
       (<a href="http://bugs.mysql.com/33130" target="_top">Bug#33130</a>)</p></li><li><p>
        Retrieving data from a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        column would fail within <code class="literal">SQLGetData</code>when the
        target data type was <code class="literal">SQL_C_WCHAR</code> due to
        incorrect handling of the character buffer.
       (<a href="http://bugs.mysql.com/32684" target="_top">Bug#32684</a>)</p></li><li><p>
        Renaming an existing DSN entry would create a new entry with the
        new name without deleting the old entry.
       (<a href="http://bugs.mysql.com/31165" target="_top">Bug#31165</a>)</p></li><li><p>
        Reading a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> column that had
        been used to store UTF8 data would result in the wrong
        information being returned during a query.
       (<a href="http://bugs.mysql.com/28617" target="_top">Bug#28617</a>)</p></li><li><p>
        <code class="literal">SQLForeignKeys</code> would return an empty string
        for the schema columns instead of <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/19923" target="_top">Bug#19923</a>)</p></li><li><p>
        When accessing column data,
        <code class="literal">FLAG_COLUMN_SIZE_S32</code> did not limit the octet
        length or display size reported for fields, causing problems
        with Microsoft Visual FoxPro.
      </p><p>
        The list of ODBC functions that could have caused failures in
        Microsoft software when retrieving the length of
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> columns includes:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLColumns</code>
            </p></li><li><p>
              <code class="literal">SQLColAttribute</code>
            </p></li><li><p>
              <code class="literal">SQLColAttributes</code>
            </p></li><li><p>
              <code class="literal">SQLDescribeCol</code>
            </p></li><li><p>
              <code class="literal">SQLSpecialColumns</code> (theoretically can
              have the same problem)
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/12805" target="_top">Bug#12805</a>, <a href="http://bugs.mysql.com/30890" target="_top">Bug#30890</a>)</p></li><li><p>
        Dynamic cursors on statements with parameters were not
        supported.
       (<a href="http://bugs.mysql.com/11846" target="_top">Bug#11846</a>)</p></li><li><p>
        Evaluating a simple numeric expression when using the OLEDB for
        ODBC provider and ADO would return an error, instead of the
        result.
       (<a href="http://bugs.mysql.com/10128" target="_top">Bug#10128</a>)</p></li><li><p>
        Adding or updating a row using <code class="function">SQLSetPos()</code>
        on a result set with aliased columns would fail.
       (<a href="http://bugs.mysql.com/6157" target="_top">Bug#6157</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-1"></a>C.4.6. Changes in MySQL Connector/ODBC 5.1.1 (13 December 2007)</h3></div></div></div><p>
        MySQL Connector/ODBC 5.1.1-beta, a new version of the ODBC
        driver for the MySQL database management system, has been
        released. This release is the first beta (feature-complete)
        release of the new 5.1 series and is suitable for use with any
        MySQL server version since MySQL 4.1, including MySQL 5.0, 5.1,
        and 6.0. (It will not work with 4.0 or earlier releases.)
      </p><p>
        Keep in mind that this is a beta release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data.
      </p><p>
        Includes changes from
        <a href="news.html#connector-odbc-news-3-51-21" title="C.4.25. Changes in MySQL Connector/ODBC 3.51.21 (08 October 2007)">Connector/ODBC
        3.51.21</a> and
        <a href="news.html#connector-odbc-news-3-51-22" title="C.4.24. Changes in MySQL Connector/ODBC 3.51.22 (13 November 2007)">3.51.22</a>.
      </p><p>
        Built using MySQL 5.0.52.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        The installer for 64-bit Windows installs both the 32-bit and
        64-bit driver. Please note that Microsoft does not yet supply a
        64-bit bridge from ADO to ODBC.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a>.</p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Replaced myodbc3i (now myodbc-installer) with Connector/ODBC 5.0
        version.
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Removed monitor (myodbc3m) and dsn-editor (myodbc3c).
      </p></li><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Disallow <code class="literal">SET NAMES</code> in initial statement and
        in executed statements.
      </p></li><li><p>
        A wrapper for the
        <code class="function">SQLGetPrivateProfileStringW()</code> function,
        which is required for Unicode support, has been created. This
        function is missing from the unixODBC driver manager.
       (<a href="http://bugs.mysql.com/32685" target="_top">Bug#32685</a>)</p></li><li><p>
        Added MSI installer for Windows 64-bit.
       (<a href="http://bugs.mysql.com/31510" target="_top">Bug#31510</a>)</p></li><li><p>
        Implemented support for <code class="function">SQLCancel()</code>.
       (<a href="http://bugs.mysql.com/15601" target="_top">Bug#15601</a>)</p></li><li><p>
        Added support for <code class="literal">SQL_NUMERIC_STRUCT</code>.
       (<a href="http://bugs.mysql.com/3028" target="_top">Bug#3028</a>, <a href="http://bugs.mysql.com/24920" target="_top">Bug#24920</a>)</p></li><li><p>
        Removed non-threadsafe configuration of the driver. The driver
        is now always built against the threadsafe version of libmysql.
      </p></li><li><p>
        Implemented native Windows setup library
      </p></li><li><p>
        Replaced the internal library which handles creation and loading
        of DSN information. The new library, which was originally a part
        of Connector/ODBC 5.0, supports Unicode option values.
      </p></li><li><p>
        The Windows installer now places files in a subdirectory of the
        <code class="filename">Program Files</code> directory instead of the
        Windows system directory.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">SET NAMES</code> statement has been disabled
        because it causes problems in the ODBC driver when determining
        the current client character set.
       (<a href="http://bugs.mysql.com/32596" target="_top">Bug#32596</a>)</p></li><li><p>
        <code class="literal">SQLDescribeColW</code> returned UTF-8 column as
        <code class="literal">SQL_VARCHAR</code> instead of
        <code class="literal">SQL_WVARCHAR</code>.
       (<a href="http://bugs.mysql.com/32161" target="_top">Bug#32161</a>)</p></li><li><p>
        ADO was unable to open record set using dynamic cursor.
       (<a href="http://bugs.mysql.com/32014" target="_top">Bug#32014</a>)</p></li><li><p>
        ADO applications would not open a <code class="literal">RecordSet</code>
        that contained a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> field.
       (<a href="http://bugs.mysql.com/31720" target="_top">Bug#31720</a>)</p></li><li><p>
        Memory usage would increase considerably.
       (<a href="http://bugs.mysql.com/31115" target="_top">Bug#31115</a>)</p></li><li><p>
        SQL statements are limited to 64KB.
       (<a href="http://bugs.mysql.com/30983" target="_top">Bug#30983</a>, <a href="http://bugs.mysql.com/30984" target="_top">Bug#30984</a>)</p></li><li><p>
        <code class="literal">SQLSetPos</code> with <code class="literal">SQL_DELETE</code>
        advances dynamic cursor incorrectly.
       (<a href="http://bugs.mysql.com/29765" target="_top">Bug#29765</a>)</p></li><li><p>
        Using an ODBC prepared statement with bound columns would
        produce an empty result set when called immediately after
        inserting a row into a table.
       (<a href="http://bugs.mysql.com/29239" target="_top">Bug#29239</a>)</p></li><li><p>
        ADO Not possible to update a client side cursor.
       (<a href="http://bugs.mysql.com/27961" target="_top">Bug#27961</a>)</p></li><li><p>
        Recordset <code class="function">Update()</code> fails when using
        <code class="literal">adUseClient</code> cursor.
       (<a href="http://bugs.mysql.com/26985" target="_top">Bug#26985</a>)</p></li><li><p>
        Connector/ODBC would fail to connect to the server if the
        password contained certain characters, including the semicolon
        and other punctuation marks.
       (<a href="http://bugs.mysql.com/16178" target="_top">Bug#16178</a>)</p></li><li><p>
        Fixed <code class="literal">SQL_ATTR_PARAM_BIND_OFFSET</code>, and fixed
        row offsets to work with updatable cursors.
      </p></li><li><p>
        <code class="function">SQLSetConnectAttr()</code> did not clear previous
        errors, possibly confusing <code class="function">SQLError()</code>.
      </p></li><li><p>
        <code class="function">SQLError()</code> incorrectly cleared the error
        information, making it unavailable from subsequent calls to
        <code class="function">SQLGetDiagRec()</code>.
      </p></li><li><p>
        NULL pointers passed to <code class="function">SQLGetInfo()</code> could
        result in a crash.
      </p></li><li><p>
        <code class="literal">SQL_ODBC_SQL_CONFORMANCE</code> was not handled by
        <code class="function">SQLGetInfo()</code>.
      </p></li><li><p>
        <code class="function">SQLCopyDesc()</code> did not correctly copy all
        records.
      </p></li><li><p>
        Diagnostics were not correctly cleared on connection and
        environment handles.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-1-0"></a>C.4.7. Changes in MySQL Connector/ODBC 5.1.0 (10 September 2007)</h3></div></div></div><p>
        This release is the first of the new 5.1 series and is suitable
        for use with any MySQL server version since MySQL 4.1, including
        MySQL 5.0, 5.1, and 6.0. (It will not work with 4.0 or earlier
        releases.)
      </p><p>
        Keep in mind that this is a alpha release, and as with any other
        pre-production release, caution should be taken when installing
        on production level systems or systems with critical data. Not
        all of the features planned for the final Connector/ODBC 5.1
        release are implemented.
      </p><p>
        Functionality is based on Connector/ODBC 3.51.20.
      </p><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        There are no installer packages for Microsoft Windows x64
        Edition.
      </p></li><li><p>
        Due to differences with the installation process used on Windows
        and potential registry corruption, it is recommended that
        uninstall any existing versions of Connector/ODBC 5.1.x before
        upgrading.
      </p><p>See also <a href="http://bugs.mysql.com/34571" target="_top">Bug#34571</a>.</p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for Unicode functions
        (<code class="literal">SQLConnectW</code>, etc).
      </p></li><li><p>
        Added descriptor support (<code class="literal">SQLGetDescField</code>,
        <code class="literal">SQLGetDescRec</code>, etc).
      </p></li><li><p>
        Added support for <code class="literal">SQL_C_WCHAR</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-12"></a>C.4.8. Changes in MySQL Connector/ODBC 5.0.12 (Never released)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          Development on Connector/ODBC 5.0.x has ceased. New features
          and functionality will be incorporated into Connector/ODBC
          5.1. See <a href="connectors-apis.html#connector-odbc-roadmap" title="20.1.2.1. Connector/ODBC Roadmap">Section 20.1.2.1, “Connector/ODBC Roadmap”</a>.
        </p></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Inserting <code class="literal">NULL</code> values into a
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column from Access
        reports an error.
       (<a href="http://bugs.mysql.com/27896" target="_top">Bug#27896</a>)</p></li><li><p>
        Tables with <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns would be
        incorrectly identified, returning an <code class="literal">Unknown SQL type -
        65535</code> error.
       (<a href="http://bugs.mysql.com/20127" target="_top">Bug#20127</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-11"></a>C.4.9. Changes in MySQL Connector/ODBC 5.0.11 (31 January 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for ODBC v2 statement options using attributes.
      </p></li><li><p>
        Driver now builds and is partially tested under Linux with the
        iODBC driver manager.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connection string parsing for DSN-less connections could fail to
        identify some parameters.
       (<a href="http://bugs.mysql.com/25316" target="_top">Bug#25316</a>)</p></li><li><p>
        Updates of <code class="literal">MEMO</code> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns from within
        Microsoft Access would fail.
       (<a href="http://bugs.mysql.com/25263" target="_top">Bug#25263</a>)</p></li><li><p>
        Transaction support has been added and tested.
       (<a href="http://bugs.mysql.com/25045" target="_top">Bug#25045</a>)</p></li><li><p>
        Internal function, <code class="literal">my_setpos_delete_ignore()</code>
        could cause a crash.
       (<a href="http://bugs.mysql.com/22796" target="_top">Bug#22796</a>)</p></li><li><p>
        Fixed occasional mis-handling of the
        <code class="literal">SQL_NUMERIC_C</code> type.
      </p></li><li><p>
        Fixed the binding of certain integer types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-10"></a>C.4.10. Changes in MySQL Connector/ODBC 5.0.10 (14 December 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.10 is the sixth BETA release.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Significant performance improvement when retrieving large text
        fields in pieces using <code class="literal">SQLGetData()</code> with a
        buffer smaller than the whole data. Mainly used in Access when
        fetching very large text fields.
       (<a href="http://bugs.mysql.com/24876" target="_top">Bug#24876</a>)</p></li><li><p>
        Added initial unicode support in data and metadata.
       (<a href="http://bugs.mysql.com/24837" target="_top">Bug#24837</a>)</p></li><li><p>
        Added initial support for removing braces when calling stored
        procedures and retrieving result sets from procedure calls.
       (<a href="http://bugs.mysql.com/24485" target="_top">Bug#24485</a>)</p></li><li><p>
        Added loose handling of retrieving some diagnostic data.
       (<a href="http://bugs.mysql.com/15782" target="_top">Bug#15782</a>)</p></li><li><p>
        Added wide-string type info for
        <code class="literal">SQLGetTypeInfo()</code>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Editing DSN no longer crashes ODBC data source administrator.
       (<a href="http://bugs.mysql.com/24675" target="_top">Bug#24675</a>)</p></li><li><p>
        String query parameters are new escaped correctly.
       (<a href="http://bugs.mysql.com/19078" target="_top">Bug#19078</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-9"></a>C.4.11. Changes in MySQL Connector/ODBC 5.0.9 (22 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.9 is the fifth BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for column binding as SQL_NUMBERIC_STRUCT.
      </p></li><li><p>
        Added recognition of <code class="literal">SQL_C_SHORT</code> and
        <code class="literal">SQL_C_TINYINT</code> as C types.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed wildcard handling of and listing of catalogs and tables in
        <code class="literal">SQLTables</code>.
      </p></li><li><p>
        Added limit of display size when requested via
        <code class="literal">SQLColAttribute</code>/<code class="literal">SQL_DESC_DISPLAY_SIZE</code>.
      </p></li><li><p>
        Fixed buffer length return for SQLDriverConnect.
      </p></li><li><p>
        ODBC v2 behaviour in driver now supports ODBC v3 date/time types
        (since DriverManager maps them).
      </p></li><li><p>
        Catch use of <code class="literal">SQL_ATTR_PARAMSET_SIZE</code> and
        report error until we fully support.
      </p></li><li><p>
        Fixed statistics to fail if it couldn't be completed.
      </p></li><li><p>
        Corrected retrieval multiple field types bit and blob/text.
      </p></li><li><p>
        Fixed SQLGetData to clear the NULL indicator correctly during
        multiple calls.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-8"></a>C.4.12. Changes in MySQL Connector/ODBC 5.0.8 (17 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.8 is the fourth BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Also made <code class="literal">SQL_DESC_NAME</code> only fill in the name
        if there was a data pointer given, otherwise just the length.
      </p></li><li><p>
        Fixed display size to be length if max length isn’t available.
      </p></li><li><p>
        Made distinction between
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>/<a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a>
        (and VAR versions).
      </p></li><li><p>
        Wildcards now support escaped chars and underscore matching
        (needed to link tables with underscores in access).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed binding using <code class="literal">SQL_C_LONG</code>.
      </p></li><li><p>
        Fixed using wrong pointer for
        <code class="literal">SQL_MAX_DRIVER_CONNECTIONS</code> in
        <code class="literal">SQLGetInfo</code>.
      </p></li><li><p>
        Set default return to <code class="literal">SQL_SUCCESS</code> if nothing
        is done for <code class="literal">SQLSpecialColumns</code>.
      </p></li><li><p>
        Fixed MDiagnostic to use correct v2/v3 error codes.
      </p></li><li><p>
        Allow SQLDescribeCol to be called to retrieve the length of the
        column name, but not the name itself.
      </p></li><li><p>
        Length now used when handling bind parameter (needed in
        particular for <code class="literal">SQL_WCHAR</code>) - this enables
        updating char data in MS Access.
      </p></li><li><p>
        Updated retrieval of descriptor fields to use the right pointer
        types.
      </p></li><li><p>
        Fixed hanlding of numeric pointers in SQLColAttribute.
      </p></li><li><p>
        Fixed type returned for <code class="literal">MYSQL_TYPE_LONG</code> to
        <code class="literal">SQL_INTEGER</code> instead of
        <code class="literal">SQL_TINYINT</code>.
      </p></li><li><p>
        Fix size return from <code class="literal">SQLDescribeCol</code>.
      </p></li><li><p>
        Fixed string length to chars, not bytes, returned by
        SQLGetDiagRec.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-7"></a>C.4.13. Changes in MySQL Connector/ODBC 5.0.7 (08 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.7 is the third BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for <code class="literal">SQLStatistics</code> to
        <code class="literal">MYODBCShell</code>.
      </p></li><li><p>
        Improved trace/log.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        SQLBindParameter now handles <code class="literal">SQL_C_DEFAULT</code>.
      </p></li><li><p>
        Corrected incorrect column index within
        <code class="literal">SQLStatistics</code>. Many more tables can now be
        linked into MS Access.
      </p></li><li><p>
        Fixed <code class="literal">SQLDescribeCol</code> returning column name
        length in bytes rather than chars.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-6"></a>C.4.14. Changes in MySQL Connector/ODBC 5.0.6 (03 November 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.6 is the second BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>Features, limitations and notes on this release</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC supports both <code class="literal">User</code> and
        <code class="literal">System</code> DSNs.
      </p></li><li><p>
        Installation is provided in the form of a standard Microsoft
        System Installer (MSI).
      </p></li><li><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p></li><li><p>
        Connector/ODBC supports both <code class="literal">User</code> and
        <code class="literal">System</code> DSNs.
      </p></li><li><p>
        Installation is provided in the form of a standard Microsoft
        System Installer (MSI).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-5"></a>C.4.15. Changes in MySQL Connector/ODBC 5.0.5 (17 October 2006)</h3></div></div></div><p>
        Connector/ODBC 5.0.5 is the first BETA release.
      </p><p>
        This is an implementation and testing release, and is not
        designed for use within a production environment.
      </p><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        You no longer have to have Connector/ODBC 3.51 installed before
        installing this version.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-3"></a>C.4.16. Changes in Connector/ODBC 5.0.3 (Connector/ODBC 5.0 Alpha 3) (20 June
      2006)</h3></div></div></div><p>
      This is an implementation and testing release, and is not designed
      for use within a production environment.
    </p><p>
      Features, limitations and notes on this release:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          The following ODBC API functions have been added in this
          release:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLBindParameter</code>
            </p></li><li><p>
              <code class="literal">SQLBindCol</code>
            </p></li></ul></div></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-2"></a>C.4.17. Changes in Connector/ODBC 5.0.2 (Never released)</h3></div></div></div><p>
      Connector/ODBC 5.0.2 was an internal implementation and testing
      release.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-5-0-1"></a>C.4.18. Changes in Connector/ODBC 5.0.1 (Connector/ODBC 5.0 Alpha 2) (05 June
      2006)</h3></div></div></div><p>
      Features, limitations and notes on this release:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
          Connector/ODBC 5.0 is Unicode aware.
        </p></li><li><p>
          Connector/ODBC is currently limited to basic applications. ADO
          applications and Microsoft Office are not supported.
        </p></li><li><p>
          Connector/ODBC must be used with a Driver Manager.
        </p></li><li><p>
          The following ODBC API functions are implemented:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLAllocHandle</code>
            </p></li><li><p>
              <code class="literal">SQLCloseCursor</code>
            </p></li><li><p>
              <code class="literal">SQLColAttribute</code>
            </p></li><li><p>
              <code class="literal">SQLColumns</code>
            </p></li><li><p>
              <code class="literal">SQLConnect</code>
            </p></li><li><p>
              <code class="literal">SQLCopyDesc</code>
            </p></li><li><p>
              <code class="literal">SQLDisconnect</code>
            </p></li><li><p>
              <code class="literal">SQLExecDirect</code>
            </p></li><li><p>
              <code class="literal">SQLExecute</code>
            </p></li><li><p>
              <code class="literal">SQLFetch</code>
            </p></li><li><p>
              <code class="literal">SQLFreeHandle</code>
            </p></li><li><p>
              <code class="literal">SQLFreeStmt</code>
            </p></li><li><p>
              <code class="literal">SQLGetConnectAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetData</code>
            </p></li><li><p>
              <code class="literal">SQLGetDescField</code>
            </p></li><li><p>
              <code class="literal">SQLGetDescRec</code>
            </p></li><li><p>
              <code class="literal">SQLGetDiagField</code>
            </p></li><li><p>
              <code class="literal">SQLGetDiagRec</code>
            </p></li><li><p>
              <code class="literal">SQLGetEnvAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetFunctions</code>
            </p></li><li><p>
              <code class="literal">SQLGetStmtAttr</code>
            </p></li><li><p>
              <code class="literal">SQLGetTypeInfo</code>
            </p></li><li><p>
              <code class="literal">SQLNumResultCols</code>
            </p></li><li><p>
              <code class="literal">SQLPrepare</code>
            </p></li><li><p>
              <code class="literal">SQLRowcount</code>
            </p></li><li><p>
              <code class="literal">SQLTables</code>
            </p></li></ul></div><p>
          The following ODBC API function are implemented, but not yet
          support all the available attributes/options:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLSetConnectAttr</code>
            </p></li><li><p>
              <code class="literal">SQLSetDescField</code>
            </p></li><li><p>
              <code class="literal">SQLSetDescRec</code>
            </p></li><li><p>
              <code class="literal">SQLSetEnvAttr</code>
            </p></li><li><p>
              <code class="literal">SQLSetStmtAttr</code>
            </p></li></ul></div></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-27"></a>C.4.19. Changes in MySQL Connector/ODBC 3.51.27 (20 November 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The client program hung when the network connection to the
        server was interrupted.
       (<a href="http://bugs.mysql.com/40407" target="_top">Bug#40407</a>)</p></li><li><p>
        The connection string option <code class="literal">Enable
        Auto-reconnect</code> did not work. When the connection
        failed, it could not be restored, and the errors generated were
        the same as if the option had not been selected.
       (<a href="http://bugs.mysql.com/37179" target="_top">Bug#37179</a>)</p></li><li><p>
        It was not possible to use Connector/ODBC to connect to a server
        using SSL. The following error was generated:
      </p><pre class="programlisting">Runtime error '-2147467259 (80004005)':

[MySQL][ODBC 3.51 Driver]SSL connection error.
</pre><p>(<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-26"></a>C.4.20. Changes in MySQL Connector/ODBC 3.51.26 (07 July 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        There is a new connection option,
        <code class="literal">FLAG_NO_BINARY_RESULT</code>. When set this option
        disables charset 63 for columns with an empty
        <code class="literal">org_table</code>.
       (<a href="http://bugs.mysql.com/29402" target="_top">Bug#29402</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When an <code class="classname">ADOConnection</code> is created and
        attempts to open a schema with
        <code class="methodname">ADOConnection.OpenSchema</code> an access
        violation occurs in <code class="literal">myodbc3.dll</code>.
       (<a href="http://bugs.mysql.com/30770" target="_top">Bug#30770</a>)</p></li><li><p>
        When <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> was
        invoked and then the field values read, the result was truncated
        and unusable if the table had many rows and indexes.
       (<a href="http://bugs.mysql.com/24131" target="_top">Bug#24131</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-25"></a>C.4.21. Changes in MySQL Connector/ODBC 3.51.25 (11 April 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="function">SQLColAttribute()</code> function returned
        <code class="literal">SQL_TRUE</code> when querying the
        <code class="literal">SQL_DESC_FIXED_PREC_SCALE (SQL_COLUMN_MONEY)</code>
        attribute of a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> column.
        Previously, the correct value of <code class="literal">SQL_FALSE</code>
        was returned; this is now again the case.
       (<a href="http://bugs.mysql.com/35581" target="_top">Bug#35581</a>)</p></li><li><p>
        The driver crashes ODBC Administrator on attempting to add a new
        DSN.
       (<a href="http://bugs.mysql.com/32057" target="_top">Bug#32057</a>)</p></li><li><p>
        When accessing column data,
        <code class="literal">FLAG_COLUMN_SIZE_S32</code> did not limit the octet
        length or display size reported for fields, causing problems
        with Microsoft Visual FoxPro.
      </p><p>
        The list of ODBC functions that could have caused failures in
        Microsoft software when retrieving the length of
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> columns includes:
        </p><div class="itemizedlist"><ul type="circle"><li><p>
              <code class="literal">SQLColumns</code>
            </p></li><li><p>
              <code class="literal">SQLColAttribute</code>
            </p></li><li><p>
              <code class="literal">SQLColAttributes</code>
            </p></li><li><p>
              <code class="literal">SQLDescribeCol</code>
            </p></li><li><p>
              <code class="literal">SQLSpecialColumns</code> (theoretically can
              have the same problem)
            </p></li></ul></div><p>
       (<a href="http://bugs.mysql.com/12805" target="_top">Bug#12805</a>, <a href="http://bugs.mysql.com/30890" target="_top">Bug#30890</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-24"></a>C.4.22. Changes in MySQL Connector/ODBC 3.51.24 (14 March 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        Accessing a parameer with the type of
        <code class="literal">SQL_C_CHAR</code>, but with a numeric type and a
        length of zero, the parameter marker would get stropped from the
        query. In addition, an SQL injection was possible if the
        parameter value had a non-zero length and was not numeric, the
        text would be inserted verbatim.
       (<a href="http://bugs.mysql.com/34575" target="_top">Bug#34575</a>)</p></li><li><p><span class="bold"><strong>Important Change</strong></span>: 
        In previous versions, the SSL certificate would automatically be
        verified when used as part of the Connector/ODBC connection. The
        default mode is now to ignore the verificate of certificates. To
        enforce verification of the SSL certificate during connection,
        use the <code class="option">SSLVERIFY</code> DSN parameter, setting the
        value to 1.
       (<a href="http://bugs.mysql.com/29955" target="_top">Bug#29955</a>, <a href="http://bugs.mysql.com/34648" target="_top">Bug#34648</a>)</p></li><li><p>
        When using ADO, the count of parameters in a query would always
        return zero.
       (<a href="http://bugs.mysql.com/33298" target="_top">Bug#33298</a>)</p></li><li><p>
        Using tables with a single quote or other non-standard
        characters in the table or column names through ODBC would fail.
       (<a href="http://bugs.mysql.com/32989" target="_top">Bug#32989</a>)</p></li><li><p>
        When using Crystal Reports, table and column names would be
        truncated to 21 characters, and truncated columns in tables
        where the truncated name was the duplicated would lead to only a
        single column being displayed.
       (<a href="http://bugs.mysql.com/32864" target="_top">Bug#32864</a>)</p></li><li><p>
        <code class="function">SQLExtendedFetch()</code> and
        <code class="function">SQLFetchScroll()</code> ignored the rowset size if
        the <code class="literal">Don't cache result</code> DSN option was set.
       (<a href="http://bugs.mysql.com/32420" target="_top">Bug#32420</a>)</p></li><li><p>
        When using the ODBC <code class="literal">SQL_TXN_READ_COMMITTED</code>
        option, 'dirty' records would be read from tables as if the
        option had not been applied.
       (<a href="http://bugs.mysql.com/31959" target="_top">Bug#31959</a>)</p></li><li><p>
        When creating a System DSN using the ODBC Administrator on Mac
        OS X, a User DSN would be created instead. The root cause is a
        problem with the iODBC driver manager used on Mac OS X. The fix
        works around this issue.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          ODBC Administrator may still be unable to register a System
          DSN unless the <code class="filename">/Library/ODBC/odbc.ini</code>
          file has the correct permissions. You should ensure that the
          file is writable by the <code class="literal">admin</code> group.
        </p></div><p>(<a href="http://bugs.mysql.com/31495" target="_top">Bug#31495</a>)</p></li><li><p>
        Calling <code class="literal">SQLFetch</code> or
        <code class="literal">SQLFetchScroll</code> would return negative data
        lengths when using <code class="literal">SQL_C_WCHAR</code>.
       (<a href="http://bugs.mysql.com/31220" target="_top">Bug#31220</a>)</p></li><li><p>
        <code class="literal">SQLSetParam()</code> caused memory allocation errors
        due to driver manager's mapping of deprecated functions (buffer
        length -1).
       (<a href="http://bugs.mysql.com/29871" target="_top">Bug#29871</a>)</p></li><li><p>
        Static cursor was unable to be used through ADO when dynamic
        cursors were enabled.
       (<a href="http://bugs.mysql.com/27351" target="_top">Bug#27351</a>)</p></li><li><p>
        Using <code class="literal">connection.Execute</code> to create a record
        set based on a table without declaring the cmd option as
        <code class="literal">adCmdTable</code> will fail when communicating with
        versions of MySQL 5.0.37 and higher. The issue is related to the
        way that <code class="literal">SQLSTATE</code> is returned when ADO tries
        to confirm the existence of the target object.
       (<a href="http://bugs.mysql.com/27158" target="_top">Bug#27158</a>)</p></li><li><p>
        Updating a <code class="literal">RecordSet</code> when the query involves
        a <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> field would fail.
       (<a href="http://bugs.mysql.com/19065" target="_top">Bug#19065</a>)</p></li><li><p>
        With some connections to MySQL databases using Connector/ODBC,
        the connection would mistakenly report 'user cancelled' for
        accesses to the database information.
       (<a href="http://bugs.mysql.com/16653" target="_top">Bug#16653</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-23"></a>C.4.23. Changes in MySQL Connector/ODBC 3.51.23 (09 January 2008)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        There are no installer packages for Microsoft Windows x64
        Edition.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC would incorrectly return
        <code class="literal">SQL_SUCCESS</code> when checking for distributed
        transaction support.
       (<a href="http://bugs.mysql.com/32727" target="_top">Bug#32727</a>)</p></li><li><p>
        When using unixODBC or directly linked applications where the
        thread level is set to less than 3 (within
        <code class="filename">odbcinst.ini</code>), a thread synchronization
        issue would lead to an application crash. This was because
        <code class="function">SQLAllocStmt()</code> and
        <code class="function">SQLFreeStmt()</code> did not synchronize access to
        the list of statements associated with a connection.
       (<a href="http://bugs.mysql.com/32587" target="_top">Bug#32587</a>)</p></li><li><p>
        Cleaning up environment handles in multithread environments
        could result in a five (or more) second delay.
       (<a href="http://bugs.mysql.com/32366" target="_top">Bug#32366</a>)</p></li><li><p>
        Renaming an existing DSN entry would create a new entry with the
        new name without deleting the old entry.
       (<a href="http://bugs.mysql.com/31165" target="_top">Bug#31165</a>)</p></li><li><p>
        Setting the default database using the
        <code class="option">DefaultDatabase</code> property of an ADO
        <code class="literal">Connection</code> object would fail with the error
        <code class="literal">Provider does not support this property</code>. The
        <code class="function">SQLGetInfo()</code> returned the wrong value for
        <code class="literal">SQL_DATABASE_NAME</code> when no database was
        selected.
       (<a href="http://bugs.mysql.com/3780" target="_top">Bug#3780</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-22"></a>C.4.24. Changes in MySQL Connector/ODBC 3.51.22 (13 November 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The workaround for this bug was removed due to the fixes in
        MySQL Server 5.0.48 and 5.1.21.
      </p><p>This regression was introduced by <a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a>.</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">English</code> locale would be used when
        formatting floating point values. The <code class="literal">C</code>
        locale is now used for these values.
       (<a href="http://bugs.mysql.com/32294" target="_top">Bug#32294</a>)</p></li><li><p>
        When accessing information about supported operations, the
        driver would return incorrect information about the support for
        <a href="sql-syntax.html#union" title="12.2.9.3. UNION Syntax"><code class="literal">UNION</code></a>.
       (<a href="http://bugs.mysql.com/32253" target="_top">Bug#32253</a>)</p></li><li><p>
        Unsigned integer values greater than the maximum value of a
        signed integer would be handled incorrectly.
       (<a href="http://bugs.mysql.com/32171" target="_top">Bug#32171</a>)</p></li><li><p>
        The wrong result was returned by <code class="literal">SQLGetData()</code>
        when the data was an empty string and a zero-sized buffer was
        specified.
       (<a href="http://bugs.mysql.com/30958" target="_top">Bug#30958</a>)</p></li><li><p>
        Added the <code class="literal">FLAG_COLUMN_SIZE_S32</code> option to
        limit the reported column size to a signed 32-bit integer. This
        option is automatically enabled for ADO applications to provide
        a work around for a bug in ADO.
       (<a href="http://bugs.mysql.com/13776" target="_top">Bug#13776</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-21"></a>C.4.25. Changes in MySQL Connector/ODBC 3.51.21 (08 October 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using a rowset/cursor and add a new row with a number of
        fields, subsequent rows with fewer fields will include the
        original fields from the previous row in the final
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> statement.
       (<a href="http://bugs.mysql.com/31246" target="_top">Bug#31246</a>)</p></li><li><p>
        Uninitiated memory could be used when C/ODBC internally calls
        <code class="literal">SQLGetFunctions()</code>.
       (<a href="http://bugs.mysql.com/31055" target="_top">Bug#31055</a>)</p></li><li><p>
        The wrong <code class="literal">SQL_DESC_LITERAL_PREFIX</code> would be
        returned for date/time types.
       (<a href="http://bugs.mysql.com/31009" target="_top">Bug#31009</a>)</p></li><li><p>
        The wrong <code class="literal">COLUMN_SIZE</code> would be returned by
        <code class="literal">SQLGetTypeInfo</code> for the TIME columns
        (<code class="literal">SQL_TYPE_TIME</code>).
       (<a href="http://bugs.mysql.com/30939" target="_top">Bug#30939</a>)</p></li><li><p>
        Clicking outside the character set selection box when
        configuring a new DSN could cause the wrong character set to be
        selected.
       (<a href="http://bugs.mysql.com/30568" target="_top">Bug#30568</a>)</p></li><li><p>
        Not specifying a user in the DSN dialog would raise a warning
        even though the parameter is optional.
       (<a href="http://bugs.mysql.com/30499" target="_top">Bug#30499</a>)</p></li><li><p>
        <code class="literal">SQLSetParam()</code> caused memory allocation errors
        due to driver manager's mapping of deprecated functions (buffer
        length -1).
       (<a href="http://bugs.mysql.com/29871" target="_top">Bug#29871</a>)</p></li><li><p>
        When using ADO, a column marked as
        <code class="literal">AUTO_INCREMENT</code> could incorrectly report that
        the column allowed <code class="literal">NULL</code> values. This was dur
        to an issue with <code class="literal">NULLABLE</code> and
        <code class="literal">IS_NULLABLE</code> return values from the call to
        <code class="literal">SQLColumns()</code>.
       (<a href="http://bugs.mysql.com/26108" target="_top">Bug#26108</a>)</p></li><li><p>
        Connector/ODBC would return the wrong the error code when the
        server disconnects the active connection because the configured
        <a href="server-administration.html#sysvar_wait_timeout"><code class="literal">wait_timeout</code></a> has expired.
        Previously it would return <code class="literal">HY000</code>.
        Connector/ODBC now correctly returns an
        <code class="literal">SQLSTATE</code> of <code class="literal">08S01</code>.
       (<a href="http://bugs.mysql.com/3456" target="_top">Bug#3456</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-20"></a>C.4.26. Changes in MySQL Connector/ODBC 3.51.20 (10 September 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using <code class="literal">FLAG_NO_PROMPT</code> doesn't suppress the
        dialogs normally handled by <code class="literal">SQLDriverConnect</code>.
       (<a href="http://bugs.mysql.com/30840" target="_top">Bug#30840</a>)</p></li><li><p>
        The specified length of the user name and authentication
        parameters to <code class="literal">SQLConnect()</code> were not being
        honored.
       (<a href="http://bugs.mysql.com/30774" target="_top">Bug#30774</a>)</p></li><li><p>
        The wrong column size was returned for binary data.
       (<a href="http://bugs.mysql.com/30547" target="_top">Bug#30547</a>)</p></li><li><p>
        <code class="literal">SQLGetData()</code> will now always return
        <code class="literal">SQL_NO_DATA_FOUND</code> on second call when no data
        left, even if requested size is 0.
       (<a href="http://bugs.mysql.com/30520" target="_top">Bug#30520</a>)</p></li><li><p>
        <code class="literal">SQLGetConnectAttr()</code> did not reflect the
        connection state correctly.
       (<a href="http://bugs.mysql.com/14639" target="_top">Bug#14639</a>)</p></li><li><p>
        Removed checkbox in setup dialog for
        <code class="literal">FLAG_FIELD_LENGTH</code> (identified as
        <code class="literal">Don't Optimize Column Width</code> within the GUI
        dialog), which was removed from the driver in 3.51.18.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-19"></a>C.4.27. Changes in MySQL Connector/ODBC 3.51.19 (10 August 2007)</h3></div></div></div><p>
        Connector/ODBC 3.51.19 fixes a specific issue with the 3.51.18
        release. For a list of changes in the 3.51.18 release, see
        <a href="news.html#connector-odbc-news-3-51-18" title="C.4.28. Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)">Section C.4.28, “Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)”</a>.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Because of <a href="http://bugs.mysql.com/10491" target="_top">Bug#10491</a> in the server, character string results
        were sometimes incorrectly identified as
        <code class="literal">SQL_VARBINARY</code>. Until this server bug is
        corrected, the driver will identify all variable-length strings
        as <code class="literal">SQL_VARCHAR</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-18"></a>C.4.28. Changes in MySQL Connector/ODBC 3.51.18 (08 August 2007)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        The <code class="option">FLAG_DEBUG</code> option was removed.
      </p></li><li><p>
        When connecting to a specific database when using a DSN, the
        system tables from the <code class="literal">mysql</code> database are no
        longer also available. Previously, tables from the mysql
        database (catalog) were listed as <code class="literal">SYSTEM
        TABLES</code> by <code class="literal">SQLTables()</code> even when a
        different catalog was being queried.
       (<a href="http://bugs.mysql.com/28662" target="_top">Bug#28662</a>)</p></li><li><p>
        Installed for Mac OS X has been re-instated. The installer
        registers the driver at a system (not user) level and makes it
        possible to create both user and system DSNs using the
        Connector/ODBC driver. The installer also fixes the situation
        where the necessary drivers would bge installed local to the
        user, not globally.
       (<a href="http://bugs.mysql.com/15326" target="_top">Bug#15326</a>, <a href="http://bugs.mysql.com/10444" target="_top">Bug#10444</a>)</p></li><li><p>
        Connector/ODBC now supports batched statements. In order to
        enable cached statement support you must switch enable the
        batched statement option
        (<code class="literal">FLAG_MULTI_STATEMENTS</code>, 67108864, or
        <span class="guilabel">Allow multiple statements</span> within a GUI
        configuration). Be aware that batched statements create an
        increased chance of SQL injection attacks and you must ensure
        that your application protects against this scenario.
       (<a href="http://bugs.mysql.com/7445" target="_top">Bug#7445</a>)</p></li><li><p>
        The <code class="literal">SQL_ATTR_ROW_BIND_OFFSET_PTR</code> is now
        supported for row bind offsets.
       (<a href="http://bugs.mysql.com/6741" target="_top">Bug#6741</a>)</p></li><li><p>
        The <code class="literal">TRACE</code> and <code class="literal">TRACEFILE</code>
        DSN options have been removed. Use the ODBC driver manager trace
        options instead.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using a table with multiple
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns, the final
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column within the table
        definition would not be updateable. Note that there is still a
        limitation in MySQL server regarding multiple
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns . (<a href="http://bugs.mysql.com/9927" target="_top">Bug#9927</a>)
       (<a href="http://bugs.mysql.com/30081" target="_top">Bug#30081</a>)</p></li><li><p>
        Fixed an issue where the <span><strong class="command">myodbc3i</strong></span> would
        update the user ODBC configuration file
        (<code class="filename">~/Library/ODBC/odbcinst.ini</code>) instead of
        the system <code class="filename">/Library/ODBC/odbcinst.ini</code>. This
        was caused because <span><strong class="command">myodbc3i</strong></span> was not honoring
        the <code class="literal">s</code> and <code class="literal">u</code> modifiers for
        the <code class="option">-d</code> command-line option.
       (<a href="http://bugs.mysql.com/29964" target="_top">Bug#29964</a>)</p></li><li><p>
        Getting table metadata (through the
        <code class="literal">SQLColumns()</code> would fail, returning a bad
        table definition to calling applications.
       (<a href="http://bugs.mysql.com/29888" target="_top">Bug#29888</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> column types would
        return <code class="literal">FALSE</code> in place of
        <code class="literal">SQL_SUCCESS</code> when requesting the column type
        information.
       (<a href="http://bugs.mysql.com/28657" target="_top">Bug#28657</a>)</p></li><li><p>
        The <code class="literal">SQL_COLUMN_TYPE</code>,
        <code class="literal">SQL_COLUMN_DISPLAY</code> and
        <code class="literal">SQL_COLUMN_PRECISION</code> values would be returned
        incorrectly by <code class="literal">SQLColumns()</code>,
        <code class="literal">SQLDescribeCol()</code> and
        <code class="literal">SQLColAttribute()</code> when accessing character
        columns, especially those generated through
        <code class="function">concat()</code>. The lengths returned should now
        conform to the ODBC specification. The
        <code class="literal">FLAG_FIELD_LENGTH</code> option no longer has any
        affect on the results returned.
       (<a href="http://bugs.mysql.com/27862" target="_top">Bug#27862</a>)</p></li><li><p>
        Obtaining the length of a column when using a character set for
        the connection of <code class="literal">utf8</code> would result in the
        length being returned incorrectly.
       (<a href="http://bugs.mysql.com/19345" target="_top">Bug#19345</a>)</p></li><li><p>
        The <code class="literal">SQLColumns()</code> function could return
        incorrect information about
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns, indicating
        that the field was not nullable.
       (<a href="http://bugs.mysql.com/14414" target="_top">Bug#14414</a>)</p></li><li><p>
        The <code class="literal">SQLColumns()</code> function could return
        incorrect information about <code class="literal">AUTO_INCREMENT</code>
        columns, indicating that the field was not nullable.
       (<a href="http://bugs.mysql.com/14407" target="_top">Bug#14407</a>)</p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        <code class="literal">BIT(n)</code> columns are now treated as
        <code class="literal">SQL_BIT</code> data where <code class="literal">n = 1</code>
        and binary data where <code class="literal">n &gt; 1</code>.
      </p></li><li><p>
        The wrong value from <code class="literal">SQL_DESC_LITERAL_SUFFIX</code>
        was returned for binary fields.
      </p></li><li><p>
        The <code class="literal">SQL_DATETIME_SUB</code> column in SQLColumns()
        was not correctly set for date and time types.
      </p></li><li><p>
        The value for <code class="literal">SQL_DESC_FIXED_PREC_SCALE</code> was
        not returned correctly for values in MySQL 5.0 and later.
      </p></li><li><p>
        The wrong value for <code class="literal">SQL_DESC_TYPE</code> was
        returned for date and time types.
      </p></li><li><p>
        <code class="literal">SQLConnect()</code> and
        <code class="literal">SQLDriverConnect()</code> were rewritten to
        eliminate duplicate code and ensure all options were supported
        using both connection methods.
        <code class="literal">SQLDriverConnect()</code> now only requires the
        setup library to be present when the call requires it.
      </p></li><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        The wrong value for <code class="literal">DECIMAL_DIGITS</code> in
        <code class="literal">SQLColumns()</code> was reported for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> fields, as well as the
        wrong value for the scale parameter to
        <code class="literal">SQLDescribeCol()</code>, and the
        <code class="literal">SQL_DESC_SCALE</code> attribute from
        <code class="literal">SQLColAttribute()</code>.
      </p></li><li><p>
        The <code class="literal">SQL_DATA_TYPE</code> column in
        <code class="literal">SQLColumns()</code> results did not report the
        correct value for date and time types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-17"></a>C.4.29. Changes in MySQL Connector/ODBC 3.51.17 (14 July 2007)</h3></div></div></div><p>Platform specific notes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Binary packages for Sun Solaris are now available as
        <code class="literal">PKG</code> packages.
      </p></li><li><p>
        Binary packages as disk images with installers are now available
        for Mac OS X.
      </p></li><li><p>
        A binary package without an installer is available for Microsoft
        Windows x64 Edition. There are no installer packages for
        Microsoft Windows x64 Edition.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        It is now possible to specify a different character set as part
        of the DSN or connection string. This must be used instead of
        the <code class="literal">SET NAMES</code> statement. You can also
        configure the character set value from the GUI configuration.
       (<a href="http://bugs.mysql.com/9498" target="_top">Bug#9498</a>, <a href="http://bugs.mysql.com/6667" target="_top">Bug#6667</a>)</p></li><li><p>
        Fixed calling convention ptr and wrong free in
        <span><strong class="command">myodbc3i</strong></span>, and fixed the null terminating (was
        only one, not two) when writing DSN to string.
      </p></li><li><p>
        Dis-allow NULL ptr for null indicator when calling SQLGetData()
        if value is null. Now returns SQL_ERROR w/state 22002.
      </p></li><li><p>
        The setup library has been split into its own RPM package, to
        allow installing the driver itself with no GUI dependencies.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">myodbc3i</code> did not correctly format driver
        info, which could cause the installation to fail.
       (<a href="http://bugs.mysql.com/29709" target="_top">Bug#29709</a>)</p></li><li><p>
        Connector/ODBC crashed with Crystal Reports due to a rproblem
        with <code class="literal">SQLProcedures()</code>.
       (<a href="http://bugs.mysql.com/28316" target="_top">Bug#28316</a>)</p></li><li><p>
        Fixed a problem where the GUI would crash when configuring or
        removing a System or User DSN.
       (<a href="http://bugs.mysql.com/27315" target="_top">Bug#27315</a>)</p></li><li><p>
        Fixed error handling of out-of-memory and bad connections in
        catalog functions. This might raise errors in code paths that
        had ignored them in the past.
       (<a href="http://bugs.mysql.com/26934" target="_top">Bug#26934</a>)</p></li><li><p>
        For a stored procedure that returns multiple result sets,
        Connector/ODBC returned only the first result set.
       (<a href="http://bugs.mysql.com/16817" target="_top">Bug#16817</a>)</p></li><li><p>
        Calling <code class="literal">SQLGetDiagField</code> with
        <code class="literal">RecNumber 0, DiagIdentifier NOT 0</code> returned
        <code class="literal">SQL_ERROR</code>, preventing access to diagnostic
        header fields.
       (<a href="http://bugs.mysql.com/16224" target="_top">Bug#16224</a>)</p></li><li><p>
        Added a new DSN option
        (<code class="literal">FLAG_ZERO_DATE_TO_MIN</code>) to retrieve
        <code class="literal">XXXX-00-00</code> dates as the minimum allowed ODBC
        date (<code class="literal">XXXX-01-01</code>). Added another option
        (<code class="literal">FLAG_MIN_DATE_TO_ZERO</code>) to mirror this but
        for bound parameters. <code class="literal">FLAG_MIN_DATE_TO_ZERO</code>
        only changes <code class="literal">0000-01-01</code> to
        <code class="literal">0000-00-00</code>.
       (<a href="http://bugs.mysql.com/13766" target="_top">Bug#13766</a>)</p></li><li><p>
        If there was more than one unique key on a table, the correct
        fields were not used in handling <code class="literal">SQLSetPos()</code>.
       (<a href="http://bugs.mysql.com/10563" target="_top">Bug#10563</a>)</p></li><li><p>
        When inserting a large <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>
        field, Connector/ODBC would crash due to a memory allocation
        error.
       (<a href="http://bugs.mysql.com/10562" target="_top">Bug#10562</a>)</p></li><li><p>
        The driver was using
        <code class="function">mysql_odbc_escape_string()</code>, which does not
        handle the
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> SQL mode.
        Now it uses
        <a href="connectors-apis.html#mysql-real-escape-string" title="20.10.3.53. mysql_real_escape_string()"><code class="literal">mysql_real_escape_string()</code></a>,
        which does.
       (<a href="http://bugs.mysql.com/9498" target="_top">Bug#9498</a>)</p></li><li><p>
        <code class="literal">SQLColumns()</code> did not handle many of its
        parameters correctly, which could lead to incorrect results. The
        table name argument was not handled as a pattern value, and most
        arguments were not escaped correctly when they contained
        non-alphanumeric characters.
       (<a href="http://bugs.mysql.com/8860" target="_top">Bug#8860</a>)</p></li><li><p>
        There are no binary packages for Microsoft Windows x64 Edition.
      </p></li><li><p>
        There is no binary package for Mac OS X on 64-bit PowerPC
        because Apple does not currently provide a 64-bit PowerPC
        version of iODBC.
      </p></li><li><p>
        Correctly return error if <code class="literal">SQLBindCol</code> is
        called with an invalid column.
      </p></li><li><p>
        Fixed possible crash if <code class="literal">SQLBindCol()</code> was not
        called before <code class="literal">SQLSetPos()</code>.
      </p></li><li><p>
        The Mac OS X binary packages are only provided as tarballs,
        there is no installer.
      </p></li><li><p>
        The binary packages for Sun Solaris are only provided as
        tarballs, not the PKG format.
      </p></li><li><p>
        The HP-UX 11.23 IA64 binary package does not include the GUI
        bits because of problems building Qt on that platform.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-16"></a>C.4.30. Changes in MySQL Connector/ODBC 3.51.16 (14 June 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC now supports using SSL for communication. This is
        not yet exposed in the setup GUI, but must be enabled through
        configuration files or the DSN.
       (<a href="http://bugs.mysql.com/12918" target="_top">Bug#12918</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Calls to SQLNativeSql() could cause stack corruption due to an
        incorrect pointer cast.
       (<a href="http://bugs.mysql.com/28758" target="_top">Bug#28758</a>)</p></li><li><p>
        Using curors on results sets with multi-column keys could select
        the wrong value.
       (<a href="http://bugs.mysql.com/28255" target="_top">Bug#28255</a>)</p></li><li><p>
        <code class="literal">SQLForeignKeys</code> does not escape
        <code class="literal">_</code> and <code class="literal">%</code> in the table name
        arguments.
       (<a href="http://bugs.mysql.com/27723" target="_top">Bug#27723</a>)</p></li><li><p>
        When using stored procedures, making a
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> or second stored procedure
        call after an initial stored procedure call, the second
        statement will fail.
       (<a href="http://bugs.mysql.com/27544" target="_top">Bug#27544</a>)</p></li><li><p>
        SQLTables() did not distinguish tables from views.
       (<a href="http://bugs.mysql.com/23031" target="_top">Bug#23031</a>)</p></li><li><p>
        Data in <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> columns would fail
        to be read correctly.
       (<a href="http://bugs.mysql.com/16917" target="_top">Bug#16917</a>)</p></li><li><p>
        Specifying strings as parameters using the
        <code class="literal">adBSTR</code> or <code class="literal">adVarWChar</code>
        types, (<code class="literal">SQL_WVARCHAR</code> and
        <code class="literal">SQL_WLONGVARCHAR</code>) would be incorrectly
        quoted.
       (<a href="http://bugs.mysql.com/16235" target="_top">Bug#16235</a>)</p></li><li><p>
        SQL_WVARCHAR and SQL_WLONGVARCHAR parameters were not properly
        quoted and escaped.
       (<a href="http://bugs.mysql.com/16235" target="_top">Bug#16235</a>)</p></li><li><p>
        Using <code class="literal">BETWEEN</code> with date values, the wrong
        results could be returned.
       (<a href="http://bugs.mysql.com/15773" target="_top">Bug#15773</a>)</p></li><li><p>
        When using the <code class="literal">Don't Cache Results</code> (option
        value <code class="literal">1048576</code>) with Microsoft Access, the
        connection will fail using DAO/VisualBasic.
       (<a href="http://bugs.mysql.com/4657" target="_top">Bug#4657</a>)</p></li><li><p>
        Return values from <code class="literal">SQLTables()</code> may be
        truncated. (Bugs #22797)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-15"></a>C.4.31. Changes in MySQL Connector/ODBC 3.51.15 (07 May 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/ODBC would incorrectly claim to support
        <code class="literal">SQLProcedureColumns</code> (by returning true when
        queried about <code class="literal">SQLPROCEDURECOLUMNS</code> with
        <code class="literal">SQLGetFunctions</code>), but this functionality is
        not supported.
       (<a href="http://bugs.mysql.com/27591" target="_top">Bug#27591</a>)</p></li><li><p>
        An incorrect transaction isolation level may not be returned
        when accessing the connection attributes.
       (<a href="http://bugs.mysql.com/27589" target="_top">Bug#27589</a>)</p></li><li><p>
        Adding a new DSN with the <code class="literal">myodbc3i</code> utility
        under AIX would fail.
       (<a href="http://bugs.mysql.com/27220" target="_top">Bug#27220</a>)</p></li><li><p>
        When inserting data using bulk statements (through
        <code class="literal">SQLBulkOperations</code>), the indicators for all
        rows within the insert would not updated correctly.
       (<a href="http://bugs.mysql.com/24306" target="_top">Bug#24306</a>)</p></li><li><p>
        Using <code class="literal">SQLProcedures</code> does not return the
        database name within the returned resultset.
       (<a href="http://bugs.mysql.com/23033" target="_top">Bug#23033</a>)</p></li><li><p>
        The <code class="literal">SQLTransact()</code> function did not support an
        empty connection handle.
       (<a href="http://bugs.mysql.com/21588" target="_top">Bug#21588</a>)</p></li><li><p>
        Using <code class="literal">SQLDriverConnect</code> instead of
        <code class="literal">SQLConnect</code> could cause later operations to
        fail.
       (<a href="http://bugs.mysql.com/7912" target="_top">Bug#7912</a>)</p></li><li><p>
        When using blobs and parameter replacement in a statement with
        <code class="literal">WHERE CURSOR OF</code>, the SQL is truncated.
       (<a href="http://bugs.mysql.com/5853" target="_top">Bug#5853</a>)</p></li><li><p>
        Connector/ODBC would return too many foreign key results when
        accessing tables with similar names.
       (<a href="http://bugs.mysql.com/4518" target="_top">Bug#4518</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-14"></a>C.4.32. Changes in MySQL Connector/ODBC 3.51.14 (08 March 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use of <code class="literal">SQL_ATTR_CONNECTION_TIMEOUT</code> on the
        server has now been disabled. If you attempt to set this
        attribute on your connection the
        <code class="literal">SQL_SUCCESS_WITH_INFO</code> will be returned, with
        an error number/string of <code class="literal">HYC00: Optional feature not
        supported</code>.
       (<a href="http://bugs.mysql.com/19823" target="_top">Bug#19823</a>)</p></li><li><p>
        Added auto is null option to Connector/ODBC option parameters.
       (<a href="http://bugs.mysql.com/10910" target="_top">Bug#10910</a>)</p></li><li><p>
        Added auto-reconnect option to Connector/ODBC option parameters.
      </p></li><li><p>
        Added support for the <code class="literal">HENV</code> handlers in
        <code class="literal">SQLEndTran()</code>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        On 64-bit systems, some types would be incorrectly returned.
       (<a href="http://bugs.mysql.com/26024" target="_top">Bug#26024</a>)</p></li><li><p>
        When retrieving <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> columns,
        C/ODBC would incorrectly interpret the type of the string and
        could interpret it as a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> type
        instead.
       (<a href="http://bugs.mysql.com/25846" target="_top">Bug#25846</a>)</p></li><li><p>
        Connector/ODBC may insert the wrong parameter values when using
        prepared statements under 64-bit Linux.
       (<a href="http://bugs.mysql.com/22446" target="_top">Bug#22446</a>)</p></li><li><p>
        Using Connector/ODBC, with <code class="literal">SQLBindCol</code> and
        binding the length to the return value from
        <code class="literal">SQL_LEN_DATA_AT_EXEC</code> fails with a memory
        allocation error.
       (<a href="http://bugs.mysql.com/20547" target="_top">Bug#20547</a>)</p></li><li><p>
        Using <code class="literal">DataAdapter</code>, Connector/ODBC may
        continually consume memory when reading the same records within
        a loop (Windows Server 2003 SP1/SP2 only).
       (<a href="http://bugs.mysql.com/20459" target="_top">Bug#20459</a>)</p></li><li><p>
        When retrieving data from columns that have been compressed
        using <code class="literal">COMPRESS()</code>, the retrieved data would be
        truncated to 8KB.
       (<a href="http://bugs.mysql.com/20208" target="_top">Bug#20208</a>)</p></li><li><p>
        The ODBC driver name and version number were incorrectly
        reported by the driver.
       (<a href="http://bugs.mysql.com/19740" target="_top">Bug#19740</a>)</p></li><li><p>
        A string format exception would be raised when using iODBC,
        Connector/ODBC and the embedded MySQL server.
       (<a href="http://bugs.mysql.com/16535" target="_top">Bug#16535</a>)</p></li><li><p>
        The <code class="literal">SQLDriverConnect()</code> ODBC method did not
        work with recent Connector/ODBC releases.
       (<a href="http://bugs.mysql.com/12393" target="_top">Bug#12393</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-13"></a>C.4.33. Changes in MySQL Connector/ODBC 3.51.13 (Never released)</h3></div></div></div><p>
        Connector/ODBC 3.51.13 was an internal implementation and
        testing release.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-12"></a>C.4.34. Changes in MySQL Connector/ODBC 3.51.12 (11 February 2005)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        N/A
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Using stored procedures with ADO, where the
        <code class="literal">CommandType</code> has been set correctly to
        <code class="literal">adCmdStoredProc</code>, calls to stored procedures
        would fail.
       (<a href="http://bugs.mysql.com/15635" target="_top">Bug#15635</a>)</p></li><li><p>
        File DSNs could not be saved.
       (<a href="http://bugs.mysql.com/12019" target="_top">Bug#12019</a>)</p></li><li><p>
        <code class="literal">SQLColumns()</code> returned no information for
        tables that had a column named using a reserved word.
       (<a href="http://bugs.mysql.com/9539" target="_top">Bug#9539</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-odbc-news-3-51-11"></a>C.4.35. Changes in MySQL Connector/ODBC 3.51.11 (28 January 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">mysql_list_dbcolumns()</code> and
        <code class="literal">insert_fields()</code> were retrieving all rows from
        a table. Fixed the queries generated by these functions to
        return no rows.
       (<a href="http://bugs.mysql.com/8198" target="_top">Bug#8198</a>)</p></li><li><p>
        <code class="literal">SQLGetTypoInfo()</code> returned
        <code class="literal">tinyblob</code> for <code class="literal">SQL_VARBINARY</code>
        and nothing for <code class="literal">SQL_BINARY</code>. Fixed to return
        <code class="literal">varbinary</code> for
        <code class="literal">SQL_VARBINARY</code>, <code class="literal">binary</code> for
        <code class="literal">SQL_BINARY</code>, and <code class="literal">longblob</code>
        for <code class="literal">SQL_LONGVARBINARY</code>.
       (<a href="http://bugs.mysql.com/8138" target="_top">Bug#8138</a>)</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="connector-net-news"></a>C.5. MySQL Connector/NET Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#connector-net-news-6-0-3">C.5.1. Changes in MySQL Connector/NET 6.0.3 (28 April 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-2">C.5.2. Changes in MySQL Connector/NET 6.0.2 (07 April 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-1">C.5.3. Changes in MySQL Connector/NET 6.0.1 (02 April 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-6-0-0">C.5.4. Changes in MySQL Connector/NET 6.0.0 (02 March 2009 alpha)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-3-0">C.5.5. Changes in MySQL Connector/NET 5.3.0 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-6">C.5.6. Changes in MySQL Connector/NET 5.2.6 (28 April 2009)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-5">C.5.7. Changes in MySQL Connector/NET 5.2.5 (19 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-4">C.5.8. Changes in MySQL Connector/NET 5.2.4 (13 November 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-3">C.5.9. Changes in MySQL Connector/NET 5.2.3 (19 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-2">C.5.10. Changes in MySQL Connector/NET 5.2.2 (12 May 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-1">C.5.11. Changes in MySQL Connector/NET 5.2.1 (27 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-2-0">C.5.12. Changes in MySQL Connector/NET 5.2.0 (11 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-8">C.5.13. Changes in MySQL Connector/NET 5.1.8 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-7">C.5.14. Changes in MySQL Connector/NET 5.1.7 (21 August 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-6">C.5.15. Changes in MySQL Connector/NET 5.1.6 (12 May 2008)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-5">C.5.16. Changes in MySQL Connector/NET 5.1.5 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-4">C.5.17. Changes in MySQL Connector/NET 5.1.4 (20 November 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-3">C.5.18. Changes in MySQL Connector/NET 5.1.3 (21 September 2007 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-2">C.5.19. Changes in MySQL Connector/NET 5.1.2 (18 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-1">C.5.20. Changes in MySQL Connector/NET 5.1.1 (23 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-1-0">C.5.21. Changes in MySQL Connector/NET 5.1.0 (01 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-10">C.5.22. Changes in MySQL Connector/NET 5.0.10 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-9">C.5.23. Changes in MySQL Connector/NET 5.0.9 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-8">C.5.24. Changes in MySQL Connector/NET 5.0.8 (21 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-7">C.5.25. Changes in MySQL Connector/NET 5.0.7 (18 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-6">C.5.26. Changes in MySQL Connector/NET 5.0.6 (22 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-5">C.5.27. Changes in MySQL Connector/NET 5.0.5 (07 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-4">C.5.28. Changes in MySQL Connector/NET 5.0.4 (Not released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-3">C.5.29. Changes in MySQL Connector/NET 5.0.3 (05 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-2">C.5.30. Changes in MySQL Connector/NET 5.0.2 (06 November 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-1">C.5.31. Changes in MySQL Connector/NET 5.0.1 (01 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-5-0-0">C.5.32. Changes in MySQL Connector/NET 5.0.0 (08 August 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-11">C.5.33. Changes in MySQL Connector/NET 1.0.11 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-10">C.5.34. Changes in MySQL Connector/NET 1.0.10 (24 August 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-9">C.5.35. Changes in MySQL Connector/NET 1.0.9 (02 February 2007)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-8">C.5.36. Changes in MySQL Connector/NET 1.0.8 (20 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-7">C.5.37. Changes in MySQL Connector/NET 1.0.7 (21 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-6">C.5.38. Changes in MySQL Connector/NET 1.0.6 (03 October 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-5">C.5.39. Changes in MySQL Connector/NET 1.0.5 (29 August 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-4">C.5.40. Changes in MySQL Connector/NET 1.0.4 (20 January 2005)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-3">C.5.41. Changes in MySQL Connector/NET 1.0.3 (12 October 2004 gamma)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-2">C.5.42. Changes in MySQL Connector/NET 1.0.2 (15 November 2004 gamma)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-1">C.5.43. Changes in MySQL Connector/NET 1.0.1 (27 October 2004 beta)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-1-0-0">C.5.44. Changes in MySQL Connector/NET 1.0.0 (01 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-9-0">C.5.45. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-76">C.5.46. Changes in MySQL Connector/NET Version 0.76</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-75">C.5.47. Changes in MySQL Connector/NET Version 0.75</a></span></dt><dt><span class="section"><a href="news.html#connector-net-0-74">C.5.48. Changes in MySQL Connector/NET Version 0.74</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-71">C.5.49. Changes in MySQL Connector/NET Version 0.71</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-70">C.5.50. Changes in MySQL Connector/NET Version 0.70</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-68">C.5.51. Changes in MySQL Connector/NET Version 0.68</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-65">C.5.52. Changes in MySQL Connector/NET Version 0.65</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-60">C.5.53. Changes in MySQL Connector/NET Version 0.60</a></span></dt><dt><span class="section"><a href="news.html#connector-net-news-0-50">C.5.54. Changes in MySQL Connector/NET Version 0.50</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-6-0-3"></a>C.5.1. Changes in MySQL Connector/NET 6.0.3 (28 April 2009 beta)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="literal">MySqlTokenizer</code> failed to split fieldnames
        from values if they were not separated by a space. This also
        happened if the string contained certain characters. As a result
        <code class="literal">MySqlCommand.ExecuteNonQuery</code> raised an index
        out of range exception.
      </p><p>
        The resulting errors are illustrated by the following examples.
        Note, the example statements do not have delimiting spaces
        around the <code class="literal">=</code> operator.
      </p><pre class="programlisting">INSERT INTO anytable SET Text='test--test';</pre><p>
        The tokenizer incorrectly interpreted the value as containing a
        comment.
      </p><pre class="programlisting">UPDATE anytable SET Project='123-456',Text='Can you explain this ?',Duration=15 WHERE
ID=4711;'</pre><p>
        A <code class="literal">MySqlException</code> was generated, as the
        <code class="literal">?</code> in the value was interpreted by the
        tokenizer as a parameter sign. The error message generated was:
      </p><pre class="programlisting">Fatal error encountered during command execution.
EXCEPTION: MySqlException - Parameter '?'' must be defined.</pre><p>(<a href="http://bugs.mysql.com/44318" target="_top">Bug#44318</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySQL.Data</code> was not displayed as a Reference
        inside Microsoft Visual Studio 2008 Professional.
      </p><p>
        When a new C# project was created in Microsoft Visual Studio
        2008 Professional, <code class="literal">MySQL.Data</code> was not
        displayed when <span class="guimenu">References</span>, <span class="guimenu">Add
        Reference</span> was selected.
       (<a href="http://bugs.mysql.com/44141" target="_top">Bug#44141</a>)</p></li><li><p>
        Column types for <code class="literal">SchemaProvider</code> and
        <code class="literal">ISSchemaProvider</code> did not match.
      </p><p>
        When the source code in <code class="filename">SchemaProvider.cs</code>
        and <code class="filename">ISSchemaProvider.cs</code> were compared it
        was apparent that they were not using the same column types. The
        base provider used SQL such as <code class="literal">SHOW CREATE
        TABLE</code>, while <code class="literal">ISSchemaProvider</code> used
        the schema information tables. Column types used by the base
        class were <code class="literal">INT64</code> and the column types used by
        <code class="literal">ISSchemaProvider</code> were
        <code class="literal">UNSIGNED</code>.
       (<a href="http://bugs.mysql.com/44123" target="_top">Bug#44123</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-6-0-2"></a>C.5.2. Changes in MySQL Connector/NET 6.0.2 (07 April 2009 beta)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/Net 6.0.1 did not load in Microsoft Visual Studio 2008
        and Visual Studio 2005 Pro.
      </p><p>
        The following error message was generated:
      </p><pre class="programlisting">.NET Framework Data Provider for MySQL: The data provider object factory service was not
found.</pre><p>(<a href="http://bugs.mysql.com/44064" target="_top">Bug#44064</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-6-0-1"></a>C.5.3. Changes in MySQL Connector/NET 6.0.1 (02 April 2009 beta)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An insert and update error was generated by the decimal data
        type in the Entity Framework, when a German collation was used.
       (<a href="http://bugs.mysql.com/43574" target="_top">Bug#43574</a>)</p></li><li><p>
        Generating an Entity Data Model (EDM) schema with a table
        containing columns with data types <code class="literal">MEDIUMTEXT</code>
        and <code class="literal">LONGTEXT</code> generated a runtime error
        message “<span class="quote">Max value too long or too short for
        Int32</span>”.
       (<a href="http://bugs.mysql.com/43480" target="_top">Bug#43480</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-6-0-0"></a>C.5.4. Changes in MySQL Connector/NET 6.0.0 (02 March 2009 alpha)</h3></div></div></div><p class="release-level">
        This is a new Alpha development release.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        A null reference exception was generated when
        <code class="literal">MySqlConnection.ClearPool(connection)</code> was
        called.
       (<a href="http://bugs.mysql.com/42801" target="_top">Bug#42801</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-3-0"></a>C.5.5. Changes in MySQL Connector/NET 5.3.0 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Web Provider did not work at all on a remote host, and did
        not create a database when using
        <code class="literal">autogenerateschema="true"</code>.
       (<a href="http://bugs.mysql.com/39072" target="_top">Bug#39072</a>)</p></li><li><p>
        The Connector/NET installer program ended prematurely without
        reporting the specific error.
       (<a href="http://bugs.mysql.com/39019" target="_top">Bug#39019</a>)</p></li><li><p>
        When called with an incorrect password the
        <code class="methodname">MembershipProvider.GetPassword()</code> method
        threw a
        <code class="exceptionname">MySQLException</code>
        instead of a
        <code class="exceptionname">MembershipPasswordException</code>
        .
       (<a href="http://bugs.mysql.com/38939" target="_top">Bug#38939</a>)</p></li><li><p>
        Possible overflow in
        <code class="methodname">MySqlPacket.ReadLong()</code>.
       (<a href="http://bugs.mysql.com/36997" target="_top">Bug#36997</a>)</p></li><li><p>
        The <code class="methodname">TokenizeSql</code> method was adding query
        overhead and causing high CPU utilization for larger queries.
       (<a href="http://bugs.mysql.com/36836" target="_top">Bug#36836</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-6"></a>C.5.6. Changes in MySQL Connector/NET 5.2.6 (28 April 2009)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        A new connection string option has been added: <code class="literal">use
        affected rows</code>. When <code class="literal">true</code> the
        connection will report changed rows instead of found rows.
       (<a href="http://bugs.mysql.com/44194" target="_top">Bug#44194</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Calling <code class="literal">GetSchema()</code> on
        <code class="literal">Indexes</code> or <code class="literal">IndexColumns</code>
        failed where index or column names were restricted.
      </p><p>
        In <code class="filename">SchemaProvider.cs</code>, methods
        <code class="literal">GetIndexes()</code> and
        <code class="literal">GetIndexColumns()</code> passed their restrictions
        directly to <code class="literal">GetTables()</code>. This only worked if
        the restrictions were no more specific than
        <code class="literal">schemaName</code> and <code class="literal">tableName</code>.
        If <code class="literal">IndexName</code> was given, this was passed to
        <code class="literal">GetTables()</code> where it was treated as
        <code class="literal">TableType</code>. As a result no tables were
        returned, unless the index name happened to be <code class="literal">BASE
        TABLE</code> or <code class="literal">VIEW</code>. This meant that both
        methods failed to return any rows.
       (<a href="http://bugs.mysql.com/43991" target="_top">Bug#43991</a>)</p></li><li><p>
        <code class="literal">GetSchema("MetaDataCollections")</code> should have
        returned a table with a column named
        “<span class="quote">NumberOfRestrictions</span>” not
        “<span class="quote">NumberOfRestriction</span>”.
      </p><p>
        This can be confirmed by referencing the
        <a href="http://msdn.microsoft.com/en-us/library/system.data.common.dbmetadatacolumnnames.numberofrestrictions.aspx" target="_top">Microsoft
        Documentation</a>.
       (<a href="http://bugs.mysql.com/43990" target="_top">Bug#43990</a>)</p></li><li><p>
        Requests sent to the Connector/NET role provider to remove a
        user from a role failed. The query log showed the query was
        correctly executed within a transaction which was immediately
        rolled back. The rollback was caused by a missing call to the
        <code class="literal">Complete</code> method of the transaction.
       (<a href="http://bugs.mysql.com/43553" target="_top">Bug#43553</a>)</p></li><li><p>
        When using <code class="literal">MySqlBulkLoader.Load()</code>, the text
        file is opened by
        <code class="literal">NativeDriver.SendFileToServer</code>. If it
        encountered a problem opening the file as a stream, an exception
        was generated and caught. An attempt to clean up resources was
        then made in the <code class="literal">finally{}</code> clause by calling
        <code class="literal">fs.Close()</code>, but since the stream was never
        successfully opened, this was an attempt to execute a method of
        a null reference.
       (<a href="http://bugs.mysql.com/43332" target="_top">Bug#43332</a>)</p></li><li><p>
        A null reference exception was generated when
        <code class="literal">MySqlConnection.ClearPool(connection)</code> was
        called.
       (<a href="http://bugs.mysql.com/42801" target="_top">Bug#42801</a>)</p></li><li><p>
        <code class="literal">MySQLMembershipProvider.ValidateUser</code> only
        used the <code class="literal">userId</code> to validate. However, it
        should also use the <code class="literal">applicationId</code> to perform
        the validation correctly.
      </p><p>
        The generated query was, for example:
      </p><pre class="programlisting">SELECT Password, PasswordKey, PasswordFormat, IsApproved, Islockedout 
FROM my_aspnet_Membership WHERE userId=13</pre><p>
        Note that <code class="literal">applicationId</code> is not used.
       (<a href="http://bugs.mysql.com/42574" target="_top">Bug#42574</a>)</p></li><li><p>
        There was an error in the <code class="literal">ProfileProvider</code>
        class in the <code class="literal">private ProfileInfoCollection
        GetProfiles()</code> function. The column of the final table
        was named “<span class="quote">lastUpdatdDate</span>” ('e' is
        missing) instead of the correct “<span class="quote">lastUpdatedDate</span>”.
       (<a href="http://bugs.mysql.com/41654" target="_top">Bug#41654</a>)</p></li><li><p>
        The <code class="methodname">GetGuid()</code> method of
        <code class="classname">MySqlDataReader</code> did not treat
        <code class="literal">BINARY(16)</code> column data as a GUID. When
        operating on such a column a <code class="literal">FormatException</code>
        exception was generated.
       (<a href="http://bugs.mysql.com/41452" target="_top">Bug#41452</a>)</p></li><li><p>
        When ASP.NET membership was configured to not require password
        question and answer using
        <code class="literal">requiresQuestionAndAnswer="false"</code>, a
        <code class="literal">SqlNullValueException</code> was generated when
        using <code class="literal">MembershipUser.ResetPassword()</code> to reset
        the user password.
       (<a href="http://bugs.mysql.com/41408" target="_top">Bug#41408</a>)</p></li><li><p>
        If a <code class="literal">Stored Procedure</code> contained spaces in its
        parameter list, and was then called from Connector/NET, an
        exception was generated. However, the same <code class="literal">Stored
        Procedure</code> called from the MySQL Query Analyzer or the
        MySQL Client worked correctly.
      </p><p>
        The exception generated was:
      </p><pre class="programlisting">Parameter '0' not found in the collection.
</pre><p>(<a href="http://bugs.mysql.com/41034" target="_top">Bug#41034</a>)</p></li><li><p>
        The <code class="literal">DATETIME</code> format contained an erroneous
        space.
       (<a href="http://bugs.mysql.com/41021" target="_top">Bug#41021</a>)</p></li><li><p>
        When <code class="literal">MySql.Web.Profile.MySQLProfileProvider</code>
        was configured, it was not possible to assign a name other than
        the default name <code class="literal">MySQLProfileProvider</code>.
      </p><p>
        If the name <code class="literal">SCC_MySQLProfileProvider</code> was
        assigned, an exception was generated when attempting to use
        <code class="literal">Page.Context.Profile['custom prop']</code>.
      </p><p>
        The exception generated was:
      </p><pre class="programlisting">The profile default provider was not found.</pre><p>
        Note that the exception stated: 'the profile
        <span class="bold"><strong>default provider</strong></span>...', even
        though a different name was explicitly requested.
       (<a href="http://bugs.mysql.com/40871" target="_top">Bug#40871</a>)</p></li><li><p>
        When <code class="literal">ExecuteNonQuery</code> was called with a
        command type of <code class="literal">Stored Procedure</code> it worked
        for one user but resulted in a hang for another user with the
        same database permissions.
      </p><p>
        However, if <code class="literal">CALL</code> was used in the command text
        and <code class="literal">ExecuteNonQuery</code> was used with a command
        type of <code class="literal">Text</code>, the call worked for both users.
       (<a href="http://bugs.mysql.com/40139" target="_top">Bug#40139</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-5"></a>C.5.7. Changes in MySQL Connector/NET 5.2.5 (19 November 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Visual Studio 2008 displayed the following error three times on
        start-up:
      </p><pre class="programlisting">"Package Load Failure

Package 'MySql.Data.VisualStudio.MySqlDataProviderPackage, MySql.VisualStudio,
Version=5.2.4, Culture=neutral, PublicKeyTopen=null' has failed to load properly (GUID =
{79A115C9-B133-4891-9E7B-242509DAD272}).  Please contact the package vendor for
assistance.  Application restart is recommended, due to possible environment corruption. 
Would you like to disable loading the package in the future?  You may use
'devenve/resetskippkgs' to re-enable package loading."
</pre><p>(<a href="http://bugs.mysql.com/40726" target="_top">Bug#40726</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-4"></a>C.5.8. Changes in MySQL Connector/NET 5.2.4 (13 November 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySqlDataReader</code> did not feature a
        <code class="literal">GetSByte</code> method.
       (<a href="http://bugs.mysql.com/40571" target="_top">Bug#40571</a>)</p></li><li><p>
        When working with stored procedures Connector/NET generated an
        exception <code class="literal">Unknown "table parameters" in
        information_schema</code>.
       (<a href="http://bugs.mysql.com/40382" target="_top">Bug#40382</a>)</p></li><li><p>
        <code class="literal">GetDefaultCollation</code> and
        <code class="literal">GetMaxLength</code> were not thread safe. These
        functions called the database to get a set of parameters and
        cached them in two static dictionaries in the function
        <code class="literal">InitCollections</code>. However, if many threads
        called them they would try to insert the same keys in the
        collections resulting in duplicate key exceptions.
       (<a href="http://bugs.mysql.com/40231" target="_top">Bug#40231</a>)</p></li><li><p>
        If connection pooling was not set explicitly in the connection
        string, Connector/NET added “<span class="quote">;Pooling=False</span>” to the
        end of the connection string when
        <code class="literal">MySqlCommand.ExecuteReader()</code> was called.
      </p><p>
        If connection pooling was explicitly set in the connection
        string, when <code class="literal">MySqlConnection.Open()</code> was
        called it converted “<span class="quote">Pooling=True</span>” to
        “<span class="quote">pooling=True</span>”.
      </p><p>
        If <code class="literal">MySqlCommand.ExecuteReader()</code> was
        subsequently called, it concatenated
        “<span class="quote">;Pooling=False</span>” to the end of the connection
        string. The resulting connection string was thus terminated with
        “<span class="quote">pooling=True;Pooling=False</span>”. This disabled
        connection pooling completely.
       (<a href="http://bugs.mysql.com/40091" target="_top">Bug#40091</a>)</p></li><li><p>
        The connection string option <code class="literal">Functions Return
        String</code> did not set the correct encoding for the result
        string. Even though the connection string option
        <code class="literal">Functions Return String=true;</code> is set, the
        result of <code class="literal">SELECT DES_DECRYPT()</code> contained
        “<span class="quote">??</span>” instead of the correct national character
        symbols.
       (<a href="http://bugs.mysql.com/40076" target="_top">Bug#40076</a>)</p></li><li><p>
        If, when using the <code class="classname">MySqlTransaction</code>
        transaction object, an exception was thrown, the transaction
        object was not disposed of and the transaction was not rolled
        back.
       (<a href="http://bugs.mysql.com/39817" target="_top">Bug#39817</a>)</p></li><li><p>
        After the <code class="literal">ConnectionString</code> property was
        initialized via the public setter of
        <code class="classname">DbConnectionStringBuilder</code>, the
        <code class="methodname">GetConnectionString</code> method of
        <code class="classname">MySqlConnectionStringBuilder</code> incorrectly
        returned <code class="literal">null</code> when <code class="literal">true</code>
        was assigned to the <code class="literal">includePass</code> parameter.
       (<a href="http://bugs.mysql.com/39728" target="_top">Bug#39728</a>)</p></li><li><p>
        When using <code class="classname">ProfileProvider</code>, attempting to
        update a previously saved property failed.
       (<a href="http://bugs.mysql.com/39330" target="_top">Bug#39330</a>)</p></li><li><p>
        Reading a negative time value greater than -01:00:00 returned
        the absolute value of the original time value.
       (<a href="http://bugs.mysql.com/39294" target="_top">Bug#39294</a>)</p></li><li><p>
        Inserting a negative time value (negative
        <code class="literal">TimeSpan</code>) into a <code class="literal">Time</code>
        column through the use of <code class="classname">MySqlParameter</code>
        caused
        <code class="exceptionname">MySqlException</code>
        to be thrown.
       (<a href="http://bugs.mysql.com/39275" target="_top">Bug#39275</a>)</p></li><li><p>
        When a data connection was created in the server explorer of
        Visual Studio 2008 Team, an error was generated when trying to
        expand stored procedures that had parameters.
      </p><p>
        Also, if <span class="guilabel">TableAdapter</span> was right-clicked and
        then <span class="guimenu">Add</span>, <span class="guimenu">Query</span>,
        <span class="guimenu">Use Existing Stored Procedures</span> selected, if
        you then attempted to select a stored procedure, the window
        would close and no error message would be displayed.
       (<a href="http://bugs.mysql.com/39252" target="_top">Bug#39252</a>)</p></li><li><p>
        The Web Provider did not work at all on a remote host, and did
        not create a database when using
        <code class="literal">autogenerateschema="true"</code>.
       (<a href="http://bugs.mysql.com/39072" target="_top">Bug#39072</a>)</p></li><li><p>
        Connector/NET called hashed password methods not supported in
        Mono 2.0 Preview 2.
       (<a href="http://bugs.mysql.com/38895" target="_top">Bug#38895</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-3"></a>C.5.9. Changes in MySQL Connector/NET 5.2.3 (19 August 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Error string was returned after a 28000 second
        <a href="server-administration.html#sysvar_wait_timeout"><code class="literal">wait_timeout</code></a>. This has been
        changed to generate a <code class="literal">ConnectionState.Closed</code>
        event.
       (<a href="http://bugs.mysql.com/38119" target="_top">Bug#38119</a>)</p></li><li><p>
        Changed how the procedure schema collection is retrieved. If the
        connection string contains “<span class="quote"><code class="literal">use procedure
        bodies=true</code></span>” then a
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> is performed on the
        <code class="literal">mysql.proc</code> table directly, as this is up to
        50 times faster than the current Information Schema
        implementation. If the connection string contains
        “<span class="quote"><code class="literal">use procedure bodies=false</code></span>”,
        then the Information Schema collection is queried.
       (<a href="http://bugs.mysql.com/36694" target="_top">Bug#36694</a>)</p></li><li><p>
        Changed how the procedure schema collection is retrieved. If
        <code class="literal">use procedure bodies=true</code> then the
        <code class="literal">mysql.proc</code> table is selected directly as this
        is up to 50 times faster than the current
        <code class="literal">information_schema</code> implementation. If
        <code class="literal">use procedure bodies=false</code>, then the
        <code class="literal">information_schema</code> collection is queried.
       (<a href="http://bugs.mysql.com/36694" target="_top">Bug#36694</a>)</p></li><li><p>
        String escaping functionality has been moved from the
        <code class="classname">MySqlString</code> class to the
        <code class="classname">MySqlHelper</code> class, where it can be
        accessed by the <code class="methodname">EscapeString</code> method.
       (<a href="http://bugs.mysql.com/36205" target="_top">Bug#36205</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="methodname">GetOrdinal()</code> method failed to
        return the ordinal if the column name string contained an
        accent.
       (<a href="http://bugs.mysql.com/38721" target="_top">Bug#38721</a>)</p></li><li><p>
        Connector/Net uninstaller did not clean up all installed files.
       (<a href="http://bugs.mysql.com/38534" target="_top">Bug#38534</a>)</p></li><li><p>
        There was a short circuit evaluation error in the
        <code class="methodname">MySqlCommand.CheckState()</code> method. When
        the statement <code class="literal">connection == null</code> was true a
        <code class="classname">NullReferenceException</code> was thrown and not
        the expected <code class="classname">InvalidOperationException</code>.
       (<a href="http://bugs.mysql.com/38276" target="_top">Bug#38276</a>)</p></li><li><p>
        The provider did not silently create the user if the user did
        not exist.
       (<a href="http://bugs.mysql.com/38243" target="_top">Bug#38243</a>)</p></li><li><p>
        Executing a command that resulted in a fatal exception did not
        close the connection.
       (<a href="http://bugs.mysql.com/37991" target="_top">Bug#37991</a>)</p></li><li><p>
        When a prepared insert query is run that contains an
        <code class="literal">UNSIGNED TINYINT</code> in the parameter list, the
        complete query and data that should be inserted is corrupted and
        no error is thrown.
       (<a href="http://bugs.mysql.com/37968" target="_top">Bug#37968</a>)</p></li><li><p>
        In a .NET application MySQL Connector/NET modifies the
        connection string so that it contains several occurrences of the
        same option with different values. This is illustrated by the
        example that follows.
      </p><p>
        The original connection string:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25; auto enlist=false;pooling=false;</pre><p>
        The connection string after after closing
        <code class="classname">MySqlDataReader</code>:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25;auto enlist=false;pooling=false; 
  Allow User Variables=True;Allow User Variables=False;
  Allow User Variables=True;Allow User Variables=False;</pre><p>(<a href="http://bugs.mysql.com/37955" target="_top">Bug#37955</a>)</p></li><li><p>
        Unnecessary network traffic was generated for the normal case
        where the web provider schema was up to date.
       (<a href="http://bugs.mysql.com/37469" target="_top">Bug#37469</a>)</p></li><li><p>
        <code class="methodname">MySqlReader.GetOrdinal()</code> performance
        enhancements break existing functionality.
       (<a href="http://bugs.mysql.com/37239" target="_top">Bug#37239</a>)</p></li><li><p>
        The <code class="literal">autogenerateschema</code> option produced tables
        with incorrect collations.
       (<a href="http://bugs.mysql.com/36444" target="_top">Bug#36444</a>)</p></li><li><p>
        <code class="methodname">GetSchema</code> did not work correctly when
        querying for a collection, if using a non-English locale.
       (<a href="http://bugs.mysql.com/35459" target="_top">Bug#35459</a>)</p></li><li><p>
        When reading back a stored double or single value using the .NET
        provider, the value had less precision than the one stored.
       (<a href="http://bugs.mysql.com/33322" target="_top">Bug#33322</a>)</p></li><li><p>
        Using the MySQL Visual Studio plugin and a MySQL 4.1 server,
        certain field types (<a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a>) would
        not be identified correctly. Also, when looking for tables, the
        plugin would list all tables matching a wildcard pattern of the
        database name supplied in the connection string, instead of only
        tables within the specified database.
       (<a href="http://bugs.mysql.com/30603" target="_top">Bug#30603</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-2"></a>C.5.10. Changes in MySQL Connector/NET 5.2.2 (12 May 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Product documentation incorrectly stated '?' is the preferred
        parameter marker.
       (<a href="http://bugs.mysql.com/37349" target="_top">Bug#37349</a>)</p></li><li><p>
        An incorrect value for a bit field would returned in a multi-row
        query if a preceding value for the field returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/36313" target="_top">Bug#36313</a>)</p></li><li><p>
        Tables with <code class="literal">GEOMETRY</code> field types would return
        an unknown datatype exception.
       (<a href="http://bugs.mysql.com/36081" target="_top">Bug#36081</a>)</p></li><li><p>
        When using the <code class="literal">MySQLProfileProvider</code>, setting
        profile details and then reading back saved data would result in
        the default values being returned instead of the updated values.
       (<a href="http://bugs.mysql.com/36000" target="_top">Bug#36000</a>)</p></li><li><p>
        When creating a connection, setting the
        <code class="literal">ConnectionString</code> property of
        <code class="literal">MySqlConnection</code> to <code class="literal">NULL</code>
        would throw an exception.
       (<a href="http://bugs.mysql.com/35619" target="_top">Bug#35619</a>)</p></li><li><p>
        The <code class="methodname">DbCommandBuilder.QuoteIdentifer</code>
        method was not implemented.
       (<a href="http://bugs.mysql.com/35492" target="_top">Bug#35492</a>)</p></li><li><p>
        When using encrypted passwords, the
        <code class="literal">GetPassword()</code> function would return the wrong
        string.
       (<a href="http://bugs.mysql.com/35336" target="_top">Bug#35336</a>)</p></li><li><p>
        An error would be raised when calling
        <code class="literal">GetPassword()</code> with a <code class="literal">NULL</code>
        value.
       (<a href="http://bugs.mysql.com/35332" target="_top">Bug#35332</a>)</p></li><li><p>
        When retreiving data where a field has been identified as
        containing a GUID value, the incorrect value would be returned
        when a previous row contained a <code class="literal">NULL</code> value
        for that field.
       (<a href="http://bugs.mysql.com/35041" target="_top">Bug#35041</a>)</p></li><li><p>
        Using the <code class="literal">TableAdapter Wizard</code> would fail when
        generating commands that used stored procedures due to the
        change in supported parameter characters.
       (<a href="http://bugs.mysql.com/34941" target="_top">Bug#34941</a>)</p></li><li><p>
        When creating a new stored procedured, the new parameter code
        which allows the use of the <code class="literal">@</code> symbol would
        interfere with the specification of a
        <code class="literal">DEFINER</code>.
       (<a href="http://bugs.mysql.com/34940" target="_top">Bug#34940</a>)</p></li><li><p>
        When using <code class="literal">SqlDataSource</code> to open a
        connection, the connection would not automatically be closed
        when access had completed.
       (<a href="http://bugs.mysql.com/34460" target="_top">Bug#34460</a>)</p></li><li><p>
        There was a high level of contention in the connection pooling
        code that could lead to delays when opening connections and
        submitting queries. The connection pooling code has been
        modified to try and limit the effects of the contention issue.
       (<a href="http://bugs.mysql.com/34001" target="_top">Bug#34001</a>)</p></li><li><p>
        Using the <code class="literal">TableAdaptor</code> wizard in combination
        with a suitable <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement,
        only the associated <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statement would also be created, rather than the required
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> and
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/31338" target="_top">Bug#31338</a>)</p></li><li><p>
        Fixed problem in datagrid code related to creating a new table.
        This problem may have been introduced with .NET 2.0 SP1.
      </p></li><li><p>
        Fixed profile provider that would throw an exception if you were
        updating a profile that already existed.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-1"></a>C.5.11. Changes in MySQL Connector/NET 5.2.1 (27 February 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using the provider to generate or update users and
        passwords, the password checking algorithm would not validate
        the password strength or requirements correctly.
       (<a href="http://bugs.mysql.com/34792" target="_top">Bug#34792</a>)</p></li><li><p>
        When executing statements that used stored procedures and
        functions, the new parameter code could fail to identify the
        correct parameter format.
       (<a href="http://bugs.mysql.com/34699" target="_top">Bug#34699</a>)</p></li><li><p>
        The installer would fail to the DDEX provider binary if the
        Visual Studio 2005 component was not selected. The result would
        lead to Connector/NET not loading properly when using the
        interface to a MySQL server within Visual Studio.
       (<a href="http://bugs.mysql.com/34674" target="_top">Bug#34674</a>)</p></li><li><p>
        A number issues were identified in the case, connection and
        scema areas of the code for
        <code class="literal">MembershipProvider</code>,
        <code class="literal">RoleProvider</code>,
        <code class="literal">ProfileProvider</code>.
       (<a href="http://bugs.mysql.com/34495" target="_top">Bug#34495</a>)</p></li><li><p>
        When using web providers, the Connector/NET would check the
        schema and cache the application id, even when the connection
        string had been set. The effect would be to break the memvership
        provider list.
       (<a href="http://bugs.mysql.com/34451" target="_top">Bug#34451</a>)</p></li><li><p>
        Attempting to use an isolation level other than the default with
        a transaction scope would use the default isolation level.
       (<a href="http://bugs.mysql.com/34448" target="_top">Bug#34448</a>)</p></li><li><p>
        When altering a stored procedure within Visual Studio, the
        parameters to the procedure could be lost.
       (<a href="http://bugs.mysql.com/34359" target="_top">Bug#34359</a>)</p></li><li><p>
        A race condition could occur within the procedure cache
        resulting the cache contents overflowing beyond the configured
        cache size.
       (<a href="http://bugs.mysql.com/34338" target="_top">Bug#34338</a>)</p></li><li><p>
        Fixed problem with Visual Studio 2008 integration that caused
        pop-up menus on server explorer nodes to not function
      </p></li><li><p>
        The provider code has been updated to fix a number of
        outstanding issues.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-2-0"></a>C.5.12. Changes in MySQL Connector/NET 5.2.0 (11 February 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Performing <code class="function">GetValue()</code> on a field
        <code class="literal">TINYINT(1)</code> returned a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOLEAN</code></a>. While not a bug, this
        caused problems in software that expected an
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> to be returned. A new
        connection string option <code class="literal">Treat Tiny As
        Boolean</code> has been added with a default value of
        <code class="literal">true</code>. If set to <code class="literal">false</code> the
        provider will treat <code class="literal">TINYINT(1)</code> as
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a>.
       (<a href="http://bugs.mysql.com/34052" target="_top">Bug#34052</a>)</p></li><li><p>
        Added support for <code class="literal">DbDataAdapter</code>
        <code class="literal">UpdateBatchSize</code>. Batching is fully supported
        including collapsing inserts down into the multi-value form if
        possible.
      </p></li><li><p>
        DDEX provider now works under Visual Studio 2008 beta 2.
      </p></li><li><p>
        Added ClearPool and ClearAllPools features.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Some speed improvements have been implemented in the
        <code class="literal">TokenizeSql</code> process used to identify elements
        of SQL statements.
       (<a href="http://bugs.mysql.com/34220" target="_top">Bug#34220</a>)</p></li><li><p>
        When accessing tables from different databases within the same
        <code class="literal">TransactionScope</code>, the same user/password
        combination would be used for each database connection.
        Connector/NET does not handle multiple connections within the
        same transaction scope. An error is now returned if you attempt
        this process, instead of using the incorrect authorization
        information.
       (<a href="http://bugs.mysql.com/34204" target="_top">Bug#34204</a>)</p></li><li><p>
        The status of connections reported through the state change
        handler was not being updated correctly.
       (<a href="http://bugs.mysql.com/34082" target="_top">Bug#34082</a>)</p></li><li><p>
        Incorporated some connection string cache optimizations sent to
        us by Maxim Mass.
       (<a href="http://bugs.mysql.com/34000" target="_top">Bug#34000</a>)</p></li><li><p>
        In an open connection where the server had disconnected
        unexpectedly, the status information of the connection would not
        be updated properly.
       (<a href="http://bugs.mysql.com/33909" target="_top">Bug#33909</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        Using compression in the MySQL connection with Connector/NET
        would be slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li><li><p>
        The <code class="literal">MySqlDbType.Datetime</code> has been replaced
        with <code class="literal">MySqlDbType.DateTime</code>. The old format has
        been obsoleted.
       (<a href="http://bugs.mysql.com/26344" target="_top">Bug#26344</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-8"></a>C.5.13. Changes in MySQL Connector/NET 5.1.8 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Calling <code class="literal">GetSchema()</code> on
        <code class="literal">Indexes</code> or <code class="literal">IndexColumns</code>
        failed where index or column names were restricted.
      </p><p>
        In <code class="filename">SchemaProvider.cs</code>, methods
        <code class="literal">GetIndexes()</code> and
        <code class="literal">GetIndexColumns()</code> passed their restrictions
        directly to <code class="literal">GetTables()</code>. This only worked if
        the restrictions were no more specific than
        <code class="literal">schemaName</code> and <code class="literal">tableName</code>.
        If <code class="literal">IndexName</code> was given, this was passed to
        <code class="literal">GetTables()</code> where it was treated as
        <code class="literal">TableType</code>. As a result no tables were
        returned, unless the index name happened to be <code class="literal">BASE
        TABLE</code> or <code class="literal">VIEW</code>. This meant that both
        methods failed to return any rows.
       (<a href="http://bugs.mysql.com/43991" target="_top">Bug#43991</a>)</p></li><li><p>
        The <code class="literal">DATETIME</code> format contained an erroneous
        space.
       (<a href="http://bugs.mysql.com/41021" target="_top">Bug#41021</a>)</p></li><li><p>
        If connection pooling was not set explicitly in the connection
        string, Connector/NET added “<span class="quote">;Pooling=False</span>” to the
        end of the connection string when
        <code class="literal">MySqlCommand.ExecuteReader()</code> was called.
      </p><p>
        If connection pooling was explicitly set in the connection
        string, when <code class="literal">MySqlConnection.Open()</code> was
        called it converted “<span class="quote">Pooling=True</span>” to
        “<span class="quote">pooling=True</span>”.
      </p><p>
        If <code class="literal">MySqlCommand.ExecuteReader()</code> was
        subsequently called, it concatenated
        “<span class="quote">;Pooling=False</span>” to the end of the connection
        string. The resulting connection string was thus terminated with
        “<span class="quote">pooling=True;Pooling=False</span>”. This disabled
        connection pooling completely.
       (<a href="http://bugs.mysql.com/40091" target="_top">Bug#40091</a>)</p></li><li><p>
        If, when using the <code class="classname">MySqlTransaction</code>
        transaction object, an exception was thrown, the transaction
        object was not disposed of and the transaction was not rolled
        back.
       (<a href="http://bugs.mysql.com/39817" target="_top">Bug#39817</a>)</p></li><li><p>
        When a prepared insert query is run that contains an
        <code class="literal">UNSIGNED TINYINT</code> in the parameter list, the
        complete query and data that should be inserted is corrupted and
        no error is thrown.
       (<a href="http://bugs.mysql.com/37968" target="_top">Bug#37968</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-7"></a>C.5.14. Changes in MySQL Connector/NET 5.1.7 (21 August 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        There was a short circuit evaluation error in the
        <code class="methodname">MySqlCommand.CheckState()</code> method. When
        the statement <code class="literal">connection == null</code> was true a
        <code class="classname">NullReferenceException</code> was thrown and not
        the expected <code class="classname">InvalidOperationException</code>.
       (<a href="http://bugs.mysql.com/38276" target="_top">Bug#38276</a>)</p></li><li><p>
        Executing a command that resulted in a fatal exception did not
        close the connection.
       (<a href="http://bugs.mysql.com/37991" target="_top">Bug#37991</a>)</p></li><li><p>
        In a .NET application MySQL Connector/NET modifies the
        connection string so that it contains several occurrences of the
        same option with different values. This is illustrated by the
        example that follows.
      </p><p>
        The original connection string:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25; auto enlist=false;pooling=false;</pre><p>
        The connection string after after closing
        <code class="classname">MySqlDataReader</code>:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25;auto enlist=false;pooling=false; 
  Allow User Variables=True;Allow User Variables=False;
  Allow User Variables=True;Allow User Variables=False;</pre><p>(<a href="http://bugs.mysql.com/37955" target="_top">Bug#37955</a>)</p></li><li><p>
        As <code class="classname">MySqlDbType.DateTime</code> is not available
        in <code class="literal">VB.Net</code> the warning <span class="errortext">The datetime
        enum value is obsolete</span> was always shown during
        compilation.
       (<a href="http://bugs.mysql.com/37406" target="_top">Bug#37406</a>)</p></li><li><p>
        An unknown <code class="literal">MySqlErrorCode</code> was encountered
        when opening a connection with an incorrect password.
       (<a href="http://bugs.mysql.com/37398" target="_top">Bug#37398</a>)</p></li><li><p>
        Documentation incorrectly stated that “<span class="quote">the DataColumn
        class in .NET 1.0 and 1.1 does not allow columns with type of
        UInt16, UInt32, or UInt64 to be autoincrement columns</span>”.
       (<a href="http://bugs.mysql.com/37350" target="_top">Bug#37350</a>)</p></li><li><p>
        <code class="classname">SemaphoreFullException</code> is generated when
        application is closed.
       (<a href="http://bugs.mysql.com/36688" target="_top">Bug#36688</a>)</p></li><li><p>
        <code class="methodname">GetSchema</code> did not work correctly when
        querying for a collection, if using a non-English locale.
       (<a href="http://bugs.mysql.com/35459" target="_top">Bug#35459</a>)</p></li><li><p>
        When reading back a stored double or single value using the .NET
        provider, the value had less precision than the one stored.
       (<a href="http://bugs.mysql.com/33322" target="_top">Bug#33322</a>)</p></li><li><p>
        Using the MySQL Visual Studio plugin and a MySQL 4.1 server,
        certain field types (<a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a>) would
        not be identified correctly. Also, when looking for tables, the
        plugin would list all tables matching a wildcard pattern of the
        database name supplied in the connection string, instead of only
        tables within the specified database.
       (<a href="http://bugs.mysql.com/30603" target="_top">Bug#30603</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-6"></a>C.5.15. Changes in MySQL Connector/NET 5.1.6 (12 May 2008)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When creating a connection pool, specifying an invalid IP
        address will cause the entire application to crash, instead of
        providing an exception.
       (<a href="http://bugs.mysql.com/36432" target="_top">Bug#36432</a>)</p></li><li><p>
        An incorrect value for a bit field would returned in a multi-row
        query if a preceding value for the field returned
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/36313" target="_top">Bug#36313</a>)</p></li><li><p>
        The <code class="literal">MembershipProvider</code> will raise an
        exception when the connection string is configured with
        <code class="literal">enablePasswordRetrival = true</code> and
        <code class="literal">RequireQuestionAndAnswer = false</code>.
       (<a href="http://bugs.mysql.com/36159" target="_top">Bug#36159</a>)</p></li><li><p>
        When calling <code class="literal">GetNumberOfUsersOnline</code> an
        exception is raised on the submitted query due to a missing
        parameter.
       (<a href="http://bugs.mysql.com/36157" target="_top">Bug#36157</a>)</p></li><li><p>
        Tables with <code class="literal">GEOMETRY</code> field types would return
        an unknown datatype exception.
       (<a href="http://bugs.mysql.com/36081" target="_top">Bug#36081</a>)</p></li><li><p>
        When creating a connection, setting the
        <code class="literal">ConnectionString</code> property of
        <code class="literal">MySqlConnection</code> to <code class="literal">NULL</code>
        would throw an exception.
       (<a href="http://bugs.mysql.com/35619" target="_top">Bug#35619</a>)</p></li><li><p>
        The <code class="methodname">DbCommandBuilder.QuoteIdentifer</code>
        method was not implemented.
       (<a href="http://bugs.mysql.com/35492" target="_top">Bug#35492</a>)</p></li><li><p>
        When using <code class="literal">SqlDataSource</code> to open a
        connection, the connection would not automatically be closed
        when access had completed.
       (<a href="http://bugs.mysql.com/34460" target="_top">Bug#34460</a>)</p></li><li><p>
        Attempting to use an isolation level other than the default with
        a transaction scope would use the default isolation level.
       (<a href="http://bugs.mysql.com/34448" target="_top">Bug#34448</a>)</p></li><li><p>
        When altering a stored procedure within Visual Studio, the
        parameters to the procedure could be lost.
       (<a href="http://bugs.mysql.com/34359" target="_top">Bug#34359</a>)</p></li><li><p>
        A race condition could occur within the procedure cache
        resulting the cache contents overflowing beyond the configured
        cache size.
       (<a href="http://bugs.mysql.com/34338" target="_top">Bug#34338</a>)</p></li><li><p>
        Using the <code class="literal">TableAdaptor</code> wizard in combination
        with a suitable <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement,
        only the associated <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>
        statement would also be created, rather than the required
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> and
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a> statements.
       (<a href="http://bugs.mysql.com/31338" target="_top">Bug#31338</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-5"></a>C.5.16. Changes in MySQL Connector/NET 5.1.5 (Not yet released)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Performing <code class="function">GetValue()</code> on a field
        <code class="literal">TINYINT(1)</code> returned a
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOLEAN</code></a>. While not a bug, this
        caused problems in software that expected an
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a> to be returned. A new
        connection string option <code class="literal">Treat Tiny As
        Boolean</code> has been added with a default value of
        <code class="literal">true</code>. If set to <code class="literal">false</code> the
        provider will treat <code class="literal">TINYINT(1)</code> as
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">INT</code></a>.
       (<a href="http://bugs.mysql.com/34052" target="_top">Bug#34052</a>)</p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Some speed improvements have been implemented in the
        <code class="literal">TokenizeSql</code> process used to identify elements
        of SQL statements.
       (<a href="http://bugs.mysql.com/34220" target="_top">Bug#34220</a>)</p></li><li><p>
        When accessing tables from different databases within the same
        <code class="literal">TransactionScope</code>, the same user/password
        combination would be used for each database connection.
        Connector/NET does not handle multiple connections within the
        same transaction scope. An error is now returned if you attempt
        this process, instead of using the incorrect authorization
        information.
       (<a href="http://bugs.mysql.com/34204" target="_top">Bug#34204</a>)</p></li><li><p>
        The status of connections reported through the state change
        handler was not being updated correctly.
       (<a href="http://bugs.mysql.com/34082" target="_top">Bug#34082</a>)</p></li><li><p>
        Incorporated some connection string cache optimizations sent to
        us by Maxim Mass.
       (<a href="http://bugs.mysql.com/34000" target="_top">Bug#34000</a>)</p></li><li><p>
        In an open connection where the server had disconnected
        unexpectedly, the status information of the connection would not
        be updated properly.
       (<a href="http://bugs.mysql.com/33909" target="_top">Bug#33909</a>)</p></li><li><p>
        Connector/NET would fail to compile properly with
        <span><strong class="command">nant</strong></span>.
       (<a href="http://bugs.mysql.com/33508" target="_top">Bug#33508</a>)</p></li><li><p>
        Problem with membership provider would mean that
        <code class="literal">FindUserByEmail</code> would fail with a
        <code class="literal">MySqlException</code> because it was trying to add a
        second parameter with the same name as the first.
       (<a href="http://bugs.mysql.com/33347" target="_top">Bug#33347</a>)</p></li><li><p>
        Using compression in the MySQL connection with Connector/NET
        would be slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-4"></a>C.5.17. Changes in MySQL Connector/NET 5.1.4 (20 November 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with non-input direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        A date string could be returned incorrectly by
        <code class="literal">MySqlDataTime.ToString()</code> when the date
        returned by MySQL was <code class="literal">0000-00-00 00:00:00</code>.
       (<a href="http://bugs.mysql.com/32010" target="_top">Bug#32010</a>)</p></li><li><p>
        A syntax error in a set of batch statements could leave the data
        adapter in a state that appears hung.
       (<a href="http://bugs.mysql.com/31930" target="_top">Bug#31930</a>)</p></li><li><p>
        Installing over a failed uninstall of a previous version could
        result in multiple clients being registered in the
        <code class="literal">machine.config</code>. This would prevent certain
        aspects of the MySQL connection within Visual Studio to work
        properly.
       (<a href="http://bugs.mysql.com/31731" target="_top">Bug#31731</a>)</p></li><li><p>
        Connector/NET would incorrectly report success when enlisting in
        a distributed transaction, although distributed transactions are
        not supported.
       (<a href="http://bugs.mysql.com/31703" target="_top">Bug#31703</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Trying to use a connection that was not open could return an
        ambiguous and misleading error message.
       (<a href="http://bugs.mysql.com/31262" target="_top">Bug#31262</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to
        Connector/NET incorrectly identifying
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> fields as binary, rather
        than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        Column types with only 1-bit (such as
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BOOLEAN</code></a> and
        <code class="literal">TINYINT(1)</code> were not returned as boolean
        fields.
       (<a href="http://bugs.mysql.com/27959" target="_top">Bug#27959</a>)</p></li><li><p>
        When accessing certain statements, the command would timeout
        before the command completed. Because this cannot always be
        controlled through the individual command timeout options, a
        <code class="literal">default command timeout</code> has been added to the
        connection string options.
       (<a href="http://bugs.mysql.com/27958" target="_top">Bug#27958</a>)</p></li><li><p>
        The server error code was not updated in the
        <code class="literal">Data[]</code> hash, which prevented
        <code class="literal">DbProviderFactory</code> users from accessing the
        server error code.
       (<a href="http://bugs.mysql.com/27436" target="_top">Bug#27436</a>)</p></li><li><p>
        The <code class="literal">MySqlDbType.Datetime</code> has been replaced
        with <code class="literal">MySqlDbType.DateTime</code>. The old format has
        been obsoleted.
       (<a href="http://bugs.mysql.com/26344" target="_top">Bug#26344</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-3"></a>C.5.18. Changes in MySQL Connector/NET 5.1.3 (21 September 2007 beta)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> when adding
        rows to a table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        A <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> field would be updated
        with a date/time value, causing a
        <code class="literal">MySqlDataAdapter.Update()</code> exception.
       (<a href="http://bugs.mysql.com/30077" target="_top">Bug#30077</a>)</p></li><li><p>
        The Saudi Hijri calendar was not supported.
       (<a href="http://bugs.mysql.com/29931" target="_top">Bug#29931</a>)</p></li><li><p>
        Calling <a href="sql-syntax.html#show-create-procedure" title="12.5.6.11. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> for
        routines with a hyphen in the catalog name produced a syntax
        error.
       (<a href="http://bugs.mysql.com/29526" target="_top">Bug#29526</a>)</p></li><li><p>
        Connecting to a MySQL server earlier than version 4.1 would
        raise a <code class="literal">NullException</code>.
       (<a href="http://bugs.mysql.com/29476" target="_top">Bug#29476</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        A <code class="literal">FormatException</code> error would be raised if a
        parameter had not been found, instead of
        <code class="literal">Resources.ParameterMustBeDefined</code>.
       (<a href="http://bugs.mysql.com/29312" target="_top">Bug#29312</a>)</p></li><li><p>
        An exception would be thrown when using the Manage Role
        functionality within the web administrator to assign a role to a
        user.
       (<a href="http://bugs.mysql.com/29236" target="_top">Bug#29236</a>)</p></li><li><p>
        Using the membership/role providers when
        <code class="literal">validationKey</code> or
        <code class="literal">decryptionKey</code> parameters are set to
        <code class="literal">AutoGenerate</code>, an exception would be raised
        when accessing the corresponding values.
       (<a href="http://bugs.mysql.com/29235" target="_top">Bug#29235</a>)</p></li><li><p>
        Certain operations would not check the
        <code class="literal">UsageAdvisor</code> setting, causing log messages
        from the Usage Advisor even when it was disabled.
       (<a href="http://bugs.mysql.com/29124" target="_top">Bug#29124</a>)</p></li><li><p>
        Using the same connection string multiple times would result in
        <code class="literal">Database=<em class="replaceable"><code>dbname</code></em></code>
        appearing multiple times in the resulting string.
       (<a href="http://bugs.mysql.com/29123" target="_top">Bug#29123</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Adding a new query
        based on a stored procedure that uses the
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> statement would terminate
        the query/TableAdapter wizard.
       (<a href="http://bugs.mysql.com/29098" target="_top">Bug#29098</a>)</p></li><li><p>
        Using <code class="literal">TransactionScope</code> would cause an
        <code class="literal">InvalidOperationException</code>.
       (<a href="http://bugs.mysql.com/28709" target="_top">Bug#28709</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-2"></a>C.5.19. Changes in MySQL Connector/NET 5.1.2 (18 June 2007)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Log messages would be truncated to 300 bytes.
       (<a href="http://bugs.mysql.com/28706" target="_top">Bug#28706</a>)</p></li><li><p>
        Creating a user would fail due to the application name being set
        incorrectly.
       (<a href="http://bugs.mysql.com/28648" target="_top">Bug#28648</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Adding a new query
        based on a stored procedure that used a
        <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>,
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> statement would terminate
        the query/TableAdapter wizard.
       (<a href="http://bugs.mysql.com/28536" target="_top">Bug#28536</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Query Builder would
        fail to show <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> columns,
        and any columns listed after a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYTEXT</code></a> column correctly.
       (<a href="http://bugs.mysql.com/28437" target="_top">Bug#28437</a>)</p></li><li><p>
        Accessing the results from a large query when using data
        compression in the connection would fail to return all the data.
       (<a href="http://bugs.mysql.com/28204" target="_top">Bug#28204</a>)</p></li><li><p>
        <span class="emphasis"><em>Visual Studio Plugin</em></span>: Update commands would
        not be generated correctly when using the TableAdapter wizard.
       (<a href="http://bugs.mysql.com/26347" target="_top">Bug#26347</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-1"></a>C.5.20. Changes in MySQL Connector/NET 5.1.1 (23 May 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running the statement <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> would return columns as byte arrays
        instead of native columns.
       (<a href="http://bugs.mysql.com/28448" target="_top">Bug#28448</a>)</p></li><li><p>
        Installation of the Connector/NET on Windows would fail if
        VisualStudio had not already been installed.
       (<a href="http://bugs.mysql.com/28260" target="_top">Bug#28260</a>)</p></li><li><p>
        Connector/NET would look for the wrong table when executing
        <code class="literal">User.IsRole().</code>
       (<a href="http://bugs.mysql.com/28251" target="_top">Bug#28251</a>)</p></li><li><p>
        Building a connection string within a tight loop would show slow
        performance.
       (<a href="http://bugs.mysql.com/28167" target="_top">Bug#28167</a>)</p></li><li><p>
        The <code class="literal">UNSIGNED</code> flag for parameters in a stored
        procedure would be ignored when using
        <code class="literal">MySqlCommandBuilder</code> to obtain the parameter
        information.
       (<a href="http://bugs.mysql.com/27679" target="_top">Bug#27679</a>)</p></li><li><p>
        Using <code class="literal">MySQLDataAdapter.FillSchema()</code> on a
        stored procedure would raise an exception: <code class="literal">Invalid
        attempt to access a field before calling Read()</code>.
       (<a href="http://bugs.mysql.com/27668" target="_top">Bug#27668</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> fields from versions of
        MySQL bgefore 4.1 would be incorrectly parsed, resulting in a
        exception.
       (<a href="http://bugs.mysql.com/23342" target="_top">Bug#23342</a>)</p></li><li><p>
        Fixed password property on
        <code class="literal">MySqlConnectionStringBuilder</code> to use
        <code class="literal">PasswordPropertyText</code> attribute. This causes
        dots to show instead of actual password text.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-1-0"></a>C.5.21. Changes in MySQL Connector/NET 5.1.0 (01 May 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Now compiles for .NET CF 2.0.
      </p></li><li><p>
        Rewrote stored procedure parsing code using a new SQL tokenizer.
        Really nasty procedures including nested comments are now
        supported.
      </p></li><li><p>
        GetSchema will now report objects relative to the currently
        selected database. What this means is that passing in null as a
        database restriction will report objects on the currently
        selected database only.
      </p></li><li><p>
        Added Membership and Role provider contributed by Sean Wright
        (thanks!).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-10"></a>C.5.22. Changes in MySQL Connector/NET 5.0.10 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        If, when using the <code class="classname">MySqlTransaction</code>
        transaction object, an exception was thrown, the transaction
        object was not disposed of and the transaction was not rolled
        back.
       (<a href="http://bugs.mysql.com/39817" target="_top">Bug#39817</a>)</p></li><li><p>
        Executing a command that resulted in a fatal exception did not
        close the connection.
       (<a href="http://bugs.mysql.com/37991" target="_top">Bug#37991</a>)</p></li><li><p>
        When a prepared insert query is run that contains an
        <code class="literal">UNSIGNED TINYINT</code> in the parameter list, the
        complete query and data that should be inserted is corrupted and
        no error is thrown.
       (<a href="http://bugs.mysql.com/37968" target="_top">Bug#37968</a>)</p></li><li><p>
        In a .NET application MySQL Connector/NET modifies the
        connection string so that it contains several occurrences of the
        same option with different values. This is illustrated by the
        example that follows.
      </p><p>
        The original connection string:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25; auto enlist=false;pooling=false;</pre><p>
        The connection string after after closing
        <code class="classname">MySqlDataReader</code>:
      </p><pre class="programlisting">  host=localhost;database=test;uid=*****;pwd=*****;
  connect timeout=25;auto enlist=false;pooling=false; 
  Allow User Variables=True;Allow User Variables=False;
  Allow User Variables=True;Allow User Variables=False;</pre><p>(<a href="http://bugs.mysql.com/37955" target="_top">Bug#37955</a>)</p></li><li><p>
        When creating a connection pool, specifying an invalid IP
        address will cause the entire application to crash, instead of
        providing an exception.
       (<a href="http://bugs.mysql.com/36432" target="_top">Bug#36432</a>)</p></li><li><p>
        <code class="methodname">GetSchema</code> did not work correctly when
        querying for a collection, if using a non-English locale.
       (<a href="http://bugs.mysql.com/35459" target="_top">Bug#35459</a>)</p></li><li><p>
        When reading back a stored double or single value using the .NET
        provider, the value had less precision than the one stored.
       (<a href="http://bugs.mysql.com/33322" target="_top">Bug#33322</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-9"></a>C.5.23. Changes in MySQL Connector/NET 5.0.9 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The <code class="methodname">DbCommandBuilder.QuoteIdentifer</code>
        method was not implemented.
       (<a href="http://bugs.mysql.com/35492" target="_top">Bug#35492</a>)</p></li><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with non-input direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        A date string could be returned incorrectly by
        <code class="literal">MySqlDataTime.ToString()</code> when the date
        returned by MySQL was <code class="literal">0000-00-00 00:00:00</code>.
       (<a href="http://bugs.mysql.com/32010" target="_top">Bug#32010</a>)</p></li><li><p>
        A syntax error in a set of batch statements could leave the data
        adapter in a state that appears hung.
       (<a href="http://bugs.mysql.com/31930" target="_top">Bug#31930</a>)</p></li><li><p>
        Installing over a failed uninstall of a previous version could
        result in multiple clients being registered in the
        <code class="literal">machine.config</code>. This would prevent certain
        aspects of the MySQL connection within Visual Studio to work
        properly.
       (<a href="http://bugs.mysql.com/31731" target="_top">Bug#31731</a>)</p></li><li><p>
        Data cached from the connection string could return invalid
        information because the internal routines were not using
        case-sensitive semantics. This lead to updated connection string
        options not being recognized if they were of a different case
        than the existing cached values.
       (<a href="http://bugs.mysql.com/31433" target="_top">Bug#31433</a>)</p></li><li><p>
        Column name metadata was not using the character set as deifned
        within the connection string being used.
       (<a href="http://bugs.mysql.com/31185" target="_top">Bug#31185</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        When running a stored procedure multiple times on the same
        connection, the memory usage could increase indefinitely.
       (<a href="http://bugs.mysql.com/30116" target="_top">Bug#30116</a>)</p></li><li><p>
        The server error code was not updated in the
        <code class="literal">Data[]</code> hash, which prevented
        <code class="literal">DbProviderFactory</code> users from accessing the
        server error code.
       (<a href="http://bugs.mysql.com/27436" target="_top">Bug#27436</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-8"></a>C.5.24. Changes in MySQL Connector/NET 5.0.8 (21 August 2007)</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This version introduces a new installer technology.
        </p></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to
        Connector/NET incorrectly identifying
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> fields as binary, rather
        than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> when adding
        rows to a table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        A <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> field would be updated
        with a date/time value, causing a
        <code class="literal">MySqlDataAdapter.Update()</code> exception.
       (<a href="http://bugs.mysql.com/30077" target="_top">Bug#30077</a>)</p></li><li><p>
        Fixed bug where Connector/Net was hand building some date time
        patterns rather than using the patterns provided under
        CultureInfo. This caused problems with some calendars that do
        not support the same ranges as Gregorian..
       (<a href="http://bugs.mysql.com/29931" target="_top">Bug#29931</a>)</p></li><li><p>
        Calling <a href="sql-syntax.html#show-create-procedure" title="12.5.6.11. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW CREATE PROCEDURE</code></a> for
        routines with a hyphen in the catalog name produced a syntax
        error.
       (<a href="http://bugs.mysql.com/29526" target="_top">Bug#29526</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        A <code class="literal">FormatException</code> error would be raised if a
        parameter had not been found, instead of
        <code class="literal">Resources.ParameterMustBeDefined</code>.
       (<a href="http://bugs.mysql.com/29312" target="_top">Bug#29312</a>)</p></li><li><p>
        Certain operations would not check the
        <code class="literal">UsageAdvisor</code> setting, causing log messages
        from the Usage Advisor even when it was disabled.
       (<a href="http://bugs.mysql.com/29124" target="_top">Bug#29124</a>)</p></li><li><p>
        Using the same connection string multiple times would result in
        <code class="literal">Database=<em class="replaceable"><code>dbname</code></em></code>
        appearing multiple times in the resulting string.
       (<a href="http://bugs.mysql.com/29123" target="_top">Bug#29123</a>)</p></li><li><p>
        Log messages would be truncated to 300 bytes.
       (<a href="http://bugs.mysql.com/28706" target="_top">Bug#28706</a>)</p></li><li><p>
        Accessing the results from a large query when using data
        compression in the connection will fail to return all the data.
       (<a href="http://bugs.mysql.com/28204" target="_top">Bug#28204</a>)</p></li><li><p>
        Fixed problem where
        <code class="literal">MySqlConnection.BeginTransaction</code> checked the
        drivers status var before checking if the connection was open.
        The result was that the driver could report an invalid condition
        on a previously opened connection.
      </p></li><li><p>
        Fixed problem where we were not closing prepared statement
        handles when commands are disposed. This could lead to using up
        all prepared statement handles on the server.
      </p></li><li><p>
        Fixed the database schema collection so that it works on servers
        that are not properly respecting the
        <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a> setting.
      </p></li><li><p>
        Fixed problem where any attempt to not read all the records
        returned from a select where each row of the select is greater
        than 1024 bytes would hang the driver.
      </p></li><li><p>
        Fixed problem where a command timing out just after it actually
        finished would cause an exception to be thrown on the command
        timeout thread which would then be seen as an unhandled
        exception.
      </p></li><li><p>
        Fixed some serious issues with command timeout and cancel that
        could present as exceptions about thread ownership. The issue
        was that not all queries cancel the same. Some produce
        resultsets while others don't. ExecuteReader had to be changed
        to check for this.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-7"></a>C.5.25. Changes in MySQL Connector/NET 5.0.7 (18 May 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running the statement <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW
        PROCESSLIST</code></a> would return columns as byte arrays
        instead of native columns.
       (<a href="http://bugs.mysql.com/28448" target="_top">Bug#28448</a>)</p></li><li><p>
        Building a connection string within a tight loop would show slow
        performance.
       (<a href="http://bugs.mysql.com/28167" target="_top">Bug#28167</a>)</p></li><li><p>
        Using logging (with the <code class="literal">logging=true</code>
        parameter to the connection string) would not generate a log
        file.
       (<a href="http://bugs.mysql.com/27765" target="_top">Bug#27765</a>)</p></li><li><p>
        The <code class="literal">UNSIGNED</code> flag for parameters in a stored
        procedure would be ignored when using
        <code class="literal">MySqlCommandBuilder</code> to obtain the parameter
        information.
       (<a href="http://bugs.mysql.com/27679" target="_top">Bug#27679</a>)</p></li><li><p>
        Using <code class="literal">MySQLDataAdapter.FillSchema()</code> on a
        stored procedure would raise an exception: <code class="literal">Invalid
        attempt to access a field before calling Read()</code>.
       (<a href="http://bugs.mysql.com/27668" target="_top">Bug#27668</a>)</p></li><li><p>
        If you close an open connection with an active transaction, the
        transaction is not automatically rolled back.
       (<a href="http://bugs.mysql.com/27289" target="_top">Bug#27289</a>)</p></li><li><p>
        When cloning an open
        <code class="literal">MySqlClient.MySqlConnection</code> with the
        <code class="option">Persist Security Info=False</code> option set, the
        cloned connection is not usable because the security information
        has not been cloned.
       (<a href="http://bugs.mysql.com/27269" target="_top">Bug#27269</a>)</p></li><li><p>
        Enlisting a null transaction would affect the current connection
        object, such that further enlistment operations to the
        transaction are not possible.
       (<a href="http://bugs.mysql.com/26754" target="_top">Bug#26754</a>)</p></li><li><p>
        Attempting to change the <code class="literal">Connection Protocol</code>
        property within a <code class="literal">PropertyGrid</code> control would
        raise an exception.
       (<a href="http://bugs.mysql.com/26472" target="_top">Bug#26472</a>)</p></li><li><p>
        The <code class="literal">characterset</code> property would not be
        identified during a connection (also affected Visual Studion
        Plugin).
       (<a href="http://bugs.mysql.com/26147" target="_top">Bug#26147</a>, <a href="http://bugs.mysql.com/27240" target="_top">Bug#27240</a>)</p></li><li><p>
        The <code class="literal">CreateFormat</code> column of the
        <code class="literal">DataTypes</code> collection did not contain a format
        specification for creating a new column type.
       (<a href="http://bugs.mysql.com/25947" target="_top">Bug#25947</a>)</p></li><li><p>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> fields from versions of
        MySQL bgefore 4.1 would be incorrectly parsed, resulting in a
        exception.
       (<a href="http://bugs.mysql.com/23342" target="_top">Bug#23342</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-6"></a>C.5.26. Changes in MySQL Connector/NET 5.0.6 (22 March 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Publisher listed in "Add/Remove Programs" is not consistent with
        other MySQL products.
       (<a href="http://bugs.mysql.com/27253" target="_top">Bug#27253</a>)</p></li><li><p>
        <code class="literal">DESCRIBE ....</code> SQL statement returns byte
        arrays rather than data on MySQL versions older than 4.1.15.
       (<a href="http://bugs.mysql.com/27221" target="_top">Bug#27221</a>)</p></li><li><p>
        <code class="literal">cmd.Parameters.RemoveAt("Id")</code> will cause an
        error if the last item is requested.
       (<a href="http://bugs.mysql.com/27187" target="_top">Bug#27187</a>)</p></li><li><p>
        <code class="literal">MySqlParameterCollection</code> and parameters added
        with <code class="literal">Insert</code> method can not be retrieved later
        using <code class="literal">ParameterName</code>.
       (<a href="http://bugs.mysql.com/27135" target="_top">Bug#27135</a>)</p></li><li><p>
        Exception thrown when using large values in
        <code class="literal">UInt64</code> parameters.
       (<a href="http://bugs.mysql.com/27093" target="_top">Bug#27093</a>)</p></li><li><p>
        MySQL Visual Studio Plugin 1.1.2 does not work with
        Connector/Net 5.0.5.
       (<a href="http://bugs.mysql.com/26960" target="_top">Bug#26960</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-5"></a>C.5.27. Changes in MySQL Connector/NET 5.0.5 (07 March 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Reverted behavior that required parameter names to start with
        the parameter marker. We apologize for this back and forth but
        we mistakenly changed the behavior to not match what
        <code class="literal">SqlClient</code> supports. We now support using
        either syntax for adding parameters however we also respond
        exactly like <code class="literal">SqlClient</code> in that if you ask for
        the index of a parameter using a syntax different from when you
        added the parameter, the result will be -1.
      </p></li><li><p>
        Assembly now properly appears in the Visual Studio 2005
        Add/Remove Reference dialog.
      </p></li><li><p>
        Fixed problem that prevented use of
        <code class="literal">SchemaOnly</code> or <code class="literal">SingleRow</code>
        command behaviors with stored procedures or prepared statements.
      </p></li><li><p>
        Added <code class="literal">MySqlParameterCollection.AddWithValue</code>
        and marked the <code class="literal">Add(name, value)</code> method as
        obsolete.
      </p></li><li><p>
        Return parameters created with DeriveParameters now have the
        name <code class="literal">RETURN_VALUE</code>.
      </p></li><li><p>
        Fixed problem with parameter name hashing where the hashes were
        not getting updated when parameters were removed from the
        collection.
      </p></li><li><p>
        Fixed problem with calling stored functions when a return
        parameter was not given.
      </p></li><li><p>
        Added <code class="literal">Use Procedure Bodies</code> connection string
        option to allow calling procedures without using procedure
        metadata.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySqlConnection.GetSchema</code> fails with
        <code class="literal">NullReferenceException</code> for Foreign Keys.
       (<a href="http://bugs.mysql.com/26660" target="_top">Bug#26660</a>)</p></li><li><p>
        Connector/NET would fail to install under Windows Vista.
       (<a href="http://bugs.mysql.com/26430" target="_top">Bug#26430</a>)</p></li><li><p>
        Opening a connection would be slow due to host name lookup.
       (<a href="http://bugs.mysql.com/26152" target="_top">Bug#26152</a>)</p></li><li><p>
        Incorrect values/formats would be applied when the
        <code class="literal">OldSyntax</code> connection string option was used.
       (<a href="http://bugs.mysql.com/25950" target="_top">Bug#25950</a>)</p></li><li><p>
        Registry would be incorrectly populated with installation
        locations.
       (<a href="http://bugs.mysql.com/25928" target="_top">Bug#25928</a>)</p></li><li><p>
        Times with negative values would be returned incorrectly.
       (<a href="http://bugs.mysql.com/25912" target="_top">Bug#25912</a>)</p></li><li><p>
        Returned data types of a <code class="literal">DataTypes</code> collection
        do not contain the right correctl CLR Datatype.
       (<a href="http://bugs.mysql.com/25907" target="_top">Bug#25907</a>)</p></li><li><p>
        <code class="literal">GetSchema</code> and <code class="literal">DataTypes</code>
        would throw an exception due to an incorrect table name.
       (<a href="http://bugs.mysql.com/25906" target="_top">Bug#25906</a>)</p></li><li><p>
        <code class="literal">MySqlConnection</code> throws an exception when
        connecting to MySQL v4.1.7.
       (<a href="http://bugs.mysql.com/25726" target="_top">Bug#25726</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> did not work correctly
        when using a <code class="literal">WHERE</code> clause containing a UTF-8
        string.
       (<a href="http://bugs.mysql.com/25651" target="_top">Bug#25651</a>)</p></li><li><p>
        When closing and then re-opening a connection to a database, the
        character set specification is lost.
       (<a href="http://bugs.mysql.com/25614" target="_top">Bug#25614</a>)</p></li><li><p>
        Filling a table schema through a stored procedure triggers a
        runtime error.
       (<a href="http://bugs.mysql.com/25609" target="_top">Bug#25609</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns would be
        returned as a string, not binary, datatype.
       (<a href="http://bugs.mysql.com/25605" target="_top">Bug#25605</a>)</p></li><li><p>
        A critical <code class="literal">ConnectionPool</code> error would result
        in repeated <code class="literal">System.NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/25603" target="_top">Bug#25603</a>)</p></li><li><p>
        The <code class="literal">UpdateRowSource.FirstReturnedRecord</code>
        method does not work.
       (<a href="http://bugs.mysql.com/25569" target="_top">Bug#25569</a>)</p></li><li><p>
        When connecting to a MySQL Server earlier than version 4.1, the
        connection would hang when reading data.
       (<a href="http://bugs.mysql.com/25458" target="_top">Bug#25458</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar()</code> with more than one
        query, where one query fails, will hang the connection.
       (<a href="http://bugs.mysql.com/25443" target="_top">Bug#25443</a>)</p></li><li><p>
        When a <code class="literal">MySqlConversionException</code> is raised on
        a remote object, the client application would receive a
        <code class="literal">SerializationException</code> instead.
       (<a href="http://bugs.mysql.com/24957" target="_top">Bug#24957</a>)</p></li><li><p>
        When connecting to a server, the return code from the connection
        could be zero, even though the host name was incorrect.
       (<a href="http://bugs.mysql.com/24802" target="_top">Bug#24802</a>)</p></li><li><p>
        High CPU utilization would be experienced when there is no idle
        connection waiting when using pooled connections through
        <code class="literal">MySqlPool.GetConnection</code>.
       (<a href="http://bugs.mysql.com/24373" target="_top">Bug#24373</a>)</p></li><li><p>
        Connector/NET would not compile properly when used with Mono
        1.2.
       (<a href="http://bugs.mysql.com/24263" target="_top">Bug#24263</a>)</p></li><li><p>
        Applications would crash when calling with
        <code class="literal">CommandType</code> set to
        <code class="literal">StoredProcedure</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-4"></a>C.5.28. Changes in MySQL Connector/NET 5.0.4 (Not released)</h3></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-3"></a>C.5.29. Changes in MySQL Connector/NET 5.0.3 (05 January 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Usage Advisor has been implemented. The Usage Advisor checks
        your queries and will report if you are using the connection
        inefficiently.
      </p></li><li><p>
        PerfMon hooks have been added to monitor the stored procedure
        cache hits and misses.
      </p></li><li><p>
        The <code class="literal">MySqlCommand</code> object now supports
        asynchronous query methods. This is implemented useg the
        <code class="literal">BeginExecuteNonQuery</code> and
        <code class="literal">EndExecuteNonQuery</code> methods.
      </p></li><li><p>
        Metadata from storaed procedures and stored function execution
        are cached.
      </p></li><li><p>
        The <code class="literal">CommandBuilder.DeriveParameters</code> function
        has been updated to the procedure cache.
      </p></li><li><p>
        The <code class="literal">ViewColumns</code> <code class="literal">GetSchema</code>
        collection has been updated.
      </p></li><li><p>
        Improved speed and performance by re-architecting certain
        sections of the code.
      </p></li><li><p>
        Support for the embedded server and client library have been
        removed from this release. Support will be added back to a later
        release.
      </p></li><li><p>
        The ShapZipLib library has been replaced with the deflate
        support provided within .NET 2.0.
      </p></li><li><p>
        SSL support has been updated.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Additional text added to error message
       (<a href="http://bugs.mysql.com/25178" target="_top">Bug#25178</a>)</p></li><li><p>
        An exception would be raised, or the process would hang, if
        <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> privileges on a database
        were not granted and a stored procedure was used.
       (<a href="http://bugs.mysql.com/25033" target="_top">Bug#25033</a>)</p></li><li><p>
        When adding parameter objects to a command object, if the
        parameter direction is set to <code class="literal">ReturnValue</code>
        before the parameter is added to the command object then when
        the command is executed it throws an error.
       (<a href="http://bugs.mysql.com/25013" target="_top">Bug#25013</a>)</p></li><li><p>
        Using <code class="literal">Driver.IsTooOld()</code> would return the
        wrong value.
       (<a href="http://bugs.mysql.com/24661" target="_top">Bug#24661</a>)</p></li><li><p>
        When using a <code class="literal">DbNull.Value</code> as the value for a
        parameter value, and then later setting a specific value type,
        the command would fail with an exception because the wrong type
        was implied from the <code class="literal">DbNull.Value</code>.
       (<a href="http://bugs.mysql.com/24565" target="_top">Bug#24565</a>)</p></li><li><p>
        Stored procedure executions are not thread safe.
       (<a href="http://bugs.mysql.com/23905" target="_top">Bug#23905</a>)</p></li><li><p>
        Deleting a connection to a disconnected server when using the
        Visual Studio Plugin would cause an assertion failure.
       (<a href="http://bugs.mysql.com/23687" target="_top">Bug#23687</a>)</p></li><li><p>
        Nested transactions (which are unsupported)do not raise an error
        or warning.
       (<a href="http://bugs.mysql.com/22400" target="_top">Bug#22400</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-2"></a>C.5.30. Changes in MySQL Connector/NET 5.0.2 (06 November 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An <code class="literal">Ignore Prepare</code> option has been added to
        the connection string options. If enabled, prepared statements
        will be disabled application-wide. The default for this option
        is true.
      </p></li><li><p>
        Implemented a stored procedure cache. By default, the connector
        caches the metadata for the last 25 procedures that are seen.
        You can change the numbver of procedures that are cacheds by
        using the <code class="literal">procedure cache</code> connection string.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/NET 5.0.2 has disabled their use by
        default. The disabling of server-side prepared statements does
        not affect the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string
        properties:
      </p><pre class="programlisting">ignore prepare=false</pre><p>
        The default value of this property is true.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        One system where IPv6 was enabled, Connector/NET would
        incorrectly resolve host names.
       (<a href="http://bugs.mysql.com/23758" target="_top">Bug#23758</a>)</p></li><li><p>
        Column names with accented characters were not parsed properly
        causing malformed column names in result sets.
       (<a href="http://bugs.mysql.com/23657" target="_top">Bug#23657</a>)</p></li><li><p>
        An exception would be thrown when calling
        <code class="literal">GetSchemaTable</code> and <code class="literal">fields</code>
        was null.
       (<a href="http://bugs.mysql.com/23538" target="_top">Bug#23538</a>)</p></li><li><p>
        A <code class="literal">System.FormatException</code> exception would be
        raised when invoking a stored procedure with an
        <a href="data-types.html#enum" title="10.4.4. The ENUM Type"><code class="literal">ENUM</code></a> input parameter.
       (<a href="http://bugs.mysql.com/23268" target="_top">Bug#23268</a>)</p></li><li><p>
        During installation, an antivirus error message would be raised
        (indicating a malicious script problem).
       (<a href="http://bugs.mysql.com/23245" target="_top">Bug#23245</a>)</p></li><li><p>
        Creating a connection through the Server Explorer when using the
        Visual Studio Plugin would fail. The installer for the Visual
        Studio Plugin has been updated to ensure that Connector/NET
        5.0.2 must be installed.
       (<a href="http://bugs.mysql.com/23071" target="_top">Bug#23071</a>)</p></li><li><p>
        Using Windows Vista (RC2) as a non-privileged user would raise a
        <code class="literal">Registry key 'Global' access denied</code>.
       (<a href="http://bugs.mysql.com/22882" target="_top">Bug#22882</a>)</p></li><li><p>
        Within Mono, using the <code class="literal">PreparedStatement</code>
        interface could result in an error due to a
        <code class="literal">BitArray</code> copying error.
       (<a href="http://bugs.mysql.com/18186" target="_top">Bug#18186</a>)</p></li><li><p>
        Connector/NET did not work as a data source for the
        <code class="literal">SqlDataSource</code> object used by ASP.NET 2.0.
       (<a href="http://bugs.mysql.com/16126" target="_top">Bug#16126</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-1"></a>C.5.31. Changes in MySQL Connector/NET 5.0.1 (01 October 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/NET on a Tukish operating system, may fail to execute
        certain SQL statements correctly.
       (<a href="http://bugs.mysql.com/22452" target="_top">Bug#22452</a>)</p></li><li><p>
        Starting a transaction on a connection created by
        <code class="literal">MySql.Data.MySqlClient.MySqlClientFactory</code>,
        using <code class="literal">BeginTransaction</code> without specifying an
        isolation level, causes the SQL statement to fail with a syntax
        error.
       (<a href="http://bugs.mysql.com/22042" target="_top">Bug#22042</a>)</p></li><li><p>
        The <code class="literal">MySqlexception</code> class is now derived from
        the <code class="literal">DbException</code> class.
       (<a href="http://bugs.mysql.com/21874" target="_top">Bug#21874</a>)</p></li><li><p>
        The <code class="literal">#</code> would not be accepted within
        column/table names, even though it was valid.
       (<a href="http://bugs.mysql.com/21521" target="_top">Bug#21521</a>)</p></li><li><p>
        You can now install the Connector/NET MSI package from the
        command line using the <code class="literal">/passive</code>,
        <code class="literal">/quiet</code>, <code class="literal">/q</code> options.
       (<a href="http://bugs.mysql.com/19994" target="_top">Bug#19994</a>)</p></li><li><p>
        Submitting an empty string to a command object through
        <code class="literal">prepare</code> raises an
        <code class="literal">System.IndexOutOfRangeException</code>, rather than
        a Connector/Net exception.
       (<a href="http://bugs.mysql.com/18391" target="_top">Bug#18391</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar</code> with a datetime field,
        where the value of the field is "0000-00-00 00:00:00", a
        <code class="literal">MySqlConversionException</code> exception would be
        raised.
       (<a href="http://bugs.mysql.com/11991" target="_top">Bug#11991</a>)</p></li><li><p>
        An <code class="literal">MySql.Data.Types.MySqlConversionException</code>
        would be raised when trying to update a row that contained a
        date field, where the date field contained a zero value
        (0000-00-00 00:00:00).
       (<a href="http://bugs.mysql.com/9619" target="_top">Bug#9619</a>)</p></li><li><p>
        Executing multiple queries as part of a transaction returns
        <code class="literal">There is already an openDataReader associated with this
        Connection which must be closed first</code>.
       (<a href="http://bugs.mysql.com/7248" target="_top">Bug#7248</a>)</p></li><li><p>
        Incorrect field/data lengths could be returned for
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> UTF8 columns. Bug
        (#14592)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-5-0-0"></a>C.5.32. Changes in MySQL Connector/NET 5.0.0 (08 August 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Replaced use of ICSharpCode with .NET 2.0 internal deflate
        support.
      </p></li><li><p>
        Refactored test suite to test all protocols in a single pass.
      </p></li><li><p>
        Added usage advisor warnings for requesting column values by the
        wrong type.
      </p></li><li><p>
        Reimplemented PacketReader/PacketWriter support into
        <code class="classname">MySqlStream</code> class.
      </p></li><li><p>
        Reworked connection string classes to be simpler and faster.
      </p></li><li><p>
        Added procedure metadata caching.
      </p></li><li><p>
        Added internal implemention of SHA1 so we don't have to
        distribute the OpenNetCF on mobile devices.
      </p></li><li><p>
        Implemented <code class="classname">MySqlClientFactory</code> class.
      </p></li><li><p>
        Added perfmon hooks for stored procedure cache hits and misses.
      </p></li><li><p>
        Implemented classes and interfaces for ADO.Net 2.0 support.
      </p></li><li><p>
        Added Async query methods.
      </p></li><li><p>
        Implemented Usage Advisor.
      </p></li><li><p>
        Completely refactored how column values are handled to avoid
        boxing in some cases.
      </p></li><li><p>
        Implemented <code class="classname">MySqlConnectionBuilder</code> class.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        CommandText: Question mark in comment line is being parsed as a
        parameter.
       (<a href="http://bugs.mysql.com/6214" target="_top">Bug#6214</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-11"></a>C.5.33. Changes in MySQL Connector/NET 1.0.11 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Attempting to utilize MySQL Connector .Net version 1.0.10 throws
        a fatal exception under Mono when pooling is enabled.
       (<a href="http://bugs.mysql.com/33682" target="_top">Bug#33682</a>)</p></li><li><p>
        Setting the size of a string parameter after the value could
        cause an exception.
       (<a href="http://bugs.mysql.com/32094" target="_top">Bug#32094</a>)</p></li><li><p>
        Creation of parameter objects with non-input direction using a
        constructor would fail. This was cause by some old legacy code
        preventing their use.
       (<a href="http://bugs.mysql.com/32093" target="_top">Bug#32093</a>)</p></li><li><p>
        Memory usage could increase and decrease significantly when
        updating or inserting a large number of rows.
       (<a href="http://bugs.mysql.com/31090" target="_top">Bug#31090</a>)</p></li><li><p>
        Commands executed from within the state change handeler would
        fail with a <code class="literal">NULL</code> exception.
       (<a href="http://bugs.mysql.com/30964" target="_top">Bug#30964</a>)</p></li><li><p>
        Extracting data through XML functions within a query returns the
        data as <code class="literal">System.Byte[]</code>. This was due to
        Connector/NET incorrectly identifying
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> fields as binary, rather
        than text.
       (<a href="http://bugs.mysql.com/30233" target="_top">Bug#30233</a>)</p></li><li><p>
        Using compression in the MySQL connection with Connector/NET
        would be slower than using native (uncompressed) communication.
       (<a href="http://bugs.mysql.com/27865" target="_top">Bug#27865</a>)</p></li><li><p>
        Changing the connection string of a connection to one that
        changes the parameter marker after the connection had been
        assigned to a command but before the connection is opened could
        cause parameters to not be found.
       (<a href="http://bugs.mysql.com/13991" target="_top">Bug#13991</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-10"></a>C.5.34. Changes in MySQL Connector/NET 1.0.10 (24 August 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An incorrect <code class="literal">ConstraintException</code> could be
        raised on an <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> when adding
        rows to a table with a multiple-column unique key index.
       (<a href="http://bugs.mysql.com/30204" target="_top">Bug#30204</a>)</p></li><li><p>
        The availability of a MySQL server would not be reset when using
        pooled connections (<code class="literal">pooling=true</code>). This would
        lead to the server being reported as unavailable, even if the
        server become available while the application was still running.
       (<a href="http://bugs.mysql.com/29409" target="_top">Bug#29409</a>)</p></li><li><p>
        Publisher listed in "Add/Remove Programs" is not consistent with
        other MySQL products.
       (<a href="http://bugs.mysql.com/27253" target="_top">Bug#27253</a>)</p></li><li><p>
        <code class="literal">MySqlParameterCollection</code> and parameters added
        with <code class="literal">Insert</code> method can not be retrieved later
        using <code class="literal">ParameterName</code>.
       (<a href="http://bugs.mysql.com/27135" target="_top">Bug#27135</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns would be
        returned as a string, not binary, datatype.
       (<a href="http://bugs.mysql.com/25605" target="_top">Bug#25605</a>)</p></li><li><p>
        A critical <code class="literal">ConnectionPool</code> error would result
        in repeated <code class="literal">System.NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/25603" target="_top">Bug#25603</a>)</p></li><li><p>
        When a <code class="literal">MySqlConversionException</code> is raised on
        a remote object, the client application would receive a
        <code class="literal">SerializationException</code> instead.
       (<a href="http://bugs.mysql.com/24957" target="_top">Bug#24957</a>)</p></li><li><p>
        High CPU utilization would be experienced when there is no idle
        connection waiting when using pooled connections through
        <code class="literal">MySqlPool.GetConnection</code>.
       (<a href="http://bugs.mysql.com/24373" target="_top">Bug#24373</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-9"></a>C.5.35. Changes in MySQL Connector/NET 1.0.9 (02 February 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The ICSharpCode ZipLib is no longer used by the Connector, and
        is no longer distributed with it.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Binaries for
        .NET 1.0 are no longer supplied with this release. If you need
        support for .NET 1.0, you must build from source.
      </p></li><li><p>
        Improved <code class="literal">CommandBuilder.DeriveParameters</code> to
        first try and use the procedure cache before querying for the
        stored procedure metadata. Return parameters created with
        <code class="literal">DeriveParameters</code> now have the name
        <code class="literal">RETURN_VALUE</code>.
      </p></li><li><p>
        An <code class="literal">Ignore Prepare</code> option has been added to
        the connection string options. If enabled, prepared statements
        will be disabled application-wide. The default for this option
        is true.
      </p></li><li><p>
        Implemented a stored procedure cache. By default, the connector
        caches the metadata for the last 25 procedures that are seen.
        You can change the numbver of procedures that are cacheds by
        using the <code class="literal">procedure cache</code> connection string.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/NET 5.0.2 has disabled their use by
        default. The disabling of server-side prepared statements does
        not affect the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string
        properties:
      </p><pre class="programlisting">ignore prepare=false</pre><p>
        The default value of this property is true.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Times with negative values would be returned incorrectly.
       (<a href="http://bugs.mysql.com/25912" target="_top">Bug#25912</a>)</p></li><li><p>
        <code class="literal">MySqlConnection</code> throws a
        <code class="literal">NullReferenceException</code> and
        <code class="literal">ArgumentNullException</code> when connecting to
        MySQL v4.1.7.
       (<a href="http://bugs.mysql.com/25726" target="_top">Bug#25726</a>)</p></li><li><p>
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> did not work correctly
        when using a <code class="literal">WHERE</code> clause containing a UTF-8
        string.
       (<a href="http://bugs.mysql.com/25651" target="_top">Bug#25651</a>)</p></li><li><p>
        When closing and then re-opening a connection to a database, the
        character set specification is lost.
       (<a href="http://bugs.mysql.com/25614" target="_top">Bug#25614</a>)</p></li><li><p>
        Trying to fill a table schema through a stored procedure
        triggers a runtime error.
       (<a href="http://bugs.mysql.com/25609" target="_top">Bug#25609</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar()</code> with more than one
        query, where one query fails, will hang the connection.
       (<a href="http://bugs.mysql.com/25443" target="_top">Bug#25443</a>)</p></li><li><p>
        Additional text added to error message.
       (<a href="http://bugs.mysql.com/25178" target="_top">Bug#25178</a>)</p></li><li><p>
        When adding parameter objects to a command object, if the
        parameter direction is set to <code class="literal">ReturnValue</code>
        before the parameter is added to the command object then when
        the command is executed it throws an error.
       (<a href="http://bugs.mysql.com/25013" target="_top">Bug#25013</a>)</p></li><li><p>
        When connecting to a server, the return code from the connection
        could be zero, even though the host name was incorrect.
       (<a href="http://bugs.mysql.com/24802" target="_top">Bug#24802</a>)</p></li><li><p>
        Using <code class="literal">Driver.IsTooOld()</code> would return the
        wrong value.
       (<a href="http://bugs.mysql.com/24661" target="_top">Bug#24661</a>)</p></li><li><p>
        When using a <code class="literal">DbNull.Value</code> as the value for a
        parameter value, and then later setting a specific value type,
        the command would fail with an exception because the wrong type
        was implied from the <code class="literal">DbNull.Value</code>.
       (<a href="http://bugs.mysql.com/24565" target="_top">Bug#24565</a>)</p></li><li><p>
        Stored procedure executions are not thread safe.
       (<a href="http://bugs.mysql.com/23905" target="_top">Bug#23905</a>)</p></li><li><p>
        The <code class="literal">CommandBuilder</code> would mistakenly add
        insert parameters for a table column with auto incrementation
        enabled.
       (<a href="http://bugs.mysql.com/23862" target="_top">Bug#23862</a>)</p></li><li><p>
        One system where IPv6 was enabled, Connector/NET would
        incorrectly resolve host names.
       (<a href="http://bugs.mysql.com/23758" target="_top">Bug#23758</a>)</p></li><li><p>
        Nested transactions do not raise an error or warning.
       (<a href="http://bugs.mysql.com/22400" target="_top">Bug#22400</a>)</p></li><li><p>
        An <code class="literal">System.OverflowException</code> would be raised
        when accessing a varchar field over 255 bytes. Bug (#23749)
      </p></li><li><p>
        Within Mono, using the <code class="literal">PreparedStatement</code>
        interface could result in an error due to a
        <code class="literal">BitArray</code> copying error. (Bug 18186)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-8"></a>C.5.36. Changes in MySQL Connector/NET 1.0.8 (20 October 2006)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Stored procedures are now cached.
      </p></li><li><p>
        The method for retrieving stored procedured metadata has been
        changed so that users without
        <a href="server-administration.html#priv_select"><code class="literal">SELECT</code></a> privileges on the
        <code class="literal">mysql.proc</code> table can use a stored procedure.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/NET on a Tukish operating system, may fail to execute
        certain SQL statements correctly.
       (<a href="http://bugs.mysql.com/22452" target="_top">Bug#22452</a>)</p></li><li><p>
        The <code class="literal">#</code> would not be accepted within
        column/table names, even though it was valid.
       (<a href="http://bugs.mysql.com/21521" target="_top">Bug#21521</a>)</p></li><li><p>
        Calling <code class="methodname">Close</code> on a connection after
        calling a stored procedure would trigger a
        <code class="literal">NullReferenceException</code>.
       (<a href="http://bugs.mysql.com/20581" target="_top">Bug#20581</a>)</p></li><li><p>
        You can now install the Connector/NET MSI package from the
        command line using the <code class="literal">/passive</code>,
        <code class="literal">/quiet</code>, <code class="literal">/q</code> options.
       (<a href="http://bugs.mysql.com/19994" target="_top">Bug#19994</a>)</p></li><li><p>
        The DiscoverParameters function would fail when a stored
        procedure used a <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a>
        parameter type.
       (<a href="http://bugs.mysql.com/19515" target="_top">Bug#19515</a>)</p></li><li><p>
        When running a query that included a date comparison, a
        DateReader error would be raised.
       (<a href="http://bugs.mysql.com/19481" target="_top">Bug#19481</a>)</p></li><li><p>
        <code class="literal">IDataRecord.GetString</code> would raise
        <code class="literal">NullPointerException</code> for null values in
        returned rows. Method now throws
        <code class="literal">SqlNullValueException</code>.
       (<a href="http://bugs.mysql.com/19294" target="_top">Bug#19294</a>)</p></li><li><p>
        Parameter substitution in queries where the order of parameters
        and table fields did not match would substitute incorrect
        values.
       (<a href="http://bugs.mysql.com/19261" target="_top">Bug#19261</a>)</p></li><li><p>
        Submitting an empty string to a command object through
        <code class="literal">prepare</code> raises an
        <code class="literal">System.IndexOutOfRangeException</code>, rather than
        a Connector/Net exception.
       (<a href="http://bugs.mysql.com/18391" target="_top">Bug#18391</a>)</p></li><li><p>
        An exception would be raised when using an output parameter to a
        <code class="literal">System.String</code> value.
       (<a href="http://bugs.mysql.com/17814" target="_top">Bug#17814</a>)</p></li><li><p>
        CHAR type added to MySqlDbType.
       (<a href="http://bugs.mysql.com/17749" target="_top">Bug#17749</a>)</p></li><li><p>
        A <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> query on a table with a
        date with a value of <code class="literal">'0000-00-00'</code> would hang
        the application.
       (<a href="http://bugs.mysql.com/17736" target="_top">Bug#17736</a>)</p></li><li><p>
        The CommandBuilder ignored Unsigned flag at Parameter creation.
       (<a href="http://bugs.mysql.com/17375" target="_top">Bug#17375</a>)</p></li><li><p>
        When working with multiple threads, character set initialization
        would generate errors.
       (<a href="http://bugs.mysql.com/17106" target="_top">Bug#17106</a>)</p></li><li><p>
        When using an unsigned 64-bit integer in a stored procedure, the
        unsigned bit would be lost stored.
       (<a href="http://bugs.mysql.com/16934" target="_top">Bug#16934</a>)</p></li><li><p>
        <code class="literal">DataReader</code> would show the value of the
        previous row (or last row with non-null data) if the current row
        contained a <code class="literal">datetime</code> field with a null value.
       (<a href="http://bugs.mysql.com/16884" target="_top">Bug#16884</a>)</p></li><li><p>
        Unsigned data types were not properly supported.
       (<a href="http://bugs.mysql.com/16788" target="_top">Bug#16788</a>)</p></li><li><p>
        The connection string parser did not allow single or double
        quotes in the password.
       (<a href="http://bugs.mysql.com/16659" target="_top">Bug#16659</a>)</p></li><li><p>
        The <code class="literal">MySqlDateTime</code> class did not contain
        constructors.
       (<a href="http://bugs.mysql.com/15112" target="_top">Bug#15112</a>)</p></li><li><p>
        Called <code class="literal">MySqlCommandBuilder.DeriveParameters</code>
        for a stored procedure that has no paramers would cause an
        application crash.
       (<a href="http://bugs.mysql.com/15077" target="_top">Bug#15077</a>)</p></li><li><p>
        Using <code class="literal">ExecuteScalar</code> with a datetime field,
        where the value of the field is "0000-00-00 00:00:00", a
        <code class="literal">MySqlConversionException</code> exception would be
        raised.
       (<a href="http://bugs.mysql.com/11991" target="_top">Bug#11991</a>)</p></li><li><p>
        An <code class="literal">MySql.Data.Types.MySqlConversionException</code>
        would be raised when trying to update a row that contained a
        date field, where the date field contained a zero value
        (0000-00-00 00:00:00).
       (<a href="http://bugs.mysql.com/9619" target="_top">Bug#9619</a>)</p></li><li><p>
        When using <code class="literal">MySqlDataAdapter</code>, connections to a
        MySQL server may remain open and active, even though the use of
        the connection has been completed and the data received.
       (<a href="http://bugs.mysql.com/8131" target="_top">Bug#8131</a>)</p></li><li><p>
        Executing multiple queries as part of a transaction returns
        <code class="literal">There is already an openDataReader associated with this
        Connection which must be closed first</code>.
       (<a href="http://bugs.mysql.com/7248" target="_top">Bug#7248</a>)</p></li><li><p>
        Incorrect field/data lengths could be returned for
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> UTF8 columns. Bug
        (#14592)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-7"></a>C.5.37. Changes in MySQL Connector/NET 1.0.7 (21 November 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Unsigned <code class="literal">tinyint</code> (NET byte) would lead to and
        incorrectly determined parameter type from the parameter value.
       (<a href="http://bugs.mysql.com/18570" target="_top">Bug#18570</a>)</p></li><li><p>
        A <code class="literal">#42000Query was empty</code> exception occurred
        when executing a query built with
        <code class="literal">MySqlCommandBuilder</code>, if the query string
        ended with a semicolon.
       (<a href="http://bugs.mysql.com/14631" target="_top">Bug#14631</a>)</p></li><li><p>
        The parameter collection object's <code class="literal">Add()</code>
        method added parameters to the list without first checking to
        see whether they already existed. Now it updates the value of
        the existing parameter object if it exists.
       (<a href="http://bugs.mysql.com/13927" target="_top">Bug#13927</a>)</p></li><li><p>
        Added support for the <code class="literal">cp932</code> character set.
       (<a href="http://bugs.mysql.com/13806" target="_top">Bug#13806</a>)</p></li><li><p>
        Calling a stored procedure where a parameter contained special
        characters (such as <code class="literal">'@'</code>) would produce an
        exception. Note that
        <a href="server-administration.html#sqlmode_ansi_quotes"><code class="literal">ANSI_QUOTES</code></a> had to be enabled
        to make this possible.
       (<a href="http://bugs.mysql.com/13753" target="_top">Bug#13753</a>)</p></li><li><p>
        The <code class="literal">Ping()</code> method did not update the
        <code class="literal">State</code> property of the
        <code class="literal">Connection</code> object.
       (<a href="http://bugs.mysql.com/13658" target="_top">Bug#13658</a>)</p></li><li><p>
        Implemented the
        <code class="literal">MySqlCommandBuilder.DeriveParameters</code> method
        that is used to discover the parameters for a stored procedure.
       (<a href="http://bugs.mysql.com/13632" target="_top">Bug#13632</a>)</p></li><li><p>
        A statement that contained multiple references to the same
        parameter could not be prepared.
       (<a href="http://bugs.mysql.com/13541" target="_top">Bug#13541</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-6"></a>C.5.38. Changes in MySQL Connector/NET 1.0.6 (03 October 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/NET 1.0.5 could not connect on Mono.
       (<a href="http://bugs.mysql.com/13345" target="_top">Bug#13345</a>)</p></li><li><p>
        Serializing a parameter failed if the first value passed in was
        <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/13276" target="_top">Bug#13276</a>)</p></li><li><p>
        Field names that contained the following characters caused
        errors: <code class="literal">()%&lt;&gt;/</code>
       (<a href="http://bugs.mysql.com/13036" target="_top">Bug#13036</a>)</p></li><li><p>
        The <code class="literal">nant</code> build sequence had problems.
       (<a href="http://bugs.mysql.com/12978" target="_top">Bug#12978</a>)</p></li><li><p>
        The Connector/NET 1.0.5 installer would not install alongside
        Connector/NET 1.0.4.
       (<a href="http://bugs.mysql.com/12835" target="_top">Bug#12835</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-5"></a>C.5.39. Changes in MySQL Connector/NET 1.0.5 (29 August 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/NET could not connect to MySQL 4.1.14.
       (<a href="http://bugs.mysql.com/12771" target="_top">Bug#12771</a>)</p></li><li><p>
        With multiple hosts in the connection string, Connector/NET
        would not connect to the last host in the list.
       (<a href="http://bugs.mysql.com/12628" target="_top">Bug#12628</a>)</p></li><li><p>
        The <code class="literal">ConnectionString</code> property could not be
        set when a <code class="literal">MySqlConnection</code> object was added
        with the designer.
       (<a href="http://bugs.mysql.com/12551" target="_top">Bug#12551</a>, <a href="http://bugs.mysql.com/8724" target="_top">Bug#8724</a>)</p></li><li><p>
        The <code class="literal">cp1250</code> character set was not supported.
       (<a href="http://bugs.mysql.com/11621" target="_top">Bug#11621</a>)</p></li><li><p>
        A call to a stored procedure caused an exception if the stored
        procedure had no parameters.
       (<a href="http://bugs.mysql.com/11542" target="_top">Bug#11542</a>)</p></li><li><p>
        Certain malformed queries would trigger a <code class="literal">Connection
        must be valid and open</code> error message.
       (<a href="http://bugs.mysql.com/11490" target="_top">Bug#11490</a>)</p></li><li><p>
        Trying to use a stored procedure when
        <code class="literal">Connection.Database</code> was not populated
        generated an exception.
       (<a href="http://bugs.mysql.com/11450" target="_top">Bug#11450</a>)</p></li><li><p>
        Connector/NET interpreted the new decimal data type as a byte
        array.
       (<a href="http://bugs.mysql.com/11294" target="_top">Bug#11294</a>)</p></li><li><p>
        Added support to call a stored function from Connector/NET.
       (<a href="http://bugs.mysql.com/10644" target="_top">Bug#10644</a>)</p></li><li><p>
        Connection could fail when .NET thread pool had no available
        worker threads.
       (<a href="http://bugs.mysql.com/10637" target="_top">Bug#10637</a>)</p></li><li><p>
        Calling <code class="literal">MySqlConnection.clone</code> when a
        connection string had not yet been set on the original
        connection would generate an error.
       (<a href="http://bugs.mysql.com/10281" target="_top">Bug#10281</a>)</p></li><li><p>
        Decimal parameters caused syntax errors.
       (<a href="http://bugs.mysql.com/10152" target="_top">Bug#10152</a>, <a href="http://bugs.mysql.com/11550" target="_top">Bug#11550</a>, <a href="http://bugs.mysql.com/10486" target="_top">Bug#10486</a>)</p></li><li><p>
        Parameters were not recognized when they were separated by
        linefeeds.
       (<a href="http://bugs.mysql.com/9722" target="_top">Bug#9722</a>)</p></li><li><p>
        The <code class="literal">MySqlCommandBuilder</code> class could not
        handle queries that referenced tables in a database other than
        the default database.
       (<a href="http://bugs.mysql.com/8382" target="_top">Bug#8382</a>)</p></li><li><p>
        Trying to read a <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> column
        generated an exception.
       (<a href="http://bugs.mysql.com/7951" target="_top">Bug#7951</a>)</p></li><li><p>
        Connector/NET could not work properly with certain regional
        settings. (WL#8228)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-4"></a>C.5.40. Changes in MySQL Connector/NET 1.0.4 (20 January 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MySqlReader.GetInt32</code> throws exception if
        column is unsigned.
       (<a href="http://bugs.mysql.com/7755" target="_top">Bug#7755</a>)</p></li><li><p>
        Quote character \222 not quoted in
        <code class="literal">EscapeString</code>.
       (<a href="http://bugs.mysql.com/7724" target="_top">Bug#7724</a>)</p></li><li><p>
        GetBytes is working no more.
       (<a href="http://bugs.mysql.com/7704" target="_top">Bug#7704</a>)</p></li><li><p>
        <code class="literal">MySqlDataReader.GetString(index)</code> returns
        non-Null value when field is <code class="literal">Null</code>.
       (<a href="http://bugs.mysql.com/7612" target="_top">Bug#7612</a>)</p></li><li><p>
        Clone method bug in <code class="literal">MySqlCommand</code>.
       (<a href="http://bugs.mysql.com/7478" target="_top">Bug#7478</a>)</p></li><li><p>
        Problem with Multiple resultsets.
       (<a href="http://bugs.mysql.com/7436" target="_top">Bug#7436</a>)</p></li><li><p>
        <code class="literal">MySqlAdapter.Fill</code> method throws error message
        <code class="literal">Non-negative number required</code>.
       (<a href="http://bugs.mysql.com/7345" target="_top">Bug#7345</a>)</p></li><li><p>
        <code class="literal">MySqlCommand.Connection</code> returns an
        IDbConnection.
       (<a href="http://bugs.mysql.com/7258" target="_top">Bug#7258</a>)</p></li><li><p>
        Calling prepare causing exception.
       (<a href="http://bugs.mysql.com/7243" target="_top">Bug#7243</a>)</p></li><li><p>
        Fixed problem with shared memory connections.
      </p></li><li><p>
        Added or filled out several more topics in the API reference
        documentation.
      </p></li><li><p>
        Fixed another small problem with prepared statements.
      </p></li><li><p>
        Fixed problem that causes named pipes to not work with some blob
        functionality.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-3"></a>C.5.41. Changes in MySQL Connector/NET 1.0.3 (12 October 2004 gamma)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Invalid query string when using inout parameters
       (<a href="http://bugs.mysql.com/7133" target="_top">Bug#7133</a>)</p></li><li><p>
        Inserting <code class="literal">DateTime</code> causes
        <code class="literal">System.InvalidCastException</code> to be thrown.
       (<a href="http://bugs.mysql.com/7132" target="_top">Bug#7132</a>)</p></li><li><p>
        <code class="literal">MySqlDateTime</code> in Datatables sorting by Text,
        not Date.
       (<a href="http://bugs.mysql.com/7032" target="_top">Bug#7032</a>)</p></li><li><p>
        Exception stack trace lost when re-throwing exceptions.
       (<a href="http://bugs.mysql.com/6983" target="_top">Bug#6983</a>)</p></li><li><p>
        Errors in parsing stored procedure parameters.
       (<a href="http://bugs.mysql.com/6902" target="_top">Bug#6902</a>)</p></li><li><p>
        InvalidCast when using <code class="literal">DATE_ADD</code>-function.
       (<a href="http://bugs.mysql.com/6879" target="_top">Bug#6879</a>)</p></li><li><p>
        Int64 Support in <code class="literal">MySqlCommand</code> Parameters.
       (<a href="http://bugs.mysql.com/6863" target="_top">Bug#6863</a>)</p></li><li><p>
        Test suite fails with MySQL 4.0 because of case sensitivity of
        table names.
       (<a href="http://bugs.mysql.com/6831" target="_top">Bug#6831</a>)</p></li><li><p>
        <code class="literal">MySqlDataReader.GetChar(int i)</code> throws
        <code class="literal">IndexOutOfRange</code> exception.
       (<a href="http://bugs.mysql.com/6770" target="_top">Bug#6770</a>)</p></li><li><p>
        Integer "out" parameter from stored procedure returned as
        string.
       (<a href="http://bugs.mysql.com/6668" target="_top">Bug#6668</a>)</p></li><li><p>
        An Open Connection has been Closed by the Host System.
       (<a href="http://bugs.mysql.com/6634" target="_top">Bug#6634</a>)</p></li><li><p>
        Fixed Invalid character set index: 200.
       (<a href="http://bugs.mysql.com/6547" target="_top">Bug#6547</a>)</p></li><li><p>
        Connections now do not have to give a database on the connection
        string.
      </p></li><li><p>
        Installer now includes options to install into GAC and create
        <span class="guimenu">Start Menu</span> items.
      </p></li><li><p>
        Fixed major problem with detecting null values when using
        prepared statements.
      </p></li><li><p>
        Fixed problem where multiple resultsets having different numbers
        of columns would cause a problem.
      </p></li><li><p>
        Added <code class="literal">ServerThread</code> property to
        <code class="literal">MySqlConnection</code> to expose server thread id.
      </p></li><li><p>
        Added Ping method to <code class="literal">MySqlConnection</code>.
      </p></li><li><p>
        Changed the name of the test suite to
        <code class="filename">MySql.Data.Tests.dll</code>.
      </p></li><li><p>
        Now <a href="sql-syntax.html#show-collation" title="12.5.6.5. SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> is used upon
        connection to retrieve the full list of charset ids.
      </p></li><li><p>
        Made MySQL the default named pipe name.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-2"></a>C.5.42. Changes in MySQL Connector/NET 1.0.2 (15 November 2004 gamma)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed Objects not being disposed
       (<a href="http://bugs.mysql.com/6649" target="_top">Bug#6649</a>)</p></li><li><p>
        Fixed Charset-map for UCS-2
       (<a href="http://bugs.mysql.com/6541" target="_top">Bug#6541</a>)</p></li><li><p>
        Fixed Zero date "0000-00-00" is returned wrong when filling
        Dataset
       (<a href="http://bugs.mysql.com/6429" target="_top">Bug#6429</a>)</p></li><li><p>
        Fixed double type handling in MySqlParameter(string
        parameterName, object value)
       (<a href="http://bugs.mysql.com/6428" target="_top">Bug#6428</a>)</p></li><li><p>
        Fixed Installation directory ignored using custom installation
       (<a href="http://bugs.mysql.com/6329" target="_top">Bug#6329</a>)</p></li><li><p>
        Fixed #HY000 Illegal mix of collations
        (latin1_swedish_ci,IMPLICIT) and (utf8_general_
       (<a href="http://bugs.mysql.com/6322" target="_top">Bug#6322</a>)</p></li><li><p>
        Added the TableEditor CS and VB sample
      </p></li><li><p>
        Added charset connection string option
      </p></li><li><p>
        Fixed problem with MySqlBinary where string values could not be
        used to update extended text columns
      </p></li><li><p>
        Provider is now using character set specified by server as
        default
      </p></li><li><p>
        Updated the installer to include the new samples
      </p></li><li><p>
        Fixed problem where setting command text leaves the command in a
        prepared state
      </p></li><li><p>
        Fixed Long inserts take very long time (Bu #5453)
      </p></li><li><p>
        Fixed problem where calling stored procedures might cause an
        "Illegal mix of collations" problem.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-1"></a>C.5.43. Changes in MySQL Connector/NET 1.0.1 (27 October 2004 beta)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed IndexOutOfBounds when reading BLOB with DataReader with
        GetString(index)
       (<a href="http://bugs.mysql.com/6230" target="_top">Bug#6230</a>)</p></li><li><p>
        Fixed GetBoolean returns wrong values
       (<a href="http://bugs.mysql.com/6227" target="_top">Bug#6227</a>)</p></li><li><p>
        Fixed Method TokenizeSql() uses only a limited set of valid
        characters for parameters
       (<a href="http://bugs.mysql.com/6217" target="_top">Bug#6217</a>)</p></li><li><p>
        Fixed NET Connector source missing resx files
       (<a href="http://bugs.mysql.com/6216" target="_top">Bug#6216</a>)</p></li><li><p>
        Fixed System.OverflowException when using YEAR datatype
       (<a href="http://bugs.mysql.com/6036" target="_top">Bug#6036</a>)</p></li><li><p>
        Fixed MySqlDateTime sets IsZero property on all subseq.records
        after first zero found
       (<a href="http://bugs.mysql.com/6006" target="_top">Bug#6006</a>)</p></li><li><p>
        Fixed serializing of floating point parameters (double, numeric,
        single, decimal)
       (<a href="http://bugs.mysql.com/5900" target="_top">Bug#5900</a>)</p></li><li><p>
        Fixed missing Reference in DbType setter
       (<a href="http://bugs.mysql.com/5897" target="_top">Bug#5897</a>)</p></li><li><p>
        Fixed Parsing the ';' char
       (<a href="http://bugs.mysql.com/5876" target="_top">Bug#5876</a>)</p></li><li><p>
        Fixed DBNull Values causing problems with retrieving/updating
        queries.
       (<a href="http://bugs.mysql.com/5798" target="_top">Bug#5798</a>)</p></li><li><p>
        IsNullable error
       (<a href="http://bugs.mysql.com/5796" target="_top">Bug#5796</a>)</p></li><li><p>
        Fixed problem where MySqlParameterCollection.Add() would throw
        unclear exception when given a null value
       (<a href="http://bugs.mysql.com/5621" target="_top">Bug#5621</a>)</p></li><li><p>
        Fixed construtor initialize problems in MySqlCommand()
       (<a href="http://bugs.mysql.com/5613" target="_top">Bug#5613</a>)</p></li><li><p>
        Fixed Yet Another "object reference not set to an instance of an
        object"
       (<a href="http://bugs.mysql.com/5496" target="_top">Bug#5496</a>)</p></li><li><p>
        Fixed Can't display Chinese correctly
       (<a href="http://bugs.mysql.com/5288" target="_top">Bug#5288</a>)</p></li><li><p>
        Fixed MySqlDataReader and 'show tables from ...' behavior
       (<a href="http://bugs.mysql.com/5256" target="_top">Bug#5256</a>)</p></li><li><p>
        Fixed problem in PacketReader where it could try to allocate the
        wrong buffer size in EnsureCapacity
      </p></li><li><p>
        Fixed problem where using old syntax while using the interfaces
        caused problems
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5458" target="_top">Bug#5458</a> Calling GetChars on a longtext column throws an
        exception
      </p></li><li><p>
        Added test case for resetting the command text on a prepared
        command
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5388" target="_top">Bug#5388</a> DataReader reports all rows as NULL if one row
        is NULL
      </p></li><li><p>
        Fixed problem where connection lifetime on the connect string
        was not being respected
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5602" target="_top">Bug#5602</a> Possible bug in MySqlParameter(string, object)
        constructor
      </p></li><li><p>
        Field buffers being reused to decrease memory allocations and
        increase speed
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5392" target="_top">Bug#5392</a> MySqlCommand sees "?" as parameters in string
        literals
      </p></li><li><p>
        Added Aggregate function test (wasn't really a bug)
      </p></li><li><p>
        Using PacketWriter instead of Packet for writing to streams
      </p></li><li><p>
        Implemented SequentialAccess
      </p></li><li><p>
        Fixed problem with ConnectionInternal where a key might be added
        more than once
      </p></li><li><p>
        Fixed Russian character support as well
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5474" target="_top">Bug#5474</a> cannot run a stored procedure populating
        mysqlcommand.parameters
      </p></li><li><p>
        Fixed problem where connector was not issuing a CMD_QUIT before
        closing the socket
      </p></li><li><p>
        Fixed problem where Min Pool Size was not being respected
      </p></li><li><p>
        Refactored compression code into CompressedStream to clean up
        NativeDriver
      </p></li><li><p>
        CP1252 is now used for Latin1 only when the server is 4.1.2 and
        later
      </p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/5469" target="_top">Bug#5469</a> Setting DbType throws NullReferenceException
      </p></li><li><p>
        Virtualized driver subsystem so future releases could easily
        support client or embedded server support
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-1-0-0"></a>C.5.44. Changes in MySQL Connector/NET 1.0.0 (01 September 2004)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Thai encoding not correctly supported.
       (<a href="http://bugs.mysql.com/3889" target="_top">Bug#3889</a>)</p></li><li><p>
        Bumped version number to 1.0.0 for beta 1 release.
      </p></li><li><p>
        Removed all of the XML comment warnings.
      </p></li><li><p>
        Added <code class="filename">COPYING.rtf</code> file for use in
        installer.
      </p></li><li><p>
        Updated many of the test cases.
      </p></li><li><p>
        Fixed problem with using compression.
      </p></li><li><p>
        Removed some last references to ByteFX.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-0-9-0"></a>C.5.45. Changes in MySQL Connector/NET Version 0.9.0 (30 August 2004)</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Added test fixture for prepared statements.
        </p></li><li><p>
          All type classes now implement a
          <code class="literal">SerializeBinary</code> method for sending their
          data to a <code class="literal">PacketWriter</code>.
        </p></li><li><p>
          Added <code class="literal">PacketWriter</code> class that will enable
          future low-memory large object handling.
        </p></li><li><p>
          Fixed many small bugs in running prepared statements and
          stored procedures.
        </p></li><li><p>
          Changed command so that an exception will not be thrown in
          executing a stored procedure with parameters in old syntax
          mode.
        </p></li><li><p>
          <code class="literal">SingleRow</code> behavior now working right even
          with limit.
        </p></li><li><p>
          <code class="literal">GetBytes</code> now only works on binary columns.
        </p></li><li><p>
          Logger now truncates long sql commands so blob columns do not
          blow out our log.
        </p></li><li><p>
          host and database now have a default value of "" unless
          otherwise set.
        </p></li><li><p>
          Connection Timeout seems to be ignored. (<a href="http://bugs.mysql.com/5214" target="_top">Bug#5214</a>)
        </p></li><li><p>
          Added test case for bug# 5051: GetSchema not working
          correctly.
        </p></li><li><p>
          Fixed problem where <code class="literal">GetSchema</code> would return
          false for <code class="literal">IsUnique</code> when the column is key.
        </p></li><li><p>
          <code class="literal">MySqlDataReader GetXXX</code> methods now using
          the field level <code class="literal">MySqlValue</code> object and not
          performing conversions.
        </p></li><li><p>
          <code class="literal">DataReader</code> returning
          <code class="literal">NULL</code> for time column. (<a href="http://bugs.mysql.com/5097" target="_top">Bug#5097</a>)
        </p></li><li><p>
          Added test case for
          <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
          INFILE</code></a>.
        </p></li><li><p>
          Added replacetext custom nant task.
        </p></li><li><p>
          Added <code class="literal">CommandBuilderTest</code> fixture.
        </p></li><li><p>
          Added Last One Wins feature to
          <code class="literal">CommandBuilder</code>.
        </p></li><li><p>
          Fixed persist security info case problem.
        </p></li><li><p>
          Fixed <code class="literal">GetBool</code> so that 1, true, "true", and
          "yes" all count as true.
        </p></li><li><p>
          Make parameter mark configurable.
        </p></li><li><p>
          Added the "old syntax" connection string parameter to allow
          use of @ parameter marker.
        </p></li><li><p>
          <code class="literal">MySqlCommandBuilder</code>. (<a href="http://bugs.mysql.com/4658" target="_top">Bug#4658</a>)
        </p></li><li><p>
          <code class="literal">ByteFX.MySqlClient</code> caches passwords if
          <code class="literal">Persist Security Info</code> is false. (<a href="http://bugs.mysql.com/4864" target="_top">Bug#4864</a>)
        </p></li><li><p>
          Updated license banner in all source files to include FLOSS
          exception.
        </p></li><li><p>
          Added new .Types namespace and implementations for most
          current MySql types.
        </p></li><li><p>
          Added <code class="literal">MySqlField41</code> as a subclass of
          <code class="literal">MySqlField</code>.
        </p></li><li><p>
          Changed many classes to now use the new .Types types.
        </p></li><li><p>
          Changed type <code class="literal">enum int</code> to
          <code class="literal">Int32</code>, <code class="literal">short</code> to
          <code class="literal">Int16</code>, and <code class="literal">bigint</code> to
          <code class="literal">Int64</code>.
        </p></li><li><p>
          Added dummy types <code class="literal">UInt16</code>,
          <code class="literal">UInt32</code>, and <code class="literal">UInt64</code> to
          allow an unsigned parameter to be made.
        </p></li><li><p>
          Connections are now reset when they are pulled from the
          connection pool.
        </p></li><li><p>
          Refactored auth code in driver so it can be used for both auth
          and reset.
        </p></li><li><p>
          Added <code class="literal">UserReset</code> test in
          <code class="filename">PoolingTests.cs</code>.
        </p></li><li><p>
          Connections are now reset using
          <code class="literal">COM_CHANGE_USER</code> when pulled from the pool.
        </p></li><li><p>
          Implemented <code class="literal">SingleResultSet</code> behavior.
        </p></li><li><p>
          Implemented support of unicode.
        </p></li><li><p>
          Added char set mappings for utf-8 and ucs-2.
        </p></li><li><p>
          Time fields overflow using bytefx .net mysql driver (<a href="http://bugs.mysql.com/4520" target="_top">Bug#4520</a>)
        </p></li><li><p>
          Modified time test in data type test fixture to check for time
          spans where hours &gt; 24.
        </p></li><li><p>
          Wrong string with backslash escaping in
          <code class="literal">ByteFx.Data.MySqlClient.MySqlParameter</code>.
          (<a href="http://bugs.mysql.com/4505" target="_top">Bug#4505</a>)
        </p></li><li><p>
          Added code to Parameter test case TestQuoting to test for
          backslashes.
        </p></li><li><p>
          <code class="literal">MySqlCommandBuilder</code> fails with multi-word
          column names. (<a href="http://bugs.mysql.com/4486" target="_top">Bug#4486</a>)
        </p></li><li><p>
          Fixed bug in <code class="literal">TokenizeSql</code> where underscore
          would terminate character capture in parameter name.
        </p></li><li><p>
          Added test case for spaces in column names.
        </p></li><li><p>
          <code class="literal">MySqlDataReader.GetBytes</code> do not work
          correctly. (<a href="http://bugs.mysql.com/4324" target="_top">Bug#4324</a>)
        </p></li><li><p>
          Added <code class="function">GetBytes()</code> test case to
          <code class="literal">DataReader</code> test fixture.
        </p></li><li><p>
          Now reading all server variables in
          <code class="literal">InternalConnection.Configure</code> into
          <code class="literal">Hashtable</code>.
        </p></li><li><p>
          Now using <code class="literal">string[]</code> for index map in
          <code class="literal">CharSetMap</code>.
        </p></li><li><p>
          Added CRInSQL test case for carriage returns in SQL.
        </p></li><li><p>
          Setting maxPacketSize to default value in
          <code class="literal">Driver.ctor</code>.
        </p></li><li><p>
          Setting <code class="literal">MySqlDbType</code> on a parameter doesn't
          set generic type. (<a href="http://bugs.mysql.com/4442" target="_top">Bug#4442</a>)
        </p></li><li><p>
          Removed obsolete data types <code class="literal">Long</code> and
          <code class="literal">LongLong</code>.
        </p></li><li><p>
          Overflow exception thrown when using "use pipe" on connection
          string. (<a href="http://bugs.mysql.com/4071" target="_top">Bug#4071</a>)
        </p></li><li><p>
          Changed "use pipe" keyword to "pipe name" or just "pipe".
        </p></li><li><p>
          Allow reading multiple resultsets from a single query.
        </p></li><li><p>
          Added flags attribute to <code class="literal">ServerStatusFlags</code>
          enum.
        </p></li><li><p>
          Changed name of <code class="literal">ServerStatus</code> enum to
          <code class="literal">ServerStatusFlags</code>.
        </p></li><li><p>
          Inserted data row doesn't update properly.
        </p></li><li><p>
          Error processing show create table. (<a href="http://bugs.mysql.com/4074" target="_top">Bug#4074</a>)
        </p></li><li><p>
          Change <code class="literal">Packet.ReadLenInteger</code> to
          <code class="literal">ReadPackedLong</code> and added
          <code class="literal">packet.ReadPackedInteger</code> that always reads
          integers packed with 2,3,4.
        </p></li><li><p>
          Added <code class="literal">syntax.cs</code> test fixture to test
          various SQL syntax bugs.
        </p></li><li><p>
          Improper handling of time values. Now time value of 00:00:00
          is not treated as null. (<a href="http://bugs.mysql.com/4149" target="_top">Bug#4149</a>)
        </p></li><li><p>
          Moved all test suite files into <code class="literal">TestSuite</code>
          folder.
        </p></li><li><p>
          Fixed bug where null column would move the result packet
          pointer backward.
        </p></li><li><p>
          Added new nant build script.
        </p></li><li><p>
          Clear tablename so it will be regen'ed properly during the
          next <code class="literal">GenerateSchema</code>. (<a href="http://bugs.mysql.com/3917" target="_top">Bug#3917</a>)
        </p></li><li><p>
          <code class="literal">GetValues</code> was always returning zero and was
          also always trying to copy all fields rather than respecting
          the size of the array passed in. (<a href="http://bugs.mysql.com/3915" target="_top">Bug#3915</a>)
        </p></li><li><p>
          Implemented shared memory access protocol.
        </p></li><li><p>
          Implemented prepared statements for MySQL 4.1.
        </p></li><li><p>
          Implemented stored procedures for MySQL 5.0.
        </p></li><li><p>
          Renamed <code class="literal">MySqlInternalConnection</code> to
          <code class="literal">InternalConnection</code>.
        </p></li><li><p>
          SQL is now parsed as chars, fixes problems with other
          languages.
        </p></li><li><p>
          Added logging and allow batch connection string options.
        </p></li><li><p>
          <code class="literal">RowUpdating</code> event not set when setting the
          <code class="literal">DataAdapter</code> property. (<a href="http://bugs.mysql.com/3888" target="_top">Bug#3888</a>)
        </p></li><li><p>
          Fixed bug in char set mapping.
        </p></li><li><p>
          Implemented 4.1 authentication.
        </p></li><li><p>
          Improved open/auth code in driver.
        </p></li><li><p>
          Improved how connection bits are set during connection.
        </p></li><li><p>
          Database name is now passed to server during initial
          handshake.
        </p></li><li><p>
          Changed namespace for client to
          <code class="literal">MySql.Data.MySqlClient</code>.
        </p></li><li><p>
          Changed assembly name of client to
          <code class="filename">MySql.Data.dll</code>.
        </p></li><li><p>
          Changed license text in all source files to GPL.
        </p></li><li><p>
          Added the <code class="filename">MySqlClient.build</code> Nant file.
        </p></li><li><p>
          Removed the mono batch files.
        </p></li><li><p>
          Moved some of the unused files into notused folder so nant
          build file can use wildcards.
        </p></li><li><p>
          Implemented shared memory access.
        </p></li><li><p>
          Major revamp in code structure.
        </p></li><li><p>
          Prepared statements now working for MySql 4.1.1 and later.
        </p></li><li><p>
          Finished implementing auth for 4.0, 4.1.0, and 4.1.1.
        </p></li><li><p>
          Changed namespace from
          <code class="literal">MySQL.Data.MySQLClient</code> back to
          <code class="literal">MySql.Data.MySqlClient</code>.
        </p></li><li><p>
          Fixed bug in <code class="literal">CharSetMapping</code> where it was
          trying to use text names as ints.
        </p></li><li><p>
          Changed namespace to
          <code class="literal">MySQL.Data.MySQLClient</code>.
        </p></li><li><p>
          Integrated auth changes from UC2004.
        </p></li><li><p>
          Fixed bug where calling any of the GetXXX methods on a
          datareader before or after reading data would not throw the
          appropriate exception (thanks Luca Morelli).
        </p></li><li><p>
          Added <code class="literal">TimeSpan</code> code in parameter.cs to
          properly serialize a timespan object to mysql time format
          (thanks Gianluca Colombo).
        </p></li><li><p>
          Added <code class="literal">TimeStamp</code> to parameter serialization
          code. Prevented <code class="literal">DataAdatper</code> updates from
          working right (thanks Michael King).
        </p></li><li><p>
          Fixed a misspelling in <code class="filename">MySqlHelper.cs</code>
          (thanks Patrick Kristiansen).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-76"></a>C.5.46. Changes in MySQL Connector/NET Version 0.76</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Driver now using charset number given in handshake to create
          encoding.
        </p></li><li><p>
          Changed command editor to point to
          <code class="literal">MySqlClient.Design</code>.
        </p></li><li><p>
          Fixed bug in <code class="literal">Version.isAtLeast</code>.
        </p></li><li><p>
          Changed <code class="literal">DBConnectionString</code> to support
          changes done to <code class="literal">MySqlConnectionString</code>.
        </p></li><li><p>
          Removed <code class="literal">SqlCommandEditor</code> and
          <code class="literal">DataAdapterPreviewDialog</code>.
        </p></li><li><p>
          Using new long return values in many places.
        </p></li><li><p>
          Integrated new <code class="literal">CompressedStream</code> class.
        </p></li><li><p>
          Changed <code class="literal">ConnectionString</code> and added
          attributes to allow it to be used in
          <code class="literal">MySqlClient.Design</code>.
        </p></li><li><p>
          Changed <code class="filename">packet.cs</code> to support newer
          lengths in <code class="literal">ReadLenInteger</code>.
        </p></li><li><p>
          Changed other classes to use new properties and fields of
          <code class="literal">MySqlConnectionString</code>.
        </p></li><li><p>
          <code class="literal">ConnectionInternal</code> is now using PING to see
          whether the server is alive.
        </p></li><li><p>
          Moved toolbox bitmaps into resource folder.
        </p></li><li><p>
          Changed <code class="filename">field.cs</code> to allow values to come
          directly from row buffer.
        </p></li><li><p>
          Changed to use the new driver.Send syntax.
        </p></li><li><p>
          Using a new packet queueing system.
        </p></li><li><p>
          Started work handling the "broken" compression packet
          handling.
        </p></li><li><p>
          Fixed bug in <code class="literal">StreamCreator</code> where failure to
          connect to a host would continue to loop infinitly (thanks
          Kevin Casella).
        </p></li><li><p>
          Improved connectstring handling.
        </p></li><li><p>
          Moved designers into Pro product.
        </p></li><li><p>
          Removed some old commented out code from
          <code class="filename">command.cs</code>.
        </p></li><li><p>
          Fixed a problem with compression.
        </p></li><li><p>
          Fixed connection object where an exception throw prior to the
          connection opening would not leave the connection in the
          connecting state (thanks Chris Cline).
        </p></li><li><p>
          Added GUID support.
        </p></li><li><p>
          Fixed sequence out of order bug (thanks Mark Reay).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-75"></a>C.5.47. Changes in MySQL Connector/NET Version 0.75</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Enum values now supported as parameter values (thanks Philipp
          Sumi).
        </p></li><li><p>
          Year datatype now supported.
        </p></li><li><p>
          Fixed compression.
        </p></li><li><p>
          Fixed bug where a parameter with a <code class="literal">TimeSpan</code>
          as the value would not serialize properly.
        </p></li><li><p>
          Fixed bug where default constructor would not set default
          connection string values.
        </p></li><li><p>
          Added some XML comments to some members.
        </p></li><li><p>
          Work to fix/improve compression handling.
        </p></li><li><p>
          Improved <code class="literal">ConnectionString</code> handling so that
          it better matches the standard set by
          <code class="literal">SqlClient</code>.
        </p></li><li><p>
          A <code class="literal">MySqlException</code> is now thrown if a user
          name is not included in the connection string.
        </p></li><li><p>
          Localhost is now used as the default if not specified on the
          connection string.
        </p></li><li><p>
          An exception is now thrown if an attempt is made to set the
          connection string while the connection is open.
        </p></li><li><p>
          Small changes to <code class="literal">ConnectionString</code> docs.
        </p></li><li><p>
          Removed <code class="literal">MultiHostStream</code> and
          <code class="literal">MySqlStream</code>. Replaced it with
          <code class="filename">Common/StreamCreator</code>.
        </p></li><li><p>
          Added support for Use Pipe connection string value.
        </p></li><li><p>
          Added Platform class for easier access to platform utility
          functions.
        </p></li><li><p>
          Fixed small pooling bug where new connection was not getting
          created after <code class="literal">IsAlive</code> fails.
        </p></li><li><p>
          Added <code class="filename">Platform.cs</code> and
          <code class="filename">StreamCreator.cs</code>.
        </p></li><li><p>
          Fixed <code class="filename">Field.cs</code> to properly handle 4.1
          style timestamps.
        </p></li><li><p>
          Changed <code class="literal">Common.Version</code> to
          <code class="literal">Common.DBVersion</code> to avoid name conflict.
        </p></li><li><p>
          Fixed <code class="filename">field.cs</code> so that text columns
          return the right field type.
        </p></li><li><p>
          Added <code class="literal">MySqlError</code> class to provide some
          reference for error codes (thanks Geert Veenstra).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-0-74"></a>C.5.48. Changes in MySQL Connector/NET Version 0.74</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Added Unix socket support (thanks Mohammad DAMT).
        </p></li><li><p>
          Only calling <code class="literal">Thread.Sleep</code> when no data is
          available.
        </p></li><li><p>
          Improved escaping of quote characters in parameter data.
        </p></li><li><p>
          Removed misleading comments from
          <code class="filename">parameter.cs</code>.
        </p></li><li><p>
          Fixed pooling bug.
        </p></li><li><p>
          Fixed <code class="literal">ConnectionString</code> editor dialog
          (thanks marco p (pomarc)).
        </p></li><li><p>
          <code class="literal">UserId</code> now supported in connection strings
          (thanks Jeff Neeley).
        </p></li><li><p>
          Attempting to create a parameter that is not input throws an
          exception (thanks Ryan Gregg).
        </p></li><li><p>
          Added much documentation.
        </p></li><li><p>
          Checked in new <code class="literal">MultiHostStream</code> capability.
          Big thanks to Dan Guisinger for this. he originally submitted
          the code and idea of supporting multiple machines on the
          connect string.
        </p></li><li><p>
          Added a lot of documentation.
        </p></li><li><p>
          Fixed speed issue with 0.73.
        </p></li><li><p>
          Changed to Thread.Sleep(0) in MySqlDataStream to help optimize
          the case where it doesn't need to wait (thanks Todd German).
        </p></li><li><p>
          Prepopulating the idlepools to <code class="literal">MinPoolSize</code>.
        </p></li><li><p>
          Fixed <code class="literal">MySqlPool</code> deadlock condition as well
          as stupid bug where CreateNewPooledConnection was not ever
          adding new connections to the pool. Also fixed
          <code class="literal">MySqlStream.ReadBytes</code> and
          <code class="literal">ReadByte</code> to not use
          <code class="literal">TicksPerSecond</code> which does not appear to
          always be right. (thanks Matthew J. Peddlesden)
        </p></li><li><p>
          Fix for precision and scale (thanks Matthew J. Peddlesden).
        </p></li><li><p>
          Added <code class="literal">Thread.Sleep(1)</code> to stream reading
          methods to be more cpu friendly (thanks Sean McGinnis).
        </p></li><li><p>
          Fixed problem where <code class="literal">ExecuteReader</code> would
          sometime return null (thanks Lloyd Dupont).
        </p></li><li><p>
          Fixed major bug with null field handling (thanks Naucki).
        </p></li><li><p>
          Enclosed queries for
          <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> and
          <code class="literal">characterset</code> inside try catch (and set
          defaults).
        </p></li><li><p>
          Fixed problem where socket was not getting closed properly
          (thanks Steve!).
        </p></li><li><p>
          Fixed problem where <code class="literal">ExecuteNonQuery</code> was not
          always returning the right value.
        </p></li><li><p>
          Fixed <code class="literal">InternalConnection</code> to not use
          <code class="literal">@@session.max_allowed_packet</code> but use
          <code class="literal">@@max_allowed_packet</code>. (Thanks Miguel)
        </p></li><li><p>
          Added many new XML doc lines.
        </p></li><li><p>
          Fixed sql parsing to not send empty queries (thanks Rory).
        </p></li><li><p>
          Fixed problem where the reader was not unpeeking the packet on
          close.
        </p></li><li><p>
          Fixed problem where user variables were not being handled
          (thanks Sami Vaaraniemi).
        </p></li><li><p>
          Fixed loop checking in the MySqlPool (thanks Steve M. Brown)
        </p></li><li><p>
          Fixed <code class="literal">ParameterCollection.Add</code> method to
          match <code class="literal">SqlClient</code> (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed <code class="literal">ConnectionString</code> parsing to handle no
          and yes for boolean and not lowercase values (thanks Naucki).
        </p></li><li><p>
          Added <code class="literal">InternalConnection</code> class, changes to
          pooling.
        </p></li><li><p>
          Implemented Persist Security Info.
        </p></li><li><p>
          Added <code class="filename">security.cs</code> and
          <code class="filename">version.cs</code> to project
        </p></li><li><p>
          Fixed <code class="literal">DateTime</code> handling in
          <code class="filename">Parameter.cs</code> (thanks Burkhard
          Perkens-Golomb).
        </p></li><li><p>
          Fixed parameter serialization where some types would throw a
          cast exception.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> to convert all returned
          values to prevent casting errors (thanks Keith Murray).
        </p></li><li><p>
          Added code to <code class="literal">Command.ExecuteReader</code> to
          return null if the initial SQL statement throws an exception
          (thanks Burkhard Perkens-Golomb).
        </p></li><li><p>
          Fixed <code class="literal">ExecuteScalar</code> bug introduced with
          restructure.
        </p></li><li><p>
          Restructure to allow for <code class="literal">LOCAL DATA INFILE</code>
          and better sequencing of packets.
        </p></li><li><p>
          Fixed several bugs related to restructure.
        </p></li><li><p>
          Early work done to support more secure passwords in Mysql 4.1.
          Old passwords in 4.1 not supported yet.
        </p></li><li><p>
          Parameters appearing after system parameters are now handled
          correctly (Adam M. (adammil)).
        </p></li><li><p>
          Strings can now be assigned directly to blob fields (Adam M.).
        </p></li><li><p>
          Fixed float parameters (thanks Pent).
        </p></li><li><p>
          Improved Parameter constructor and
          <code class="literal">ParameterCollection.Add</code> methods to better
          match SqlClient (thanks Joshua Mouch).
        </p></li><li><p>
          Corrected <code class="literal">Connection.CreateCommand</code> to
          return a <code class="literal">MySqlCommand</code> type.
        </p></li><li><p>
          Fixed connection string designer dialog box problem (thanks
          Abraham Guyt).
        </p></li><li><p>
          Fixed problem with sending commands not always reading the
          response packet (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed parameter serialization where some blobs types were not
          being handled (thanks Sean McGinnis).
        </p></li><li><p>
          Removed spurious <code class="literal">MessageBox.show</code> from
          <code class="literal">DataReader</code> code (thanks Joshua Mouch).
        </p></li><li><p>
          Fixed a nasty bug in the split sql code (thanks everyone!).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-71"></a>C.5.49. Changes in MySQL Connector/NET Version 0.71</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Fixed bug in <code class="literal">MySqlStream</code> where too much
          data could attempt to be read (thanks Peter Belbin)
        </p></li><li><p>
          Implemented <code class="literal">HasRows</code> (thanks Nash Pherson).
        </p></li><li><p>
          Fixed bug where tables with more than 252 columns cause an
          exception (thanks Joshua Kessler).
        </p></li><li><p>
          Fixed bug where SQL statements ending in ; would cause a
          problem (thanks Shane Krueger).
        </p></li><li><p>
          Fixed bug in driver where error messages were getting
          truncated by 1 character (thanks Shane Krueger).
        </p></li><li><p>
          Made <code class="literal">MySqlException</code> serializable (thanks
          Mathias Hasselmann).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-70"></a>C.5.50. Changes in MySQL Connector/NET Version 0.70</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Updated some of the character code pages to be more accurate.
        </p></li><li><p>
          Fixed problem where readers could be opened on connections
          that had readers open.
        </p></li><li><p>
          Moved test to separate assembly
          <code class="literal">MySqlClientTests</code>.
        </p></li><li><p>
          Fixed stupid problem in driver with sequence out of order
          (Thanks Peter Belbin).
        </p></li><li><p>
          Added some pipe tests.
        </p></li><li><p>
          Increased default max pool size to 50.
        </p></li><li><p>
          Compiles with Mono 0-24.
        </p></li><li><p>
          Fixed connection and data reader dispose problems.
        </p></li><li><p>
          Added <code class="literal">String</code> datatype handling to parameter
          serialization.
        </p></li><li><p>
          Fixed sequence problem in driver that occurred after thrown
          exception (thanks Burkhard Perkens-Golomb).
        </p></li><li><p>
          Added support for <code class="literal">CommandBehavior.SingleRow</code>
          to <code class="literal">DataReader</code>.
        </p></li><li><p>
          Fixed command sql processing so quotes are better handled
          (thanks Theo Spears).
        </p></li><li><p>
          Fixed parsing of double, single, and decimal values to account
          for non-English separators. You still have to use the right
          syntax if you using hard coded sql, but if you use parameters
          the code will convert floating point types to use '.'
          appropriately internal both into the server and out.
        </p></li><li><p>
          Added <code class="literal">MySqlStream</code> class to simplify
          timeouts and driver coding.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> so that it is closed
          properly when the associated connection is closed. [thanks
          smishra]
        </p></li><li><p>
          Made client more SqlClient compliant so that DataReaders have
          to be closed before the connection can be used to run another
          command.
        </p></li><li><p>
          Improved <code class="literal">DBNull.Value</code> handling in the
          fields.
        </p></li><li><p>
          Added several unit tests.
        </p></li><li><p>
          Fixed <code class="literal">MySqlException</code> base class.
        </p></li><li><p>
          Improved driver coding
        </p></li><li><p>
          Fixed bug where NextResult was returning false on the last
          resultset.
        </p></li><li><p>
          Added more tests for MySQL.
        </p></li><li><p>
          Improved casting problems by equating unsigned 32bit values to
          Int64 and unsigned 16bit values to Int32, and so forth.
        </p></li><li><p>
          Added new constructor for <code class="literal">MySqlParameter</code>
          for (name, type, size, srccol)
        </p></li><li><p>
          Fixed bug in <code class="literal">MySqlDataReader</code> where it
          didn't check for null fieldlist before returning field count.
        </p></li><li><p>
          Started adding <code class="literal">MySqlClient</code> unit tests
          (added <code class="filename">MySqlClient/Tests</code> folder and some
          test cases).
        </p></li><li><p>
          Fixed some things in Connection String handling.
        </p></li><li><p>
          Moved <code class="literal">INIT_DB</code> to
          <code class="literal">MySqlPool</code>. I may move it again, this is in
          preparation of the conference.
        </p></li><li><p>
          Fixed bug inside <code class="literal">CommandBuilder</code> that
          prevented inserts from happening properly.
        </p></li><li><p>
          Reworked some of the internals so that all three execute
          methods of Command worked properly.
        </p></li><li><p>
          Fixed many small bugs found during benchmarking.
        </p></li><li><p>
          The first cut of <code class="literal">CoonectionPooling</code> is
          working. "min pool size" and "max pool size" are respected.
        </p></li><li><p>
          Work to enable multiple resultsets to be returned.
        </p></li><li><p>
          Character sets are handled much more intelligently now. The
          driver queries MySQL at startup for the default character set.
          That character set is then used for conversions if that code
          page can be loaded. If not, then the default code page for the
          current OS is used.
        </p></li><li><p>
          Added code to save the inferred type in the name,value
          constructor of <code class="literal">Parameter</code>.
        </p></li><li><p>
          Also, inferred type if value of null parameter is changed
          using <code class="literal">Value</code> property.
        </p></li><li><p>
          Converted all files to use proper Camel case. MySQL is now
          MySql in all files. PgSQL is now PgSql.
        </p></li><li><p>
          Added attribute to PgSql code to prevent designer from trying
          to show.
        </p></li><li><p>
          Added <code class="literal">MySQLDbType</code> property to Parameter
          object and added proper conversion code to convert from
          <code class="literal">DbType</code> to <code class="literal">MySQLDbType</code>).
        </p></li><li><p>
          Removed unused <code class="literal">ObjectToString</code> method from
          <code class="filename">MySQLParameter.cs</code>.
        </p></li><li><p>
          Fixed <code class="function">Add(..)</code> method in
          <code class="literal">ParameterCollection</code> so that it doesn't use
          <code class="function">Add(name, value)</code> instead.
        </p></li><li><p>
          Fixed <code class="literal">IndexOf</code> and
          <code class="literal">Contains</code> in
          <code class="literal">ParameterCollection</code> to be aware that
          parameter names are now stored without @.
        </p></li><li><p>
          Fixed <code class="literal">Command.ConvertSQLToBytes</code> so it only
          allows characters that can be in MySQL variable names.
        </p></li><li><p>
          Fixed <code class="literal">DataReader</code> and
          <code class="literal">Field</code> so that blob fields read their data
          from <code class="filename">Field.cs</code> and
          <code class="literal">GetBytes</code> works right.
        </p></li><li><p>
          Added simple query builder editor to
          <code class="literal">CommandText</code> property of
          <code class="literal">MySQLCommand</code>.
        </p></li><li><p>
          Fixed <code class="literal">CommandBuilder</code> and
          <code class="literal">Parameter</code> serialization to account for
          Parameters not storing @ in their names.
        </p></li><li><p>
          Removed <code class="literal">MySQLFieldType</code> enum from Field.cs.
          Now using <code class="literal">MySQLDbType</code> enum.
        </p></li><li><p>
          Added <code class="literal">Designer</code> attribute to several classes
          to prevent designer view when using VS.Net.
        </p></li><li><p>
          Fixed Initial catalog typo in
          <code class="literal">ConnectionString</code> designer.
        </p></li><li><p>
          Removed 3 parameter constructor for
          <code class="literal">MySQLParameter</code> that conflicted with (name,
          type, value).
        </p></li><li><p>
          Changed <code class="literal">MySQLParameter</code> so
          <code class="literal">paramName</code> is now stored without leading @
          (this fixed null inserts when using designer).
        </p></li><li><p>
          Changed <code class="literal">TypeConverter</code> for
          <code class="literal">MySQLParameter</code> to use the constructor with
          all properties.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-68"></a>C.5.51. Changes in MySQL Connector/NET Version 0.68</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Fixed sequence issue in driver.
        </p></li><li><p>
          Added <code class="literal">DbParametersEditor</code> to make parameter
          editing more like <code class="literal">SqlClient</code>.
        </p></li><li><p>
          Fixed <code class="literal">Command</code> class so that parameters can
          be edited using the designer
        </p></li><li><p>
          Update connection string designer to support <code class="literal">Use
          Compression</code> flag.
        </p></li><li><p>
          Fixed string encoding so that European characters will work
          correctly.
        </p></li><li><p>
          Creating base classes to aid in building new data providers.
        </p></li><li><p>
          Added support for UID key in connection string.
        </p></li><li><p>
          Field, parameter, command now using DBNull.Value instead of
          null.
        </p></li><li><p>
          <code class="literal">CommandBuilder</code> using
          <code class="literal">DBNull.Value</code>.
        </p></li><li><p>
          <code class="literal">CommandBuilder</code> now builds insert command
          correctly when an auto_insert field is not present.
        </p></li><li><p>
          Field now uses typeof keyword to return
          <code class="literal">System.Types</code> (performance).
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-65"></a>C.5.52. Changes in MySQL Connector/NET Version 0.65</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          <code class="literal">MySQLCommandBuilder</code> now implemented.
        </p></li><li><p>
          Transaction support now implemented (not all table types
          support this).
        </p></li><li><p>
          <code class="literal">GetSchemaTable</code> fixed to not use xsd (for
          Mono).
        </p></li><li><p>
          Driver is now Mono-compatible.
        </p></li><li><p>
          TIME data type now supported.
        </p></li><li><p>
          More work to improve Timestamp data type handling.
        </p></li><li><p>
          Changed signatures of all classes to match corresponding
          <code class="literal">SqlClient</code> classes.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-60"></a>C.5.53. Changes in MySQL Connector/NET Version 0.60</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Protocol compression using SharpZipLib (www.icsharpcode.net).
        </p></li><li><p>
          Named pipes on Windows now working properly.
        </p></li><li><p>
          Work done to improve <code class="literal">Timestamp</code> data type
          handling.
        </p></li><li><p>
          Implemented <code class="literal">IEnumerable</code> on
          <code class="literal">DataReader</code> so <code class="literal">DataGrid</code>
          would work.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="connector-net-news-0-50"></a>C.5.54. Changes in MySQL Connector/NET Version 0.50</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Speed increased dramatically by removing bugging network sync
          code.
        </p></li><li><p>
          Driver no longer buffers rows of data (more ADO.Net
          compliant).
        </p></li><li><p>
          Conversion bugs related to
          <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> and
          <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> fields fixed.
        </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="vstudio-plugin-news"></a>C.6. MySQL Visual Studio Plugin Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-3">C.6.1. Changes in MySQL Visual Studio Plugin 1.0.3 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-2">C.6.2. Changes in MySQL Visual Studio Plugin 1.0.2 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-1">C.6.3. Changes in MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#vstudio-plugin-news-1-0-0">C.6.4. Changes in MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</a></span></dt></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
      As of Connector/NET 5.1.2 (14 June 2007), the Visual Studion
      Plugin is part of the main Connector/NET package. For the change
      history for the Visual Studio Plugin, see
      <a href="news.html#connector-net-news" title="C.5. MySQL Connector/NET Change History">Section C.5, “MySQL Connector/NET Change History”</a>.
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-3"></a>C.6.1. Changes in MySQL Visual Studio Plugin 1.0.3 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Running queries based on a stored procedure would cause the data
        set designer to terminate. (Bugs #26364)
      </p></li><li><p>
        DataSet wizard would show all tables instead of only the tables
        available within the selected database. (Bugs #26348)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-2"></a>C.6.2. Changes in MySQL Visual Studio Plugin 1.0.2 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The Add Connection dialog of the Server Explorer would freeze
        when accessing databases with capitalized characters in their
        name.
       (<a href="http://bugs.mysql.com/24875" target="_top">Bug#24875</a>)</p></li><li><p>
        Creating a connection through the Server Explorer when using the
        Visual Studio Plugin would fail. The installer for the Visual
        Studio Plugin has been updated to ensure that Connector/NET
        5.0.2 must be installed.
       (<a href="http://bugs.mysql.com/23071" target="_top">Bug#23071</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-1"></a>C.6.3. Changes in MySQL Visual Studio Plugin 1.0.1 (4 October 2006)</h3></div></div></div><p>
        This is a bug fix release to resolve an incompatibility issue
        with Connector/NET 5.0.1.
      </p><p>
        It is critical that this release only be used with Connector/NET
        5.0.1. After installing Connector/NET 5.0.1, you will need to
        make a small change in your machine.config file. This file
        should be located at
        <code class="filename">%win%\Microsoft.Net\Framework\v2.0.50727\CONFIG\machine.config</code>
        (<code class="literal">%win%</code> should be the location of your Windows
        folder). Near the bottom of the file you will see a line like
        this:
      </p><pre class="programlisting">&lt;add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient"
description=".Net Framework Data Provider for MySQL"
type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data"/&gt;</pre><p>
        It needs to be changed to be like this:
      </p><pre class="programlisting">&lt;add name="MySQL Data Provider" invariant="MySql.Data.MySqlClient"
description=".Net Framework Data Provider for MySQL"
type="MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data,
Version=5.0.1.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d"/&gt;
 </pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="vstudio-plugin-news-1-0-0"></a>C.6.4. Changes in MySQL Visual Studio Plugin 1.0.0 (4 October 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Ability to work with MySQL objects (tables, views, stored
        procedures, etc) from within Server Explorer.
      </p></li><li><p>
        DDEX (Data Designer Extensibility) compatibility.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cj-news"></a>C.7. MySQL Connector/J Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-1">C.7.1. Changes in MySQL Connector/J 5.1.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0">C.7.2. Changes in MySQL Connector/J 5.0.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-1">C.7.3. Changes in MySQL Connector/J 3.1.x</a></span></dt><dt><span class="section"><a href="news.html#cg-news-3-0">C.7.4. Changes in MySQL Connector/J 3.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0">C.7.5. Changes in MySQL Connector/J 2.0.x</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-2b">C.7.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</a></span></dt><dt><span class="section"><a href="news.html#cg-news-1-0">C.7.7. Changes in MySQL Connector/J 1.2.x and lower</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-5-1"></a>C.7.1. Changes in MySQL Connector/J 5.1.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-1-8">C.7.1.1. Changes in MySQL Connector/J 5.1.8 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-7">C.7.1.2. Changes in MySQL Connector/J 5.1.7 (21 October 2008)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-6">C.7.1.3. Changes in MySQL Connector/J 5.1.6 (07 March 2008)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-5">C.7.1.4. Changes in MySQL Connector/J 5.1.5 (09 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-4">C.7.1.5. Changes in MySQL Connector/J 5.1.4 (Not Released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-3">C.7.1.6. Changes in MySQL Connector/J 5.1.3 (10 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-2">C.7.1.7. Changes in MySQL Connector/J 5.1.2 (29 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-1">C.7.1.8. Changes in MySQL Connector/J 5.1.1 (22 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-1-0">C.7.1.9. Changes in MySQL Connector/J 5.1.0 (11 April 2007)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-8"></a>C.7.1.1. Changes in MySQL Connector/J 5.1.8 (Not yet released)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">Statement.getGeneratedKeys()</code> retained result
        set instances until the statement was closed. This caused memory
        leaks for long-lived statements, or statements used in tight
        loops.
       (<a href="http://bugs.mysql.com/44056" target="_top">Bug#44056</a>)</p></li><li><p>
        <code class="literal">LoadBalancingConnectionProxy.doPing()</code> did not
        have blacklist awareness.
      </p><p>
        <code class="literal">LoadBalancingConnectionProxy</code> implemented
        <code class="literal">doPing()</code> to ping all underlying connections,
        but it threw any exceptions it encountered during this process.
      </p><p>
        With the global blacklist enabled, it catches these exceptions,
        adds the host to the global blacklist, and only throws an
        exception if all hosts are down.
       (<a href="http://bugs.mysql.com/43421" target="_top">Bug#43421</a>)</p></li><li><p>
        When the MySQL Server was upgraded from 4.0 to 5.0, the
        Connector/J application then failed to connect to the server.
        This was because authentication failed when the application ran
        from EBCDIC platforms such as z/OS.
       (<a href="http://bugs.mysql.com/43071" target="_top">Bug#43071</a>)</p></li><li><p>
        When connecting with <code class="literal">traceProtocol=true</code>, no
        trace data was generated for the server greeting or login
        request.
       (<a href="http://bugs.mysql.com/43070" target="_top">Bug#43070</a>)</p></li><li><p>
        A <code class="literal">ConcurrentModificationException</code> was
        generated in <code class="literal">LoadBalancingConnectionProxy</code>:
      </p><pre class="programlisting">java.util.ConcurrentModificationException
 at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
 at java.util.HashMap$KeyIterator.next(Unknown Source)
 at
com.mysql.jdbc.LoadBalancingConnectionProxy.getGlobalBlacklist(LoadBalancingConnectionProxy.java:520)
 at com.mysql.jdbc.RandomBalanceStrategy.pickConnection(RandomBalanceStrategy.java:55)
 at
com.mysql.jdbc.LoadBalancingConnectionProxy.pickNewConnection(LoadBalancingConnectionProxy.java:414)
 at
com.mysql.jdbc.LoadBalancingConnectionProxy.invoke(LoadBalancingConnectionProxy.java:390)</pre><p>(<a href="http://bugs.mysql.com/42055" target="_top">Bug#42055</a>)</p></li><li><p>
        MySQL Connector/J 5.1.7 was slower than previous versions when
        the <code class="literal">rewriteBatchedStatements</code> option was set
        to <code class="literal">true</code>.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The performance regression in
          <code class="literal">indexOfIgnoreCaseRespectMarker()</code>has been
          fixed. It has also been made possible for the driver to
          rewrite <code class="literal">INSERT</code> statements with <code class="literal">ON
          DUPLICATE KEY UPDATE</code> clauses in them, as long as the
          <code class="literal">UPDATE</code> clause contains no reference to
          <code class="literal">LAST_INSERT_ID()</code>, as that would cause the
          driver to return bogus values for
          <code class="literal">getGeneratedKeys()</code> invocations. This has
          resulted in improved performance over version 5.1.7.
        </p></div><p>(<a href="http://bugs.mysql.com/41532" target="_top">Bug#41532</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.addBatch()</code> did not check
        for all parameters being set, which led to inconsistent behavior
        in <code class="literal">executeBatch()</code>, especially when rewriting
        batched statements into multi-value <code class="literal">INSERT</code>s.
       (<a href="http://bugs.mysql.com/41161" target="_top">Bug#41161</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-7"></a>C.7.1.2. Changes in MySQL Connector/J 5.1.7 (21 October 2008)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When statements include <code class="literal">ON DUPLICATE UPDATE</code>,
        and <code class="literal">rewriteBatchedStatements</code> is set to true,
        batched statements are not rewritten into the form
        <code class="literal">INSERT INTO table VALUES (), (), ()</code>, instead
        the statements are executed sequentially.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">Statement.getGeneratedKeys()</code> returned two
        keys when using <code class="literal">ON DUPLICATE KEY UPDATE</code> and
        the row was updated, not inserted.
       (<a href="http://bugs.mysql.com/42309" target="_top">Bug#42309</a>)</p></li><li><p>
        When using the replication driver with
        <code class="literal">autoReconnect=true</code>, Connector/J checks in
        <code class="literal">PreparedStatement.execute</code> (also called by
        <code class="literal">CallableStatement.execute</code>) to determine if
        the first character of the statement is an “<span class="quote">S</span>”, in
        an attempt to block all statements that are not read-only-safe,
        for example non-<a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>
        statements. However, this also blocked
        <a href="sql-syntax.html#call" title="12.2.1. CALL Syntax"><code class="literal">CALL</code></a>s to stored procedures, even
        if the stored procedures were defined as <code class="literal">SQL READ
        DATA</code> or <code class="literal">NO SQL</code>.
       (<a href="http://bugs.mysql.com/40031" target="_top">Bug#40031</a>)</p></li><li><p>
        With large result sets <code class="literal">ResultSet.findColumn</code>
        became a performance bottleneck.
       (<a href="http://bugs.mysql.com/39962" target="_top">Bug#39962</a>)</p></li><li><p>
        Connector/J ignored the value of the MySQL Server variable
        <a href="replication.html#sysvar_auto_increment_increment"><code class="literal">auto_increment_increment</code></a>.
       (<a href="http://bugs.mysql.com/39956" target="_top">Bug#39956</a>)</p></li><li><p>
        Connector/J failed to parse
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> strings for nanos
        correctly.
       (<a href="http://bugs.mysql.com/39911" target="_top">Bug#39911</a>)</p></li><li><p>
        When the <code class="literal">LoadBalancingConnectionProxy</code> handles
        a <code class="literal">SQLException</code> with SQL state starting with
        “<span class="quote">08</span>”, it calls
        <code class="literal">invalidateCurrentConnection</code>, which in turn
        removes that <code class="literal">Connection</code> from
        <code class="literal">liveConnections</code> and the
        <code class="literal">connectionsToHostsMap</code>, but it did not add the
        host to the new global blacklist, if the global blacklist was
        enabled.
      </p><p>
        There was also the possibility of a
        <code class="literal">NullPointerException</code> when trying to update
        stats, where
        <code class="literal">connectionsToHostsMap.get(this.currentConn)</code>
        was called:
      </p><pre class="programlisting">int hostIndex = ((Integer) this.hostsToListIndexMap.get(this.connectionsToHostsMap.get(this.currentConn))).intValue();
</pre><p>
        This could happen if a client tried to issue a rollback after
        catching a <code class="literal">SQLException</code> caused by a
        connection failure.
       (<a href="http://bugs.mysql.com/39784" target="_top">Bug#39784</a>)</p></li><li><p>
        When configuring the Java Replication Driver the last slave
        specified was never used.
       (<a href="http://bugs.mysql.com/39611" target="_top">Bug#39611</a>)</p></li><li><p>
        When an <code class="literal">INSERT ON DUPLICATE KEY UPDATE</code> was
        performed, and the key already existed, the
        <code class="literal">affected-rows</code> value was returned as 1 instead
        of 0.
       (<a href="http://bugs.mysql.com/39352" target="_top">Bug#39352</a>)</p></li><li><p>
        When using the random load balancing strategy and starting with
        two servers that were both unavailable, an
        <code class="literal">IndexOutOfBoundsException</code> was generated when
        removing a server from the <code class="literal">whiteList</code>.
       (<a href="http://bugs.mysql.com/38782" target="_top">Bug#38782</a>)</p></li><li><p>
        Connector/J threw the following exception when using a read-only
        connection:
      </p><pre class="programlisting">        java.sql.SQLException: Connection is read-only. Queries leading to data 
        modification are not allowed.
      </pre><p>(<a href="http://bugs.mysql.com/38747" target="_top">Bug#38747</a>)</p></li><li><p>
        Connector/J was unable to connect when using a non-latin1
        password.
       (<a href="http://bugs.mysql.com/37570" target="_top">Bug#37570</a>)</p></li><li><p>
        Incorrect result is returned from
        <code class="literal">isAfterLast()</code> in streaming
        <code class="literal">ResultSet</code> when using
        <code class="literal">setFetchSize(Integer.MIN_VALUE)</code>.
       (<a href="http://bugs.mysql.com/35170" target="_top">Bug#35170</a>)</p></li><li><p>
        When <code class="literal">getGeneratedKeys()</code> was called on a
        statement that had not been created with
        <code class="literal">RETURN_GENERATED_KEYS</code>, no exception was
        thrown, and batched executions then returned erroneous values.
       (<a href="http://bugs.mysql.com/34185" target="_top">Bug#34185</a>)</p></li><li><p>
        The <code class="literal">loadBalance</code>
        <code class="literal">bestResponseTime</code> blacklists did not have a
        global state.
       (<a href="http://bugs.mysql.com/33861" target="_top">Bug#33861</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-6"></a>C.7.1.3. Changes in MySQL Connector/J 5.1.6 (07 March 2008)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Multiple result sets were not supported when using streaming
        mode to return data. Both normal statements and the resul sets
        from stored procedures now return multiple results sets, with
        the exception of result sets using registered
        <code class="literal">OUTPUT</code> paramaters.
       (<a href="http://bugs.mysql.com/33678" target="_top">Bug#33678</a>)</p></li><li><p>
        XAConnections and datasources have been updated to the JDBC-4.0
        standard.
      </p></li><li><p>
        The profiler event handling has been made extensible via the
        <code class="option">profilerEventHandler</code> connection property.
      </p></li><li><p>
        Add the <code class="literal">verifyServerCertificate</code> propery. If
        set to "false" the driver will not verify the server's
        certificate when <code class="literal">useSSL</code> is set to "true"
      </p><p>
        When using this feature, the keystore parameters should be
        specified by the <code class="literal">clientCertificateKeyStore*</code>
        properties, rather than system properties, as the JSSE doesn't
        it straightforward to have a non-verifying trust store and the
        "default" key store.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="methodname">DatabaseMetaData.getColumns()</code> returns
        incorrect <code class="literal">COLUMN_SIZE</code> value for
        <code class="literal">SET</code> column.
       (<a href="http://bugs.mysql.com/36830" target="_top">Bug#36830</a>)</p></li><li><p>
        When trying to read <code class="classname">Time</code> values like
        “<span class="quote">00:00:00</span>” with
        <code class="methodname">ResultSet.getTime(int)</code> an exception is
        thrown.
       (<a href="http://bugs.mysql.com/36051" target="_top">Bug#36051</a>)</p></li><li><p>
        JDBC connection URL parameters is ignored when using
        <code class="literal">MysqlConnectionPoolDataSource</code>.
       (<a href="http://bugs.mysql.com/35810" target="_top">Bug#35810</a>)</p></li><li><p>
        When <code class="literal">useServerPrepStmts=true</code> and slow query
        logging is enabled, the connector throws a
        <code class="classname">NullPointerException</code> when it encounters a
        slow query.
       (<a href="http://bugs.mysql.com/35666" target="_top">Bug#35666</a>)</p></li><li><p>
        When using the keyword “<span class="quote">loadbalance</span>” in the
        connection string and trying to perform load balancing between
        two databases, the driver appears to hang.
       (<a href="http://bugs.mysql.com/35660" target="_top">Bug#35660</a>)</p></li><li><p>
        JDBC data type getter method was changed to accept only column
        name, whereas previously it accepted column label.
       (<a href="http://bugs.mysql.com/35610" target="_top">Bug#35610</a>)</p></li><li><p>
        Prepared statements from pooled connections caused a
        <code class="classname">NullPointerException</code> when
        <code class="methodname">closed()</code> under JDBC-4.0.
       (<a href="http://bugs.mysql.com/35489" target="_top">Bug#35489</a>)</p></li><li><p>
        In calling a stored function returning a
        <code class="literal">bigint</code>, an exception is encountered
        beginning:
</p><pre class="programlisting">java.sql.SQLException: java.lang.NumberFormatException: For input string:</pre><p>
        followed by the text of the stored function starting after the
        argument list.
       (<a href="http://bugs.mysql.com/35199" target="_top">Bug#35199</a>)</p></li><li><p>
        The JDBC driver uses a different method for evaluating column
        names in
        <code class="methodname">resultsetmetadata.getColumnName()</code> and
        when looking for a column in
        <code class="methodname">resultset.getObject(columnName)</code>. This
        causes Hibernate to fail in queries where the two methods yield
        different results, for example in queries that use alias names:
      </p><pre class="programlisting">SELECT column AS aliasName from table</pre><p>(<a href="http://bugs.mysql.com/35150" target="_top">Bug#35150</a>)</p></li><li><p>
        <code class="literal">MysqlConnectionPoolDataSource</code> does not
        support <code class="literal">ReplicationConnection</code>. Notice that we
        implemented <code class="literal">com.mysql.jdbc.Connection</code> for
        <code class="literal">ReplicationConnection</code>, however, only
        accessors from ConnectionProperties are implemented (not the
        mutators), and they return values from the currently active
        connection. All other methods from
        <code class="literal">com.mysql.jdbc.Connection</code> are implemented,
        and operate on the currently active connection, with the
        exception of <code class="literal">resetServerState()</code> and
        <code class="literal">changeUser()</code>.
       (<a href="http://bugs.mysql.com/34937" target="_top">Bug#34937</a>)</p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> returns incorrect
        values for month/day of
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>s when using server-side
        prepared statements (not enabled by default).
       (<a href="http://bugs.mysql.com/34913" target="_top">Bug#34913</a>)</p></li><li><p>
        <code class="classname">RowDataStatic</code> does't always set the
        metadata in <code class="classname">ResultSetRow</code>, which can lead
        to failures when unpacking <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>,
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> and
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> types when using
        absolute, relative, and previous result set navigation methods.
       (<a href="http://bugs.mysql.com/34762" target="_top">Bug#34762</a>)</p></li><li><p>
        When calling <code class="literal">isValid()</code> on an active
        connection, if the timeout is non-zero then the
        <code class="literal">Connection</code> is invalidated even if the
        <code class="literal">Connection</code> is valid.
       (<a href="http://bugs.mysql.com/34703" target="_top">Bug#34703</a>)</p></li><li><p>
        It was not possible to truncate a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> using
        <code class="literal">Blog.truncate()</code> when using 0 as an argument.
       (<a href="http://bugs.mysql.com/34677" target="_top">Bug#34677</a>)</p></li><li><p>
        When using a cursor fetch for a statement, the internal prepared
        statement could cause a memory leak until the connection was
        closed. The internal prepared statement is now deleted when the
        corresponding result set is closed.
       (<a href="http://bugs.mysql.com/34518" target="_top">Bug#34518</a>)</p></li><li><p>
        When retrieving the column type name of a geometry field, the
        driver would return <code class="literal">UNKNOWN</code> instead of
        <code class="literal">GEOMETRY</code>.
       (<a href="http://bugs.mysql.com/34194" target="_top">Bug#34194</a>)</p></li><li><p>
        Statements with batched values do not return correct values for
        <code class="literal">getGeneratedKeys()</code> when
        <code class="option">rewriteBatchedStatements</code> is set to
        <code class="literal">true</code>, and the statement has an <code class="literal">ON
        DUPLICATE KEY UPDATE</code> clause.
       (<a href="http://bugs.mysql.com/34093" target="_top">Bug#34093</a>)</p></li><li><p>
        The internal class
        <code class="classname">ResultSetInternalMethods</code> referenced the
        non-public class
        <code class="classname">com.mysql.jdbc.CachedResultSetMetaData</code>.
       (<a href="http://bugs.mysql.com/33823" target="_top">Bug#33823</a>)</p></li><li><p>
        A <code class="literal">NullPointerException</code> could be raised when
        using client-side prepared statements and enabled the prepared
        statement cache using the <code class="option">cachePrepStmts</code>.
       (<a href="http://bugs.mysql.com/33734" target="_top">Bug#33734</a>)</p></li><li><p>
        Using server side cursors and cursor fetch, the table metadata
        information would return the data type name instead of the
        column name.
       (<a href="http://bugs.mysql.com/33594" target="_top">Bug#33594</a>)</p></li><li><p>
        <code class="methodname">ResultSet.getTimestamp()</code> would throw a
        <code class="literal">NullPointerException</code> instead of a
        <code class="literal">SQLException</code> when called on an empty
        <code class="literal">ResultSet</code>.
       (<a href="http://bugs.mysql.com/33162" target="_top">Bug#33162</a>)</p></li><li><p>
        Load balancing connection using best response time would
        incorrectly "stick" to hosts that were down when the connection
        was first created.
      </p><p>
        We solve this problem with a black list that is used during the
        picking of new hosts. If the black list ends up including all
        configured hosts, the driver will retry for a configurable
        number of times (the <code class="option">retriesAllDown</code>
        configuration property, with a default of 120 times), sleeping
        250ms between attempts to pick a new connection.
      </p><p>
        We've also went ahead and made the balancing strategy
        extensible. To create a new strategy, implement the interface
        <code class="classname">com.mysql.jdbc.BalanceStrategy</code> (which
        also includes our standard "extension" interface), and tell the
        driver to use it by passing in the class name via the
        <code class="option">loadBalanceStrategy</code> configuration property.
       (<a href="http://bugs.mysql.com/32877" target="_top">Bug#32877</a>)</p></li><li><p>
        During a Daylight Savings Time (DST) switchover, there was no
        way to store two timestamp/datetime values , as the hours end up
        being the same when sent as the literal that MySQL requires.
      </p><p>
        Note that to get this scenario to work with MySQL (since it
        doesn't support per-value timezones), you need to configure your
        server (or session) to be in UTC, and tell the driver not to use
        the legacy date/time code by setting
        <code class="literal">useLegacyDatetimeCode</code> to "false". This will
        cause the driver to always convert to/from the server and client
        timezone consistently.
      </p><p>
        This bug fix also fixes <a href="http://bugs.mysql.com/15604" target="_top">Bug#15604</a>, by adding entirely new
        date/time handling code that can be switched on by
        <code class="option">useLegacyDatetimeCode</code> being set to "false" as a
        JDBC configuration property. For Connector/J 5.1.x, the default
        is "true", in trunk and beyond it will be "false" (i.e. the old
        date/time handling code will be deprecated)
       (<a href="http://bugs.mysql.com/32577" target="_top">Bug#32577</a>, <a href="http://bugs.mysql.com/15604" target="_top">Bug#15604</a>)</p></li><li><p>
        When unpacking rows directly, we don't hand off error message
        packets to the internal method which decodes them correctly, so
        no exception is raised, and the driver than hangs trying to read
        rows that aren't there. This tends to happen when calling stored
        procedures, as normal SELECTs won't have an error in this spot
        in the protocol unless an I/O error occurs.
       (<a href="http://bugs.mysql.com/32246" target="_top">Bug#32246</a>)</p></li><li><p>
        When using a connection from
        <code class="classname">ConnectionPoolDataSource</code>, some
        <code class="function">Connection.prepareStatement()</code> methods would
        return null instead of the prepared statement.
       (<a href="http://bugs.mysql.com/32101" target="_top">Bug#32101</a>)</p></li><li><p>
        Using <code class="function">CallableStatement.setNull()</code> on a
        stored function would throw an
        <code class="literal">ArrayIndexOutOfBounds</code> exception when setting
        the last parameter to null.
       (<a href="http://bugs.mysql.com/31823" target="_top">Bug#31823</a>)</p></li><li><p>
        <code class="classname">MysqlValidConnectionChecker</code> doesn't
        properly handle connections created using
        <code class="classname">ReplicationConnection</code>.
       (<a href="http://bugs.mysql.com/31790" target="_top">Bug#31790</a>)</p></li><li><p>
        Retrieving the server version information for an active
        connection could return invalid information if the default
        character encoding on the host was not ASCII compatible.
       (<a href="http://bugs.mysql.com/31192" target="_top">Bug#31192</a>)</p></li><li><p>
        Further fixes have been made to this bug in the event that a
        node is non-responsive. Connector/J will now try a different
        random node instead of waiting for the node to recover before
        continuing.
       (<a href="http://bugs.mysql.com/31053" target="_top">Bug#31053</a>)</p></li><li><p>
        <code class="literal">ResultSet</code> returned by
        <code class="literal">Statement.getGeneratedKeys()</code> is not closed
        automatically when statement that created it is closed.
       (<a href="http://bugs.mysql.com/30508" target="_top">Bug#30508</a>)</p></li><li><p>
        <code class="function">DatabaseMetadata.getColumns()</code> doesn't
        return the correct column names if the connection character
        isn't UTF-8. A bug in MySQL server compounded the issue, but was
        fixed within the MySQL 5.0 release cycle. The fix includes
        changes to all the sections of the code that access the server
        metadata.
       (<a href="http://bugs.mysql.com/20491" target="_top">Bug#20491</a>)</p></li><li><p>
        Fixed <code class="methodname">ResultSetMetadata.getColumnName()</code>
        for result sets returned from
        <code class="methodname">Statement.getGeneratedKeys()</code> - it was
        returning null instead of "GENERATED_KEY" as in 5.0.x.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-5"></a>C.7.1.4. Changes in MySQL Connector/J 5.1.5 (09 October 2007)</h4></div></div></div><p>The following     features are new, compared to the 5.0 series of Connector/J</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support for JDBC-4.0 <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NCHAR</code></a>,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NVARCHAR</code></a> and
        <code class="literal">NCLOB</code> types.
      </p></li><li><p>
        JDBC-4.0 support for setting per-connection client information
        (which can be viewed in the comments section of a query via
        <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a> on a MySQL
        server, or can be extended to support custom persistence of the
        information via a public interface).
      </p></li><li><p>
        Support for JDBC-4.0 XML processing via JAXP interfaces to DOM,
        SAX and StAX.
      </p></li><li><p>
        JDBC-4.0 standardized unwrapping to interfaces that include
        vendor extensions.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">autoSlowLog</code> configuration property,
        overrides <code class="literal">slowQueryThreshold*</code> properties,
        driver determines slow queries by those that are slower than 5 *
        stddev of the mean query time (outside the 96% percentile).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When a connection is in read-only mode, queries that are wrapped
        in parentheses were incorrectly identified DML statements.
       (<a href="http://bugs.mysql.com/28256" target="_top">Bug#28256</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-4"></a>C.7.1.5. Changes in MySQL Connector/J 5.1.4 (Not Released)</h4></div></div></div><p>
        Only released internally.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-3"></a>C.7.1.6. Changes in MySQL Connector/J 5.1.3 (10 September 2007)</h4></div></div></div><p>The following     features are new, compared to the 5.0 series of Connector/J</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support for JDBC-4.0 <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NCHAR</code></a>,
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NVARCHAR</code></a> and
        <code class="literal">NCLOB</code> types.
      </p></li><li><p>
        JDBC-4.0 support for setting per-connection client information
        (which can be viewed in the comments section of a query via
        <a href="sql-syntax.html#show-processlist" title="12.5.6.30. SHOW PROCESSLIST Syntax"><code class="literal">SHOW PROCESSLIST</code></a> on a MySQL
        server, or can be extended to support custom persistence of the
        information via a public interface).
      </p></li><li><p>
        Support for JDBC-4.0 XML processing via JAXP interfaces to DOM,
        SAX and StAX.
      </p></li><li><p>
        JDBC-4.0 standardized unwrapping to interfaces that include
        vendor extensions.
      </p></li></ul></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connector/J now connects using an initial character set of
        <code class="literal">utf-8</code> solely for the purpose of
        authentication to allow user names or database names in any
        character set to be used in the JDBC connection URL.
       (<a href="http://bugs.mysql.com/29853" target="_top">Bug#29853</a>)</p></li><li><p>
        Added two configuration parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">blobsAreStrings</code> — Should the driver
            always treat BLOBs as Strings. Added specifically to work
            around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li><li><p>
            <code class="literal">functionsNeverReturnBlobs</code> — Should
            the driver always treat data from functions returning
            <code class="literal">BLOBs</code> as Strings. Added specifically to
            work around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li></ul></div></li><li><p>
        Setting <code class="option">rewriteBatchedStatements</code> to
        <code class="literal">true</code> now causes CallableStatements with
        batched arguments to be re-written in the form "CALL (...); CALL
        (...); ..." to send the batch in as few client-server round
        trips as possible.
      </p></li><li><p>
        The driver now picks appropriate internal row representation
        (whole row in one buffer, or individual byte[]s for each column
        value) depending on heuristics, including whether or not the row
        has <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types and the overall
        row-size. The threshold for row size that will cause the driver
        to use a buffer rather than individual byte[]s is configured by
        the configuration property
        <code class="option">largeRowSizeThreshold</code>, which has a default
        value of 2KB.
      </p></li><li><p>
        The data (and how it is stored) for <code class="literal">ResultSet</code>
        rows are now behind an interface which allows us (in some cases)
        to allocate less memory per row, in that for "streaming" result
        sets, we re-use the packet used to read rows, since only one row
        at a time is ever active.
      </p></li><li><p>
        Added experimental support for statement "interceptors" via the
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code>
        interface, examples are in
        <code class="filename">com/mysql/jdbc/interceptors</code>. Implement this
        interface to be placed "in between" query execution, so that it
        can be influenced (currently experimental).
      </p></li><li><p>
        The driver will automatically adjust the server session variable
        <a href="server-administration.html#sysvar_net_write_timeout"><code class="literal">net_write_timeout</code></a> when it
        determines its been asked for a "streaming" result, and resets
        it to the previous value when the result set has been consumed.
        (The configuration property is named
        <code class="option">netTimeoutForStreamingResults</code>, with a unit of
        seconds, the value '0' means the driver will not try and adjust
        this value).
      </p></li><li><p>
        JDBC-4.0 ease-of-development features including
        auto-registration with the <code class="literal">DriverManager</code> via
        the service provider mechanism, standardized Connection validity
        checks and categorized <code class="literal">SQLExceptions</code> based on
        recoverability/retry-ability and class of the underlying error.
      </p></li><li><p>
        <code class="literal">Statement.setQueryTimeout()</code>s now affect the
        entire batch for batched statements, rather than the individual
        statements that make up the batch.
      </p></li><li><p>
        Errors encountered during
        <code class="literal">Statement</code>/<code class="literal">PreparedStatement</code>/<code class="literal">CallableStatement.executeBatch()</code>
        when <code class="literal">rewriteBatchStatements</code> has been set to
        <code class="literal">true</code> now return
        <code class="literal">BatchUpdateExceptions</code> according to the
        setting of <code class="literal">continueBatchOnError</code>.
      </p><p>
        If <code class="literal">continueBatchOnError</code> is set to
        <code class="literal">true</code>, the update counts for the "chunk" that
        were sent as one unit will all be set to
        <code class="literal">EXECUTE_FAILED</code>, but the driver will attempt
        to process the remainder of the batch. You can determine which
        "chunk" failed by looking at the update counts returned in the
        <code class="literal">BatchUpdateException</code>.
      </p><p>
        If <code class="literal">continueBatchOnError</code> is set to "false",
        the update counts returned will contain all updates up-to and
        including the failed "chunk", with all counts for the failed
        "chunk" set to <code class="literal">EXECUTE_FAILED</code>.
      </p><p>
        Since MySQL doesn't return multiple error codes for
        multiple-statements, or for multi-value
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a>/<a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a>,
        it is the application's responsibility to handle determining
        which item(s) in the "chunk" actually failed.
      </p></li><li><p>
        New methods on com.mysql.jdbc.Statement:
        <code class="literal">setLocalInfileInputStream()</code> and
        <code class="literal">getLocalInfileInputStream()</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">setLocalInfileInputStream()</code> sets an
            <code class="literal">InputStream</code> instance that will be used to
            send data to the MySQL server for a
            <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
            INFILE</code></a> statement rather than a
            <code class="literal">FileInputStream</code> or
            <code class="literal">URLInputStream</code> that represents the path
            given as an argument to the statement.
          </p><p>
            This stream will be read to completion upon execution of a
            <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
            INFILE</code></a> statement, and will automatically be closed
            by the driver, so it needs to be reset before each call to
            <code class="literal">execute*()</code> that would cause the MySQL
            server to request data to fulfill the request for
            <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
            INFILE</code></a>.
          </p><p>
            If this value is set to <code class="literal">NULL</code>, the driver
            will revert to using a <code class="literal">FileInputStream</code> or
            <code class="literal">URLInputStream</code> as required.
          </p></li><li><p>
            <code class="literal">getLocalInfileInputStream()</code> returns the
            <code class="literal">InputStream</code> instance that will be used to
            send data in response to a
            <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
            INFILE</code></a> statement.
          </p><p>
            This method returns <code class="literal">NULL</code> if no such
            stream has been set via
            <code class="literal">setLocalInfileInputStream()</code>.
          </p></li></ul></div></li><li><p>
        Setting <code class="option">useBlobToStoreUTF8OutsideBMP</code> to
        <code class="literal">true</code> tells the driver to treat
        <code class="literal">[MEDIUM/LONG]BLOB</code> columns as
        <code class="literal">[LONG]VARCHAR</code> columns holding text encoded in
        UTF-8 that has characters outside the BMP (4-byte encodings),
        which MySQL server can't handle natively.
      </p><p>
        Set <code class="option">utf8OutsideBmpExcludedColumnNamePattern</code> to
        a regex so that column names matching the given regex will still
        be treated as <code class="literal">BLOBs</code> The regex must follow the
        patterns used for the <code class="literal">java.util.regex</code>package.
        The default is to exclude no columns, and include all columns.
      </p><p>
        Set <code class="option">utf8OutsideBmpIncludedColumnNamePattern</code> to
        specify exclusion rules to
        utf8OutsideBmpExcludedColumnNamePattern". The regex must follow
        the patterns used for the <code class="literal">java.util.regex</code>
        package.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">setObject(int, Object, int, int)</code> delegate in
        PreparedStatmentWrapper delegates to wrong method.
       (<a href="http://bugs.mysql.com/30892" target="_top">Bug#30892</a>)</p></li><li><p>
        NPE with null column values when
        <code class="option">padCharsWithSpace</code> is set to true.
       (<a href="http://bugs.mysql.com/30851" target="_top">Bug#30851</a>)</p></li><li><p>
        Collation on <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column
        types would be misidentified. A fix has been added, but this fix
        only works for MySQL server versions 5.0.25 and newer, since
        earlier versions didn't consistently return correct metadata for
        functions, and thus results from subqueries and functions were
        indistinguishable from each other, leading to type-related bugs.
       (<a href="http://bugs.mysql.com/30664" target="_top">Bug#30664</a>)</p></li><li><p>
        An <code class="literal">ArithmeticException</code> or
        <code class="literal">NullPointerException</code> would be raised when the
        batch had zero members and
        <code class="literal">rewriteBatchedStatements=true</code> when
        <code class="literal">addBatch()</code> was never called, or
        <code class="literal">executeBatch()</code> was called immediately after
        <code class="literal">clearBatch()</code>.
       (<a href="http://bugs.mysql.com/30550" target="_top">Bug#30550</a>)</p></li><li><p>
        Closing a load-balanced connection would cause a
        <code class="literal">ClassCastException</code>.
       (<a href="http://bugs.mysql.com/29852" target="_top">Bug#29852</a>)</p></li><li><p>
        Connection checker for JBoss didn't use same method parameters
        via reflection, causing connections to always seem "bad".
       (<a href="http://bugs.mysql.com/29106" target="_top">Bug#29106</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getTypeInfo()</code> for the types
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> will return a precision
        of 254 for server versions older than 5.0.3, 64 for versions
        5.0.3-5.0.5 and 65 for versions newer than 5.0.5.
       (<a href="http://bugs.mysql.com/28972" target="_top">Bug#28972</a>)</p></li><li><p>
        <code class="literal">CallableStatement.executeBatch()</code> doesn't work
        when connection property
        <code class="option">noAccessToProcedureBodies</code> has been set to
        <code class="literal">true</code>.
      </p><p>
        The fix involves changing the behavior of
        <code class="option">noAccessToProcedureBodies</code>,in that the driver
        will now report all paramters as "IN" paramters but allow
        callers to call registerOutParameter() on them without throwing
        an exception.
       (<a href="http://bugs.mysql.com/28689" target="_top">Bug#28689</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't contain
        <code class="literal">SCOPE_*</code> or
        <code class="literal">IS_AUTOINCREMENT</code> columns.
       (<a href="http://bugs.mysql.com/27915" target="_top">Bug#27915</a>)</p></li><li><p>
        Schema objects with identifiers other than the connection
        character aren't retrieved correctly in
        <code class="literal">ResultSetMetadata</code>.
       (<a href="http://bugs.mysql.com/27867" target="_top">Bug#27867</a>)</p></li><li><p>
        <code class="literal">Connection.getServerCharacterEncoding()</code>
        doesn't work for servers with version &gt;= 4.1.
       (<a href="http://bugs.mysql.com/27182" target="_top">Bug#27182</a>)</p></li><li><p>
        The automated SVN revisions in
        <code class="literal">DBMD.getDriverVersion()</code>. The SVN revision of
        the directory is now inserted into the version information
        during the build.
       (<a href="http://bugs.mysql.com/21116" target="_top">Bug#21116</a>)</p></li><li><p>
        Specifying a "validation query" in your connection pool that
        starts with "/* ping */" _exactly_ will cause the driver to
        instead send a ping to the server and return a fake result set
        (much lighter weight), and when using a ReplicationConnection or
        a LoadBalancedConnection, will send the ping across all active
        connections.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-2"></a>C.7.1.7. Changes in MySQL Connector/J 5.1.2 (29 June 2007)</h4></div></div></div><p class="release-level">
        This is a new Beta development release, fixing recently
        discovered bugs.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Setting the configuration property
        <code class="literal">rewriteBatchedStatements</code> to
        <code class="literal">true</code> will now cause the driver to rewrite
        batched prepared statements with more than 3 parameter sets in a
        batch into multi-statements (separated by ";") if they are not
        plain (that is, without <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> or
        <code class="literal">ON DUPLICATE KEY UPDATE</code> clauses)
        <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> or
        <a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-1"></a>C.7.1.8. Changes in MySQL Connector/J 5.1.1 (22 June 2007)</h4></div></div></div><p class="release-level">
        This is a new Alpha development release, adding new features and
        fixing recently discovered bugs.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Incompatible Change</strong></span>: 
        Pulled vendor-extension methods of <code class="literal">Connection</code>
        implementation out into an interface to support
        <code class="literal">java.sql.Wrapper</code> functionality from
        <code class="literal">ConnectionPoolDataSource</code>. The vendor
        extensions are javadoc'd in the
        <code class="literal">com.mysql.jdbc.Connection</code> interface.
      </p><p>
        For those looking further into the driver implementation, it is
        not an API that is used for plugability of implementations
        inside our driver (which is why there are still references to
        <code class="literal">ConnectionImpl</code> throughout the code).
      </p><p>
        We've also added server and client
        <code class="literal">prepareStatement()</code> methods that cover all of
        the variants in the JDBC API.
      </p><p>
        <code class="literal">Connection.serverPrepare(String)</code> has been
        re-named to
        <code class="literal">Connection.serverPrepareStatement()</code> for
        consistency with
        <code class="literal">Connection.clientPrepareStatement()</code>.
      </p></li><li><p>
        Row navigation now causes any streams/readers open on the result
        set to be closed, as in some cases we're reading directly from a
        shared network packet and it will be overwritten by the "next"
        row.
      </p></li><li><p>
        Made it possible to retrieve prepared statement parameter
        bindings (to be used in
        <code class="literal">StatementInterceptors</code>, primarily).
      </p></li><li><p>
        Externalized the descriptions of connection properties.
      </p></li><li><p>
        The data (and how it is stored) for <code class="literal">ResultSet</code>
        rows are now behind an interface which allows us (in some cases)
        to allocate less memory per row, in that for "streaming" result
        sets, we re-use the packet used to read rows, since only one row
        at a time is ever active.
      </p></li><li><p>
        Similar to <code class="literal">Connection</code>, we pulled out vendor
        extensions to <code class="literal">Statement</code> into an interface
        named <code class="literal">com.mysql.Statement</code>, and moved the
        <code class="literal">Statement</code> class into
        <code class="literal">com.mysql.StatementImpl</code>. The two methods
        (javadoc'd in <code class="literal">com.mysql.Statement</code> are
        <code class="literal">enableStreamingResults()</code>, which already
        existed, and <code class="literal">disableStreamingResults()</code> which
        sets the statement instance back to the fetch size and result
        set type it had before
        <code class="literal">enableStreamingResults()</code> was called.
      </p></li><li><p>
        Driver now picks appropriate internal row representation (whole
        row in one buffer, or individual byte[]s for each column value)
        depending on heuristics, including whether or not the row has
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> types and the overall
        row-size. The threshold for row size that will cause the driver
        to use a buffer rather than individual byte[]s is configured by
        the configuration property
        <code class="literal">largeRowSizeThreshold</code>, which has a default
        value of 2KB.
      </p></li><li><p>
        Added experimental support for statement "interceptors" via the
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code>
        interface, examples are in
        <code class="filename">com/mysql/jdbc/interceptors</code>.
      </p><p>
        Implement this interface to be placed "in between" query
        execution, so that you can influence it. (currently
        experimental).
      </p><p>
        <code class="literal">StatementInterceptors</code> are "chainable" when
        configured by the user, the results returned by the "current"
        interceptor will be passed on to the next on in the chain, from
        left-to-right order, as specified by the user in the JDBC
        configuration property <code class="literal">statementInterceptors</code>.
      </p></li><li><p>
        See the sources (fully javadoc'd) for
        <code class="literal">com.mysql.jdbc.StatementInterceptor</code> for more
        details until we iron out the API and get it documented in the
        manual.
      </p></li><li><p>
        Setting <code class="literal">rewriteBatchedStatements</code> to
        <code class="literal">true</code> now causes
        <code class="literal">CallableStatements</code> with batched arguments to
        be re-written in the form <code class="literal">CALL (...); CALL (...);
        ...</code> to send the batch in as few client-server round
        trips as possible.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-1-0"></a>C.7.1.9. Changes in MySQL Connector/J 5.1.0 (11 April 2007)</h4></div></div></div><p>
        This is the first public alpha release of the current
        Connector/J 5.1 development branch, providing an insight to
        upcoming features. Although some of these are still under
        development, this release includes the following new features
        and changes (in comparison to the current Connector/J 5.0
        production release):
      </p><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The disabling of server-side prepared statements does not
          affect the operation of the connector. However, if you use the
          <code class="literal">useTimezone=true</code> connection option and use
          client-side prepared statements (instead of server-side
          prepared statements) you should also set
          <code class="literal">useSSPSCompatibleTimezoneShift=true</code>.
        </p></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Refactored <code class="literal">CommunicationsException</code> into a
        JDBC-3.0 version, and a JDBC-4.0 version (which extends
        <code class="literal">SQLRecoverableException</code>, now that it exists).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This change means that if you were catching
          <code class="literal">com.mysql.jdbc.CommunicationsException</code> in
          your applications instead of looking at the SQLState class of
          <code class="literal">08</code>, and are moving to Java 6 (or newer),
          you need to change your imports to that exception to be
          <code class="literal">com.mysql.jdbc.exceptions.jdbc4.CommunicationsException</code>,
          as the old class will not be instantiated for communications
          link-related errors under Java 6.
        </p></div></li><li><p>
        Added support for JDBC-4.0 categorized
        <code class="literal">SQLExceptions</code>.
      </p></li><li><p>
        Added support for JDBC-4.0's <code class="literal">NCLOB</code>, and
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NCHAR</code></a>/<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">NVARCHAR</code></a>
        types.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.java6.javac</code> — full path
        to your Java-6 <span><strong class="command">javac</strong></span> executable
      </p></li><li><p>
        Added support for JDBC-4.0's SQLXML interfaces.
      </p></li><li><p>
        Re-worked Ant buildfile to build JDBC-4.0 classes separately, as
        well as support building under Eclipse (since Eclipse can't
        mix/match JDKs).
      </p><p>
        To build, you must set <code class="literal">JAVA_HOME</code> to
        J2SDK-1.4.2 or Java-5, and set the following properties on your
        Ant command line:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">com.mysql.jdbc.java6.javac</code> — full
            path to your Java-6 <span><strong class="command">javac</strong></span> executable
          </p></li><li><p>
            <code class="literal">com.mysql.jdbc.java6.rtjar</code> — full
            path to your Java-6 <code class="filename">rt.jar</code> file
          </p></li></ul></div></li><li><p>
        New feature — driver will automatically adjust session
        variable <a href="server-administration.html#sysvar_net_write_timeout"><code class="literal">net_write_timeout</code></a> when
        it determines it has been asked for a "streaming" result, and
        resets it to the previous value when the result set has been
        consumed. (configuration property is named
        <code class="literal">netTimeoutForStreamingResults</code> value and has a
        unit of seconds, the value <code class="literal">0</code> means the driver
        will not try and adjust this value).
      </p></li><li><p>
        Added support for JDBC-4.0's client information. The backend
        storage of information provided via
        <code class="literal">Connection.setClientInfo()</code> and retrieved by
        <code class="literal">Connection.getClientInfo()</code> is pluggable by
        any class that implements the
        <code class="literal">com.mysql.jdbc.JDBC4ClientInfoProvider</code>
        interface and has a no-args constructor.
      </p><p>
        The implementation used by the driver is configured using the
        <code class="literal">clientInfoProvider</code> configuration property
        (with a default of value of
        <code class="literal">com.mysql.jdbc.JDBC4CommentClientInfoProvider</code>,
        an implementation which lists the client information as a
        comment prepended to every query sent to the server).
      </p><p>
        This functionality is only available when using Java-6 or newer.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.java6.rtjar</code> — full path
        to your Java-6 <code class="filename">rt.jar</code> file
      </p></li><li><p>
        Added support for JDBC-4.0's <code class="literal">Wrapper</code>
        interface.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-5-0"></a>C.7.2. Changes in MySQL Connector/J 5.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-5-0-8">C.7.2.1. Changes in MySQL Connector/J 5.0.8 (09 October 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-7">C.7.2.2. Changes in MySQL Connector/J 5.0.7 (20 July 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-6">C.7.2.3. Changes in MySQL Connector/J 5.0.6 (15 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-5">C.7.2.4. Changes in MySQL Connector/J 5.0.5 (02 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-4">C.7.2.5. Changes in MySQL Connector/J 5.0.4 (20 October 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-3">C.7.2.6. Changes in MySQL Connector/J 5.0.3 (26 July 2006 beta)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-2">C.7.2.7. Changes in MySQL Connector/J 5.0.2 (11 July 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-1">C.7.2.8. Changes in MySQL Connector/J 5.0.1 (Not Released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-5-0-0">C.7.2.9. Changes in MySQL Connector/J 5.0.0 (22 December 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-8"></a>C.7.2.1. Changes in MySQL Connector/J 5.0.8 (09 October 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">blobsAreStrings</code> — Should the driver
        always treat BLOBs as Strings. Added specifically to work around
        dubious metadata returned by the server for <code class="literal">GROUP
        BY</code> clauses. Defaults to false.
      </p></li><li><p>
        Added two configuration parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">blobsAreStrings</code> — Should the driver
            always treat BLOBs as Strings. Added specifically to work
            around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li><li><p>
            <code class="literal">functionsNeverReturnBlobs</code> — Should
            the driver always treat data from functions returning
            <code class="literal">BLOBs</code> as Strings. Added specifically to
            work around dubious metadata returned by the server for
            <code class="literal">GROUP BY</code> clauses. Defaults to false.
          </p></li></ul></div></li><li><p>
        <code class="literal">functionsNeverReturnBlobs</code> — Should the
        driver always treat data from functions returning
        <code class="literal">BLOBs</code> as Strings. Added specifically to work
        around dubious metadata returned by the server for
        <code class="literal">GROUP BY</code> clauses. Defaults to false.
      </p></li><li><p>
        XAConnections now start in auto-commit mode (as per JDBC-4.0
        specification clarification).
      </p></li><li><p>
        Driver will now fall back to sane defaults for
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> and
        <a href="server-administration.html#sysvar_net_buffer_length"><code class="literal">net_buffer_length</code></a> if the server
        reports them incorrectly (and will log this situation at
        <code class="literal">WARN</code> level, since it is actually an error
        condition).
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connections established using URLs of the form
        <code class="literal">jdbc:mysql:loadbalance://</code> weren't doing
        failover if they tried to connect to a MySQL server that was
        down. The driver now attempts connections to the next "best"
        (depending on the load balance strategy in use) server, and
        continues to attempt connecting to the next "best" server every
        250 milliseconds until one is found that is up and running or 5
        minutes has passed.
      </p><p>
        If the driver gives up, it will throw the last-received
        <code class="literal">SQLException</code>.
       (<a href="http://bugs.mysql.com/31053" target="_top">Bug#31053</a>)</p></li><li><p>
        <code class="literal">setObject(int, Object, int, int)</code> delegate in
        PreparedStatmentWrapper delegates to wrong method.
       (<a href="http://bugs.mysql.com/30892" target="_top">Bug#30892</a>)</p></li><li><p>
        NPE with null column values when
        <code class="option">padCharsWithSpace</code> is set to true.
       (<a href="http://bugs.mysql.com/30851" target="_top">Bug#30851</a>)</p></li><li><p>
        Collation on <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> column
        types would be misidentified. A fix has been added, but this fix
        only works for MySQL server versions 5.0.25 and newer, since
        earlier versions didn't consistently return correct metadata for
        functions, and thus results from subqueries and functions were
        indistinguishable from each other, leading to type-related bugs.
       (<a href="http://bugs.mysql.com/30664" target="_top">Bug#30664</a>)</p></li><li><p>
        An <code class="literal">ArithmeticException</code> or
        <code class="literal">NullPointerException</code> would be raised when the
        batch had zero members and
        <code class="literal">rewriteBatchedStatements=true</code> when
        <code class="literal">addBatch()</code> was never called, or
        <code class="literal">executeBatch()</code> was called immediately after
        <code class="literal">clearBatch()</code>.
       (<a href="http://bugs.mysql.com/30550" target="_top">Bug#30550</a>)</p></li><li><p>
        Closing a load-balanced connection would cause a
        <code class="literal">ClassCastException</code>.
       (<a href="http://bugs.mysql.com/29852" target="_top">Bug#29852</a>)</p></li><li><p>
        Connection checker for JBoss didn't use same method parameters
        via reflection, causing connections to always seem "bad".
       (<a href="http://bugs.mysql.com/29106" target="_top">Bug#29106</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getTypeInfo()</code> for the types
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> will return a precision
        of 254 for server versions older than 5.0.3, 64 for versions
        5.0.3-5.0.5 and 65 for versions newer than 5.0.5.
       (<a href="http://bugs.mysql.com/28972" target="_top">Bug#28972</a>)</p></li><li><p>
        <code class="literal">CallableStatement.executeBatch()</code> doesn't work
        when connection property
        <code class="option">noAccessToProcedureBodies</code> has been set to
        <code class="literal">true</code>.
      </p><p>
        The fix involves changing the behavior of
        <code class="option">noAccessToProcedureBodies</code>,in that the driver
        will now report all paramters as "IN" paramters but allow
        callers to call registerOutParameter() on them without throwing
        an exception.
       (<a href="http://bugs.mysql.com/28689" target="_top">Bug#28689</a>)</p></li><li><p>
        When a connection is in read-only mode, queries that are wrapped
        in parentheses were incorrectly identified DML statements.
       (<a href="http://bugs.mysql.com/28256" target="_top">Bug#28256</a>)</p></li><li><p>
        <code class="literal">UNSIGNED</code> types not reported via
        <code class="literal">DBMD.getTypeInfo()</code>, and capitalization of
        type names is not consistent between
        <code class="literal">DBMD.getColumns()</code>,
        <code class="literal">RSMD.getColumnTypeName()</code> and
        <code class="literal">DBMD.getTypeInfo()</code>.
      </p><p>
        This fix also ensures that the precision of <code class="literal">UNSIGNED
        MEDIUMINT</code> and <code class="literal">UNSIGNED BIGINT</code> is
        reported correctly via <code class="literal">DBMD.getColumns()</code>.
       (<a href="http://bugs.mysql.com/27916" target="_top">Bug#27916</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't contain
        <code class="literal">SCOPE_*</code> or
        <code class="literal">IS_AUTOINCREMENT</code> columns.
       (<a href="http://bugs.mysql.com/27915" target="_top">Bug#27915</a>)</p></li><li><p>
        Schema objects with identifiers other than the connection
        character aren't retrieved correctly in
        <code class="literal">ResultSetMetadata</code>.
       (<a href="http://bugs.mysql.com/27867" target="_top">Bug#27867</a>)</p></li><li><p>
        Cached metadata with
        <code class="literal">PreparedStatement.execute()</code> throws
        <code class="literal">NullPointerException</code>.
       (<a href="http://bugs.mysql.com/27412" target="_top">Bug#27412</a>)</p></li><li><p>
        <code class="literal">Connection.getServerCharacterEncoding()</code>
        doesn't work for servers with version &gt;= 4.1.
       (<a href="http://bugs.mysql.com/27182" target="_top">Bug#27182</a>)</p></li><li><p>
        The automated SVN revisions in
        <code class="literal">DBMD.getDriverVersion()</code>. The SVN revision of
        the directory is now inserted into the version information
        during the build.
       (<a href="http://bugs.mysql.com/21116" target="_top">Bug#21116</a>)</p></li><li><p>
        Specifying a "validation query" in your connection pool that
        starts with "/* ping */" _exactly_ will cause the driver to
        instead send a ping to the server and return a fake result set
        (much lighter weight), and when using a ReplicationConnection or
        a LoadBalancedConnection, will send the ping across all active
        connections.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-7"></a>C.7.2.2. Changes in MySQL Connector/J 5.0.7 (20 July 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The driver will now automatically set
        <code class="literal">useServerPrepStmts</code> to <code class="literal">true</code>
        when <code class="literal">useCursorFetch</code> has been set to
        <code class="literal">true</code>, since the feature requires server-side
        prepared statements in order to function.
      </p></li><li><p>
        <code class="literal">tcpKeepAlive</code> - Should the driver set
        SO_KEEPALIVE (default <code class="literal">true</code>)?
      </p></li><li><p>
        Give more information in EOFExceptions thrown out of MysqlIO
        (how many bytes the driver expected to read, how many it
        actually read, say that communications with the server were
        unexpectedly lost).
      </p></li><li><p>
        Driver detects when it is running in a ColdFusion MX server
        (tested with version 7), and uses the configuration bundle
        <code class="literal">coldFusion</code>, which sets
        <code class="literal">useDynamicCharsetInfo</code> to
        <code class="literal">false</code> (see previous entry), and sets
        <code class="literal">useLocalSessionState</code> and autoReconnect to
        <code class="literal">true</code>.
      </p></li><li><p>
        <code class="literal">tcpNoDelay</code> - Should the driver set
        SO_TCP_NODELAY (disabling the Nagle Algorithm, default
        <code class="literal">true</code>)?
      </p></li><li><p>
        Added configuration property
        <code class="literal">slowQueryThresholdNanos</code> - if
        <code class="literal">useNanosForElapsedTime</code> is set to
        <code class="literal">true</code>, and this property is set to a non-zero
        value the driver will use this threshold (in nanosecond units)
        to determine if a query was slow, instead of using millisecond
        units.
      </p></li><li><p>
        <code class="literal">tcpRcvBuf</code> - Should the driver set SO_RCV_BUF
        to the given value? The default value of '0', means use the
        platform default value for this property.
      </p></li><li><p>
        Setting <code class="literal">useDynamicCharsetInfo</code> to
        <code class="literal">false</code> now causes driver to use static lookups
        for collations as well (makes
        ResultSetMetadata.isCaseSensitive() much more efficient, which
        leads to performance increase for ColdFusion, which calls this
        method for every column on every table it sees, it appears).
      </p></li><li><p>
        Added configuration properties to allow tuning of TCP/IP socket
        parameters:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">tcpNoDelay</code> - Should the driver set
            SO_TCP_NODELAY (disabling the Nagle Algorithm, default
            <code class="literal">true</code>)?
          </p></li><li><p>
            <code class="literal">tcpKeepAlive</code> - Should the driver set
            SO_KEEPALIVE (default <code class="literal">true</code>)?
          </p></li><li><p>
            <code class="literal">tcpRcvBuf</code> - Should the driver set
            SO_RCV_BUF to the given value? The default value of '0',
            means use the platform default value for this property.
          </p></li><li><p>
            <code class="literal">tcpSndBuf</code> - Should the driver set
            SO_SND_BUF to the given value? The default value of '0',
            means use the platform default value for this property.
          </p></li><li><p>
            <code class="literal">tcpTrafficClass</code> - Should the driver set
            traffic class or type-of-service fields? See the
            documentation for java.net.Socket.setTrafficClass() for more
            information.
          </p></li></ul></div></li><li><p>
        Setting the configuration parameter
        <code class="literal">useCursorFetch</code> to <code class="literal">true</code> for
        MySQL-5.0+ enables the use of cursors that allow Connector/J to
        save memory by fetching result set rows in chunks (where the
        chunk size is set by calling setFetchSize() on a Statement or
        ResultSet) by using fully-materialized cursors on the server.
      </p></li><li><p>
        <code class="literal">tcpSndBuf</code> - Should the driver set SO_SND_BUF
        to the given value? The default value of '0', means use the
        platform default value for this property.
      </p></li><li><p>
        <code class="literal">tcpTrafficClass</code> - Should the driver set
        traffic class or type-of-service fields? See the documentation
        for java.net.Socket.setTrafficClass() for more information.
      </p></li><li><p>
        Added new debugging functionality - Setting configuration
        property
        <code class="literal">includeInnodbStatusInDeadlockExceptions</code> to
        <code class="literal">true</code> will cause the driver to append the
        output of <a href="sql-syntax.html#show-engine" title="12.5.6.16. SHOW ENGINE Syntax"><code class="literal">SHOW
        ENGINE INNODB STATUS</code></a> to deadlock-related exceptions,
        which will enumerate the current locks held inside InnoDB.
      </p></li><li><p>
        Added configuration property
        <code class="literal">useNanosForElapsedTime</code> - for
        profiling/debugging functionality that measures elapsed time,
        should the driver try to use nanoseconds resolution if available
        (requires JDK &gt;= 1.5)?
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          If <code class="literal">useNanosForElapsedTime</code> is set to
          <code class="literal">true</code>, and this property is set to "0" (or
          left default), then elapsed times will still be measured in
          nanoseconds (if possible), but the slow query threshold will
          be converted from milliseconds to nanoseconds, and thus have
          an upper bound of approximately 2000 milliseconds (as that
          threshold is represented as an integer, not a long).
        </p></div></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Don't send any file data in response to LOAD DATA LOCAL INFILE
        if the feature is disabled at the client side. This is to
        prevent a malicious server or man-in-the-middle from asking the
        client for data that the client is not expecting. Thanks to Jan
        Kneschke for discovering the exploit and Andrey "Poohie"
        Hristov, Konstantin Osipov and Sergei Golubchik for discussions
        about implications and possible fixes.
       (<a href="http://bugs.mysql.com/29605" target="_top">Bug#29605</a>)</p></li><li><p>
        Parser in client-side prepared statements runs to end of
        statement, rather than end-of-line for '#' comments. Also added
        support for '--' single-line comments.
       (<a href="http://bugs.mysql.com/28956" target="_top">Bug#28956</a>)</p></li><li><p>
        Parser in client-side prepared statements eats character
        following '/' if it is not a multi-line comment.
       (<a href="http://bugs.mysql.com/28851" target="_top">Bug#28851</a>)</p></li><li><p>
        PreparedStatement.getMetaData() for statements containing
        leading one-line comments is not returned correctly.
      </p><p>
        As part of this fix, we also overhauled detection of DML for
        <code class="literal">executeQuery()</code> and
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>s for
        <code class="literal">executeUpdate()</code> in plain and prepared
        statements to be aware of the same types of comments.
       (<a href="http://bugs.mysql.com/28469" target="_top">Bug#28469</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-6"></a>C.7.2.3. Changes in MySQL Connector/J 5.0.6 (15 May 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added an experimental load-balanced connection designed for use
        with SQL nodes in a MySQL Cluster/NDB environment (This is not
        for master-slave replication. For that, we suggest you look at
        <code class="literal">ReplicationConnection</code> or
        <code class="literal">lbpool</code>).
      </p><p>
        If the JDBC URL starts with
        <code class="literal">jdbc:mysql:loadbalance://host-1,host-2,...host-n</code>,
        the driver will create an implementation of
        <code class="literal">java.sql.Connection</code> that load balances
        requests across a series of MySQL JDBC connections to the given
        hosts, where the balancing takes place after transaction commit.
      </p><p>
        Therefore, for this to work (at all), you must use transactions,
        even if only reading data.
      </p><p>
        Physical connections to the given hosts will not be created
        until needed.
      </p><p>
        The driver will invalidate connections that it detects have had
        communication errors when processing a request. A new connection
        to the problematic host will be attempted the next time it is
        selected by the load balancing algorithm.
      </p><p>
        There are two choices for load balancing algorithms, which may
        be specified by the <code class="literal">loadBalanceStrategy</code> JDBC
        URL configuration property:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">random</code> — the driver will pick a
            random host for each request. This tends to work better than
            round-robin, as the randomness will somewhat account for
            spreading loads where requests vary in response time, while
            round-robin can sometimes lead to overloaded nodes if there
            are variations in response times across the workload.
          </p></li><li><p>
            <code class="literal">bestResponseTime</code> — the driver will
            route the request to the host that had the best response
            time for the previous transaction.
          </p></li></ul></div></li><li><p>
        <code class="literal">bestResponseTime</code> — the driver will
        route the request to the host that had the best response time
        for the previous transaction.
      </p></li><li><p>
        Added configuration property
        <code class="literal">padCharsWithSpace</code> (defaults to
        <code class="literal">false</code>). If set to <code class="literal">true</code>,
        and a result set column has the
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a> type and the value does not
        fill the amount of characters specified in the DDL for the
        column, the driver will pad the remaining characters with space
        (for ANSI compliance).
      </p></li><li><p>
        When <code class="literal">useLocalSessionState</code> is set to
        <code class="literal">true</code> and connected to a MySQL-5.0 or later
        server, the JDBC driver will now determine whether an actual
        <code class="literal">commit</code> or <code class="literal">rollback</code>
        statement needs to be sent to the database when
        <code class="literal">Connection.commit()</code> or
        <code class="literal">Connection.rollback()</code> is called.
      </p><p>
        This is especially helpful for high-load situations with
        connection pools that always call
        <code class="literal">Connection.rollback()</code> on connection
        check-in/check-out because it avoids a round-trip to the server.
      </p></li><li><p>
        Added configuration property
        <code class="literal">useDynamicCharsetInfo</code>. If set to
        <code class="literal">false</code> (the default), the driver will use a
        per-connection cache of character set information queried from
        the server when necessary, or when set to
        <code class="literal">true</code>, use a built-in static mapping that is
        more efficient, but isn't aware of custom character sets or
        character sets implemented after the release of the JDBC driver.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          This only affects the <code class="literal">padCharsWithSpace</code>
          configuration property and the
          <code class="literal">ResultSetMetaData.getColumnDisplayWidth()</code>
          method.
        </p></div></li><li><p>
        New configuration property,
        <code class="literal">enableQueryTimeouts</code> (default
        <code class="literal">true</code>).
      </p><p>
        When enabled, query timeouts set via
        <code class="literal">Statement.setQueryTimeout()</code> use a shared
        <code class="literal">java.util.Timer</code> instance for scheduling. Even
        if the timeout doesn't expire before the query is processed,
        there will be memory used by the <code class="literal">TimerTask</code>
        for the given timeout which won't be reclaimed until the time
        the timeout would have expired if it hadn't been cancelled by
        the driver. High-load environments might want to consider
        disabling this functionality. (this configuration property is
        part of the <code class="literal">maxPerformance</code> configuration
        bundle).
      </p></li><li><p>
        Give better error message when "streaming" result sets, and the
        connection gets clobbered because of exceeding
        <a href="server-administration.html#sysvar_net_write_timeout"><code class="literal">net_write_timeout</code></a> on the
        server.
      </p></li><li><p>
        <code class="literal">random</code> — the driver will pick a random
        host for each request. This tends to work better than
        round-robin, as the randomness will somewhat account for
        spreading loads where requests vary in response time, while
        round-robin can sometimes lead to overloaded nodes if there are
        variations in response times across the workload.
      </p></li><li><p>
        <code class="literal">com.mysql.jdbc.[NonRegistering]Driver</code> now
        understands URLs of the format
        <code class="literal">jdbc:mysql:replication://</code> and
        <code class="literal">jdbc:mysql:loadbalance://</code> which will create a
        ReplicationConnection (exactly like when using
        <code class="literal">[NonRegistering]ReplicationDriver</code>) and an
        experimental load-balanced connection designed for use with SQL
        nodes in a MySQL Cluster/NDB environment, respectively.
      </p><p>
        In an effort to simplify things, we're working on deprecating
        multiple drivers, and instead specifying different core behavior
        based upon JDBC URL prefixes, so watch for
        <code class="literal">[NonRegistering]ReplicationDriver</code> to
        eventually disappear, to be replaced with
        <code class="literal">com.mysql.jdbc[NonRegistering]Driver</code> with the
        new URL prefix.
      </p></li><li><p>
        Fixed issue where a failed-over connection would let an
        application call <code class="literal">setReadOnly(false)</code>, when
        that call should be ignored until the connection is reconnected
        to a writable master unless <code class="literal">failoverReadOnly</code>
        had been set to <code class="literal">false</code>.
      </p></li><li><p>
        Driver will now use <code class="literal">INSERT INTO ... VALUES
        (DEFAULT)</code>form of statement for updatable result sets
        for <code class="literal">ResultSet.insertRow()</code>, rather than
        pre-populating the insert row with values from
        <code class="literal">DatabaseMetaData.getColumns()</code>(which results
        in a <a href="sql-syntax.html#show-columns" title="12.5.6.6. SHOW COLUMNS Syntax"><code class="literal">SHOW FULL
        COLUMNS</code></a> on the server for every result set). If an
        application requires access to the default values before
        <code class="literal">insertRow()</code> has been called, the JDBC URL
        should be configured with
        <code class="literal">populateInsertRowWithDefaultValues</code> set to
        <code class="literal">true</code>.
      </p><p>
        This fix specifically targets performance issues with ColdFusion
        and the fact that it seems to ask for updatable result sets no
        matter what the application does with them.
      </p></li><li><p>
        More intelligent initial packet sizes for the "shared" packets
        are used (512 bytes, rather than 16K), and initial packets used
        during handshake are now sized appropriately as to not require
        reallocation.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        More useful error messages are generated when the driver thinks
        a result set is not updatable. (Thanks to Ashley Martens for the
        patch).
       (<a href="http://bugs.mysql.com/28085" target="_top">Bug#28085</a>)</p></li><li><p>
        <code class="literal">Connection.getTransactionIsolation()</code> uses
        "<code class="literal">SHOW VARIABLES LIKE</code>" which is very
        inefficient on MySQL-5.0+ servers.
       (<a href="http://bugs.mysql.com/27655" target="_top">Bug#27655</a>)</p></li><li><p>
        Fixed issue where calling <code class="literal">getGeneratedKeys()</code>
        on a prepared statement after calling
        <code class="literal">execute()</code> didn't always return the generated
        keys (<code class="literal">executeUpdate()</code> worked fine however).
       (<a href="http://bugs.mysql.com/27655" target="_top">Bug#27655</a>)</p></li><li><p>
        <code class="literal">CALL /* ... */
        <em class="replaceable"><code>some_proc</code></em>()</code> doesn't work.
        As a side effect of this fix, you can now use <code class="literal">/*
        */</code> and <code class="literal">#</code> comments when preparing
        statements using client-side prepared statement emulation.
      </p><p>
        If the comments happen to contain parameter markers
        (<code class="literal">?</code>), they will be treated as belonging to the
        comment (that is, not recognized) rather than being a parameter
        of the statement.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          The statement when sent to the server will contain the
          comments as-is, they're not stripped during the process of
          preparing the <code class="literal">PreparedStatement</code> or
          <code class="literal">CallableStatement</code>.
        </p></div><p>(<a href="http://bugs.mysql.com/27400" target="_top">Bug#27400</a>)</p></li><li><p>
        <code class="literal">ResultSet.get*()</code> with a column index &lt; 1
        returns misleading error message.
       (<a href="http://bugs.mysql.com/27317" target="_top">Bug#27317</a>)</p></li><li><p>
        Using <code class="literal">ResultSet.get*()</code> with a column index
        less than 1 returns a misleading error message.
       (<a href="http://bugs.mysql.com/27317" target="_top">Bug#27317</a>)</p></li><li><p>
        Comments in DDL of stored procedures/functions confuse procedure
        parser, and thus metadata about them can not be created, leading
        to inability to retrieve said metadata, or execute procedures
        that have certain comments in them.
       (<a href="http://bugs.mysql.com/26959" target="_top">Bug#26959</a>)</p></li><li><p>
        Fast date/time parsing doesn't take into account
        <code class="literal">00:00:00</code> as a legal value.
       (<a href="http://bugs.mysql.com/26789" target="_top">Bug#26789</a>)</p></li><li><p>
        <code class="literal">PreparedStatement</code> is not closed in
        <code class="literal">BlobFromLocator.getBytes()</code>.
       (<a href="http://bugs.mysql.com/26592" target="_top">Bug#26592</a>)</p></li><li><p>
        When the configuration property
        <code class="literal">useCursorFetch</code> was set to
        <code class="literal">true</code>, sometimes server would return new, more
        exact metadata during the execution of the server-side prepared
        statement that enables this functionality, which the driver
        ignored (using the original metadata returned during
        <code class="literal">prepare()</code>), causing corrupt reading of data
        due to type mismatch when the actual rows were returned.
       (<a href="http://bugs.mysql.com/26173" target="_top">Bug#26173</a>)</p></li><li><p>
        <code class="literal">CallableStatements</code> with
        <code class="literal">OUT/INOUT</code> parameters that are "binary"
        (<a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>,
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>,
        <code class="literal">(VAR)BINARY</code>, <code class="literal">JAVA_OBJECT</code>)
        have extra 7 bytes.
       (<a href="http://bugs.mysql.com/25715" target="_top">Bug#25715</a>)</p></li><li><p>
        Whitespace surrounding storage/size specifiers in stored
        procedure parameters declaration causes
        <code class="literal">NumberFormatException</code> to be thrown when
        calling stored procedure on JDK-1.5 or newer, as the Number
        classes in JDK-1.5+ are whitespace intolerant.
       (<a href="http://bugs.mysql.com/25624" target="_top">Bug#25624</a>)</p></li><li><p>
        Client options not sent correctly when using SSL, leading to
        stored procedures not being able to return results. Thanks to
        Don Cohen for the bug report, testcase and patch.
       (<a href="http://bugs.mysql.com/25545" target="_top">Bug#25545</a>)</p></li><li><p>
        <code class="literal">Statement.setMaxRows()</code> is not effective on
        result sets materialized from cursors.
       (<a href="http://bugs.mysql.com/25517" target="_top">Bug#25517</a>)</p></li><li><p>
        <code class="literal">BIT(&gt; 1)</code> is returned as
        <code class="literal">java.lang.String</code> from
        <code class="literal">ResultSet.getObject()</code> rather than
        <code class="literal">byte[]</code>.
       (<a href="http://bugs.mysql.com/25328" target="_top">Bug#25328</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-5"></a>C.7.2.4. Changes in MySQL Connector/J 5.0.5 (02 March 2007)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Usage Advisor will now issue warnings for result sets with large
        numbers of rows. You can configure the trigger value by using
        the <code class="literal">resultSetSizeThreshold</code> parameter, which
        has a default value of 100.
      </p></li><li><p>
        The <code class="literal">rewriteBatchedStatements</code> feature can now
        be used with server-side prepared statements.
      </p></li><li><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p></li><li><p>
        Improved speed of <code class="literal">datetime</code> parsing for
        ResultSets that come from plain or non-server-side prepared
        statements. You can enable old implementation with
        <code class="literal">useFastDateParsing=false</code> as a configuration
        parameter.
      </p></li><li><p>
        Usage Advisor now detects empty results sets and does not report
        on columns not referenced in those empty sets.
      </p></li><li><p>
        Fixed logging of XA commands sent to server, it is now
        configurable via <code class="literal">logXaCommands</code> property
        (defaults to <code class="literal">false</code>).
      </p></li><li><p>
        Added configuration property
        <code class="literal">localSocketAddress</code>, which is the host name or
        IP address given to explicitly configure the interface that the
        driver will bind the client side of the TCP/IP connection to
        when connecting.
      </p></li><li><p>
        We've added a new configuration option
        <code class="literal">treatUtilDateAsTimestamp</code>, which is
        <code class="literal">false</code> by default, as (1) We already had
        specific behavior to treat java.util.Date as a
        java.sql.Timestamp because it is useful to many folks, and (2)
        that behavior will very likely be required for drivers
        JDBC-post-4.0.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Connection property <code class="literal">socketFactory</code> wasn't
        exposed via correctly named mutator/accessor, causing data
        source implementations that use JavaBean naming conventions to
        set properties to fail to set the property (and in the case of
        SJAS, fail silently when trying to set this parameter).
       (<a href="http://bugs.mysql.com/26326" target="_top">Bug#26326</a>)</p></li><li><p>
        A query execution which timed out did not always throw a
        <code class="literal">MySQLTimeoutException</code>.
       (<a href="http://bugs.mysql.com/25836" target="_top">Bug#25836</a>)</p></li><li><p>
        Storing a <code class="literal">java.util.Date</code> object in a
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> column would not be
        serialized correctly during <code class="literal">setObject</code>.
       (<a href="http://bugs.mysql.com/25787" target="_top">Bug#25787</a>)</p></li><li><p>
        Timer instance used for
        <code class="literal">Statement.setQueryTimeout()</code> created
        per-connection, rather than per-VM, causing memory leak.
       (<a href="http://bugs.mysql.com/25514" target="_top">Bug#25514</a>)</p></li><li><p>
        <code class="literal">EscapeProcessor</code> gets confused by multiple
        backslashes. We now push the responsibility of syntax errors
        back on to the server for most escape sequences.
       (<a href="http://bugs.mysql.com/25399" target="_top">Bug#25399</a>)</p></li><li><p>
        <code class="literal">INOUT</code> parameters in
        <code class="literal">CallableStatements</code> get doubly-escaped.
       (<a href="http://bugs.mysql.com/25379" target="_top">Bug#25379</a>)</p></li><li><p>
        When using the <code class="literal">rewriteBatchedStatements</code>
        connection option with
        <code class="literal">PreparedState.executeBatch()</code> an internal
        memory leak would occur.
       (<a href="http://bugs.mysql.com/25073" target="_top">Bug#25073</a>)</p></li><li><p>
        Fixed issue where field-level for metadata from
        <code class="literal">DatabaseMetaData</code> when using
        <code class="literal">INFORMATION_SCHEMA</code> didn't have references to
        current connections, sometimes leading to Null Pointer
        Exceptions (NPEs) when introspecting them via
        <code class="literal">ResultSetMetaData</code>.
       (<a href="http://bugs.mysql.com/25073" target="_top">Bug#25073</a>)</p></li><li><p>
        <code class="literal">StringUtils.indexOfIgnoreCaseRespectQuotes()</code>
        isn't case-insensitive on the first character of the target.
        This bug also affected
        <code class="literal">rewriteBatchedStatements</code> functionality when
        prepared statements did not use uppercase for the
        <code class="literal">VALUES</code> clause.
       (<a href="http://bugs.mysql.com/25047" target="_top">Bug#25047</a>)</p></li><li><p>
        Client-side prepared statement parser gets confused by in-line
        comments <code class="literal">/*...*/</code> and therefore cannot rewrite
        batch statements or reliably detect the type of statements when
        they are used.
       (<a href="http://bugs.mysql.com/25025" target="_top">Bug#25025</a>)</p></li><li><p>
        Results sets from <a href="sql-syntax.html#update" title="12.2.12. UPDATE Syntax"><code class="literal">UPDATE</code></a>
        statements that are part of multi-statement queries would cause
        an <code class="literal">SQLException</code> error, "Result is from
        UPDATE".
       (<a href="http://bugs.mysql.com/25009" target="_top">Bug#25009</a>)</p></li><li><p>
        Specifying <code class="literal">US-ASCII</code> as the character set in a
        connection to a MySQL 4.1 or newer server does not map
        correctly.
       (<a href="http://bugs.mysql.com/24840" target="_top">Bug#24840</a>)</p></li><li><p>
        Using <code class="literal">DatabaseMetaData.getSQLKeywords()</code> does
        not return a all of the of the reserved keywords for the current
        MySQL version. Current implementation returns the list of
        reserved words for MySQL 5.1, and does not distinguish between
        versions.
       (<a href="http://bugs.mysql.com/24794" target="_top">Bug#24794</a>)</p></li><li><p>
        Calling <code class="literal">Statement.cancel()</code> could result in a
        Null Pointer Exception (NPE).
       (<a href="http://bugs.mysql.com/24721" target="_top">Bug#24721</a>)</p></li><li><p>
        Using <code class="literal">setFetchSize()</code> breaks prepared
        <a href="sql-syntax.html#show" title="12.5.6. SHOW Syntax"><code class="literal">SHOW</code></a> and other commands.
       (<a href="http://bugs.mysql.com/24360" target="_top">Bug#24360</a>)</p></li><li><p>
        Calendars and timezones are now lazily instantiated when
        required.
       (<a href="http://bugs.mysql.com/24351" target="_top">Bug#24351</a>)</p></li><li><p>
        Using <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> columns would
        result in time shifts when <code class="literal">useServerPrepStmts</code>
        was true. The reason was due to different behavior when using
        client-side compared to server-side prepared statements and the
        <code class="literal">useJDBCCompliantTimezoneShift</code> option. This is
        now fixed if moving from server-side prepared statements to
        client-side prepared statements by setting
        <code class="literal">useSSPSCompatibleTimezoneShift</code> to
        <code class="literal">true</code>, as the driver can't tell if this is a
        new deployment that never used server-side prepared statements,
        or if it is an existing deployment that is switching to
        client-side prepared statements from server-side prepared
        statements.
       (<a href="http://bugs.mysql.com/24344" target="_top">Bug#24344</a>)</p></li><li><p>
        Connector/J now returns a better error message when server
        doesn't return enough information to determine stored
        procedure/function parameter types.
       (<a href="http://bugs.mysql.com/24065" target="_top">Bug#24065</a>)</p></li><li><p>
        A connection error would occur when connecting to a MySQL server
        with certain character sets. Some collations/character sets
        reported as "unknown" (specifically <code class="literal">cias</code>
        variants of existing character sets), and inability to override
        the detected server character set.
       (<a href="http://bugs.mysql.com/23645" target="_top">Bug#23645</a>)</p></li><li><p>
        Inconsistency between <code class="literal">getSchemas</code> and
        <code class="literal">INFORMATION_SCHEMA</code>.
       (<a href="http://bugs.mysql.com/23304" target="_top">Bug#23304</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getSchemas()</code> doesn't return
        a <code class="literal">TABLE_CATALOG</code> column.
       (<a href="http://bugs.mysql.com/23303" target="_top">Bug#23303</a>)</p></li><li><p>
        When using a JDBC connection URL that is malformed, the
        <code class="literal">NonRegisteringDriver.getPropertyInfo</code> method
        will throw a Null Pointer Exception (NPE).
       (<a href="http://bugs.mysql.com/22628" target="_top">Bug#22628</a>)</p></li><li><p>
        Some exceptions thrown out of
        <code class="literal">StandardSocketFactory</code> were needlessly
        wrapped, obscuring their true cause, especially when using
        socket timeouts.
       (<a href="http://bugs.mysql.com/21480" target="_top">Bug#21480</a>)</p></li><li><p>
        When using a server-side prepared statement the driver would
        send timestamps to the server using nanoseconds instead of
        milliseconds.
       (<a href="http://bugs.mysql.com/21438" target="_top">Bug#21438</a>)</p></li><li><p>
        When using server-side prepared statements and timestamp
        columns, value would be incorrectly populated (with nanoseconds,
        not microseconds).
       (<a href="http://bugs.mysql.com/21438" target="_top">Bug#21438</a>)</p></li><li><p>
        <code class="literal">ParameterMetaData</code> throws
        <code class="literal">NullPointerException</code> when prepared SQL has a
        syntax error. Added
        <code class="literal">generateSimpleParameterMetadata</code> configuration
        property, which when set to <code class="literal">true</code> will
        generate metadata reflecting
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> for every parameter (the
        default is <code class="literal">false</code>, which will cause an
        exception to be thrown if no parameter metadata for the
        statement is actually available).
       (<a href="http://bugs.mysql.com/21267" target="_top">Bug#21267</a>)</p></li><li><p>
        Fixed an issue where <code class="literal">XADataSources</code> couldn't
        be bound into JNDI, as the <code class="literal">DataSourceFactory</code>
        didn't know how to create instances of them.
      </p></li></ul></div><p>Other changes:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Avoid static synchronized code in JVM class libraries for
        dealing with default timezones.
      </p></li><li><p>
        Performance enhancement of initial character set configuration,
        driver will only send commands required to configure connection
        character set session variables if the current values on the
        server do not match what is required.
      </p></li><li><p>
        Re-worked stored procedure parameter parser to be more robust.
        Driver no longer requires <code class="literal">BEGIN</code> in stored
        procedure definition, but does have requirement that if a stored
        function begins with a label directly after the "returns"
        clause, that the label is not a quoted identifier.
      </p></li><li><p>
        Throw exceptions encountered during timeout to thread calling
        <code class="literal">Statement.execute*()</code>, rather than
        <code class="literal">RuntimeException</code>.
      </p></li><li><p>
        Changed cached result set metadata (when using
        <code class="literal">cacheResultSetMetadata=true</code>) to be cached
        per-connection rather than per-statement as previously
        implemented.
      </p></li><li><p>
        Reverted back to internal character conversion routines for
        single-byte character sets, as the ones internal to the JVM are
        using much more CPU time than our internal implementation.
      </p></li><li><p>
        When extracting foreign key information from
        <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> in
        <code class="literal">DatabaseMetaData</code>, ignore exceptions relating
        to tables being missing (which could happen for cross-reference
        or imported-key requests, as the list of tables is generated
        first, then iterated).
      </p></li><li><p>
        Fixed some Null Pointer Exceptions (NPEs) when cached metadata
        was used with <code class="literal">UpdatableResultSets</code>.
      </p></li><li><p>
        Take <code class="literal">localSocketAddress</code> property into account
        when creating instances of
        <code class="literal">CommunicationsException</code> when the underyling
        exception is a <code class="literal">java.net.BindException</code>, so
        that a friendlier error message is given with a little internal
        diagnostics.
      </p></li><li><p>
        Fixed cases where <code class="literal">ServerPreparedStatements</code>
        weren't using cached metadata when
        <code class="literal">cacheResultSetMetadata=true</code> was used.
      </p></li><li><p>
        Use a <code class="literal">java.util.TreeMap</code> to map column names
        to ordinal indexes for <code class="literal">ResultSet.findColumn()</code>
        instead of a HashMap. This allows us to have case-insensitive
        lookups (required by the JDBC specification) without resorting
        to the many transient object instances needed to support this
        requirement with a normal <code class="literal">HashMap</code> with either
        case-adjusted keys, or case-insensitive keys. (In the worst case
        scenario for lookups of a 1000 column result set, TreeMaps are
        about half as fast wall-clock time as a HashMap, however in
        normal applications their use gives many orders of magnitude
        reduction in transient object instance creation which pays off
        later for CPU usage in garbage collection).
      </p></li><li><p>
        When using cached metadata, skip field-level metadata packets
        coming from the server, rather than reading them and discarding
        them without creating <code class="literal">com.mysql.jdbc.Field</code>
        instances.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-4"></a>C.7.2.5. Changes in MySQL Connector/J 5.0.4 (20 October 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        DBMD.getColumns() does not return expected COLUMN_SIZE for the
        SET type, now returns length of largest possible set
        disregarding whitespace or the "," delimitters to be consistent
        with the ODBC driver.
       (<a href="http://bugs.mysql.com/22613" target="_top">Bug#22613</a>)</p></li><li><p>
        Added new _ci collations to CharsetMapping - utf8_unicode_ci not
        working.
       (<a href="http://bugs.mysql.com/22456" target="_top">Bug#22456</a>)</p></li><li><p>
        Driver was using milliseconds for Statement.setQueryTimeout()
        when specification says argument is to be in seconds.
       (<a href="http://bugs.mysql.com/22359" target="_top">Bug#22359</a>)</p></li><li><p>
        Workaround for server crash when calling stored procedures via a
        server-side prepared statement (driver now detects
        prepare(stored procedure) and substitutes client-side prepared
        statement).
       (<a href="http://bugs.mysql.com/22297" target="_top">Bug#22297</a>)</p></li><li><p>
        Driver issues truncation on write exception when it shouldn't
        (due to sending big decimal incorrectly to server with
        server-side prepared statement).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Newlines causing whitespace to span confuse procedure parser
        when getting parameter metadata for stored procedures.
       (<a href="http://bugs.mysql.com/22024" target="_top">Bug#22024</a>)</p></li><li><p>
        When using information_schema for metadata, COLUMN_SIZE for
        getColumns() is not clamped to range of java.lang.Integer as is
        the case when not using information_schema, thus leading to a
        truncation exception that isn't present when not using
        information_schema.
       (<a href="http://bugs.mysql.com/21544" target="_top">Bug#21544</a>)</p></li><li><p>
        Column names don't match metadata in cases where server doesn't
        return original column names (column functions) thus breaking
        compatibility with applications that expect 1-1 mappings between
        findColumn() and rsmd.getColumnName(), usually manifests itself
        as "Can't find column ('')" exceptions.
       (<a href="http://bugs.mysql.com/21379" target="_top">Bug#21379</a>)</p></li><li><p>
        Driver now sends numeric 1 or 0 for client-prepared statement
        <code class="literal">setBoolean()</code> calls instead of '1' or '0'.
      </p></li><li><p>
        Fixed configuration property
        <code class="literal">jdbcCompliantTruncation</code> was not being used
        for reads of result set values.
      </p></li><li><p>
        DatabaseMetaData correctly reports <code class="literal">true</code> for
        <code class="literal">supportsCatalog*()</code> methods.
      </p></li><li><p>
        Driver now supports <code class="literal">{call sp}</code> (without "()"
        if procedure has no arguments).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-3"></a>C.7.2.6. Changes in MySQL Connector/J 5.0.3 (26 July 2006 beta)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added configuration option
        <code class="literal">noAccessToProcedureBodies</code> which will cause
        the driver to create basic parameter metadata for
        <code class="literal">CallableStatements</code> when the user does not
        have access to procedure bodies via <a href="sql-syntax.html#show-create-procedure" title="12.5.6.11. SHOW CREATE PROCEDURE Syntax"><code class="literal">SHOW
        CREATE PROCEDURE</code></a> or selecting from
        <code class="literal">mysql.proc</code> instead of throwing an exception.
        The default value for this option is <code class="literal">false</code>
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">Statement.cancel()</code> causes
        <code class="literal">NullPointerException</code> if underlying connection
        has been closed due to server failure.
       (<a href="http://bugs.mysql.com/20650" target="_top">Bug#20650</a>)</p></li><li><p>
        If the connection to the server has been closed due to a server
        failure, then the cleanup process will call <code class="literal">
        Statement.cancel()</code>, triggering a
        <code class="literal">NullPointerException</code>, even though there is no
        active connection.
       (<a href="http://bugs.mysql.com/20650" target="_top">Bug#20650</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-2"></a>C.7.2.7. Changes in MySQL Connector/J 5.0.2 (11 July 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">MysqlXaConnection.recover(int flags)</code> now
        allows combinations of
        <code class="literal">XAResource.TMSTARTRSCAN</code> and
        <code class="literal">TMENDRSCAN</code>. To simulate the
        “<span class="quote">scanning</span>” nature of the interface, we return all
        prepared XIDs for <code class="literal">TMSTARTRSCAN</code>, and no new
        XIDs for calls with <code class="literal">TMNOFLAGS</code>, or
        <code class="literal">TMENDRSCAN</code> when not in combination with
        <code class="literal">TMSTARTRSCAN</code>. This change was made for API
        compliance, as well as integration with IBM WebSphere's
        transaction manager.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Fixed <code class="literal">MysqlValidConnectionChecker</code> for JBoss
        doesn't work with <code class="literal">MySQLXADataSources</code>.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Added connection/datasource property
        <code class="literal">pinGlobalTxToPhysicalConnection</code> (defaults to
        <code class="literal">false</code>). When set to <code class="literal">true</code>,
        when using <code class="literal">XAConnections</code>, the driver ensures
        that operations on a given XID are always routed to the same
        physical connection. This allows the
        <code class="literal">XAConnection</code> to support <code class="literal">XA START ...
        JOIN</code> after
        <a href="sql-syntax.html#xa-statements" title="12.4.7.1. XA Transaction SQL Syntax"><code class="literal">XA END</code></a>
        has been called, and is also a workaround for transaction
        managers that don't maintain thread affinity for a global
        transaction (most either always maintain thread affinity, or
        have it as a configuration option).
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Better caching of character set converters (per-connection) to
        remove a bottleneck for multibyte character sets.
       (<a href="http://bugs.mysql.com/20242" target="_top">Bug#20242</a>)</p></li><li><p>
        Fixed <code class="literal">ConnectionProperties</code> (and thus some
        subclasses) are not serializable, even though some J2EE
        containers expect them to be.
       (<a href="http://bugs.mysql.com/19169" target="_top">Bug#19169</a>)</p></li><li><p>
        Fixed driver fails on non-ASCII platforms. The driver was
        assuming that the platform character set would be a superset of
        MySQL's <code class="literal">latin1</code> when doing the handshake for
        authentication, and when reading error messages. We now use
        Cp1252 for all strings sent to the server during the handshake
        phase, and a hard-coded mapping of the
        <a href="server-administration.html#sysvar_language"><code class="literal">language</code></a> systtem variable to
        the character set that is used for error messages.
       (<a href="http://bugs.mysql.com/18086" target="_top">Bug#18086</a>)</p></li><li><p>
        Fixed can't use <code class="literal">XAConnection</code> for local
        transactions when no global transaction is in progress.
       (<a href="http://bugs.mysql.com/17401" target="_top">Bug#17401</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-1"></a>C.7.2.8. Changes in MySQL Connector/J 5.0.1 (Not Released)</h4></div></div></div><p>
        Not released due to a packaging error
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-5-0-0"></a>C.7.2.9. Changes in MySQL Connector/J 5.0.0 (22 December 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added support for Connector/MXJ integration via url subprotocol
        <code class="literal">jdbc:mysql:mxj://...</code>.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Idle timeouts cause <code class="literal">XAConnections</code> to whine
        about rolling themselves back.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        When fix for <a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a> was merged from 3.1.12, added
        functionality for <code class="literal">CallableStatement</code>'s
        parameter metadata to return correct information for
        <code class="literal">.getParameterClassName()</code>.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Added service-provider entry to
        <code class="filename">META-INF/services/java.sql.Driver</code> for
        JDBC-4.0 support.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Fuller synchronization of <code class="literal">Connection</code> to avoid
        deadlocks when using multithreaded frameworks that multithread a
        single connection (usually not recommended, but the JDBC spec
        allows it anyways), part of fix to <a href="http://bugs.mysql.com/14972" target="_top">Bug#14972</a>).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Moved all <code class="literal">SQLException</code> constructor usage to a
        factory in <code class="literal">SQLError</code> (ground-work for JDBC-4.0
        <code class="literal">SQLState</code>-based exception classes).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Removed Java5-specific calls to <code class="literal">BigDecimal</code>
        constructor (when result set value is <code class="literal">''</code>,
        <code class="literal">(int)0</code> was being used as an argument
        indirectly via method return value. This signature doesn't exist
        prior to Java5.)
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Implementation of <code class="literal">Statement.cancel()</code> and
        <code class="literal">Statement.setQueryTimeout()</code>. Both require
        MySQL-5.0.0 or newer server, require a separate connection to
        issue the <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><code class="literal">KILL
        QUERY</code></a> statement, and in the case of
        <code class="literal">setQueryTimeout()</code> creates an additional
        thread to handle the timeout functionality.
      </p><p>
        Note: Failures to cancel the statement for
        <code class="literal">setQueryTimeout()</code> may manifest themselves as
        <code class="literal">RuntimeExceptions</code> rather than failing
        silently, as there is currently no way to unblock the thread
        that is executing the query being cancelled due to timeout
        expiration and have it throw the exception instead.
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Return "[VAR]BINARY" for
        <code class="literal">RSMD.getColumnTypeName()</code> when that is
        actually the type, and it can be distinguished (MySQL-4.1 and
        newer).
       (<a href="http://bugs.mysql.com/14729" target="_top">Bug#14729</a>)</p></li><li><p>
        Attempt detection of the MySQL type
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> (it is an alias, so this
        isn't always reliable), and use the
        <code class="literal">java.sql.Types.BINARY</code> type mapping for it.
      </p></li><li><p>
        Added unit tests for <code class="literal">XADatasource</code>, as well as
        friendlier exceptions for XA failures compared to the "stock"
        <code class="literal">XAException</code> (which has no messages).
      </p></li><li><p>
        If the connection <code class="literal">useTimezone</code> is set to
        <code class="literal">true</code>, then also respect time zone conversions
        in escape-processed string literals (for example, <code class="literal">"{ts
        ...}"</code> and <code class="literal">"{t ...}"</code>).
      </p></li><li><p>
        Don't allow <code class="literal">.setAutoCommit(true)</code>, or
        <code class="literal">.commit()</code> or <code class="literal">.rollback()</code>
        on an XA-managed connection as per the JDBC specification.
      </p></li><li><p>
        <code class="literal">XADataSource</code> implemented (ported from 3.2
        branch which won't be released as a product). Use
        <code class="literal">com.mysql.jdbc.jdbc2.optional.MysqlXADataSource</code>
        as your datasource class name in your application server to
        utilize XA transactions in MySQL-5.0.10 and newer.
      </p></li><li><p>
        Moved <code class="filename">-bin-g.jar</code> file into separate
        <code class="filename">debug</code> subdirectory to avoid confusion.
      </p></li><li><p>
        Return original column name for
        <code class="literal">RSMD.getColumnName()</code> if the column was
        aliased, alias name for <code class="literal">.getColumnLabel()</code> (if
        aliased), and original table name for
        <code class="literal">.getTableName()</code>. Note this only works for
        MySQL-4.1 and newer, as older servers don't make this
        information available to clients.
      </p></li><li><p>
        Setting <code class="literal">useJDBCCompliantTimezoneShift=true</code>
        (it is not the default) causes the driver to use GMT for
        <span class="emphasis"><em>all</em></span>
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>/<a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>
        time zones, and the current VM time zone for any other type that
        refers to time zones. This feature can not be used when
        <code class="literal">useTimezone=true</code> to convert between server
        and client time zones.
      </p></li><li><p>
        <code class="literal">PreparedStatement.setString()</code> didn't work
        correctly when <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> on
        server contained
        <a href="server-administration.html#sqlmode_no_backslash_escapes"><code class="literal">NO_BACKSLASH_ESCAPES</code></a> and no
        characters that needed escaping were present in the string.
      </p></li><li><p>
        Add one level of indirection of internal representation of
        <code class="literal">CallableStatement</code> parameter metadata to avoid
        class not found issues on JDK-1.3 for
        <code class="literal">ParameterMetadata</code> interface (which doesn't
        exist prior to JDBC-3.0).
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-3-1"></a>C.7.3. Changes in MySQL Connector/J 3.1.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-3-1-15">C.7.3.1. Changes in MySQL Connector/J 3.1.15 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-14">C.7.3.2. Changes in MySQL Connector/J 3.1.14 (10-19-2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-13">C.7.3.3. Changes in MySQL Connector/J 3.1.13 (26 May 2006)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-12">C.7.3.4. Changes in MySQL Connector/J 3.1.12 (30 November 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-11">C.7.3.5. Changes in MySQL Connector/J 3.1.11 (07 October 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-10">C.7.3.6. Changes in MySQL Connector/J 3.1.10 (23 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-9">C.7.3.7. Changes in MySQL Connector/J 3.1.9 (22 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-8">C.7.3.8. Changes in MySQL Connector/J 3.1.8 (14 April 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-7">C.7.3.9. Changes in MySQL Connector/J 3.1.7 (18 February 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-6">C.7.3.10. Changes in MySQL Connector/J 3.1.6 (23 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-5">C.7.3.11. Changes in MySQL Connector/J 3.1.5 (02 December 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-4">C.7.3.12. Changes in MySQL Connector/J 3.1.4 (04 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-3">C.7.3.13. Changes in MySQL Connector/J 3.1.3 (07 July 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-2">C.7.3.14. Changes in MySQL Connector/J 3.1.2 (09 June 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-1">C.7.3.15. Changes in MySQL Connector/J 3.1.1 (14 February 2004 alpha)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-1-0">C.7.3.16. Changes in MySQL Connector/J 3.1.0 (18 February 2003 alpha)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-15"></a>C.7.3.1. Changes in MySQL Connector/J 3.1.15 (Not yet released)</h4></div></div></div><p>
        <span class="bold"><strong>Important change:</strong></span> Due to a
        number of issues with the use of server-side prepared
        statements, Connector/J 5.0.5 has disabled their use by default.
        The disabling of server-side prepared statements does not affect
        the operation of the connector in any way.
      </p><p>
        To enable server-side prepared statements you must add the
        following configuration property to your connector string:
      </p><pre class="programlisting">useServerPrepStmts=true</pre><p>
        The default value of this property is <code class="literal">false</code>
        (that is, Connector/J does not use server-side prepared
        statements).
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Specifying <code class="literal">US-ASCII</code> as the character set in a
        connection to a MySQL 4.1 or newer server does not map
        correctly.
       (<a href="http://bugs.mysql.com/24840" target="_top">Bug#24840</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-14"></a>C.7.3.2. Changes in MySQL Connector/J 3.1.14 (10-19-2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Check and store value for continueBatchOnError property in
        constructor of Statements, rather than when executing batches,
        so that Connections closed out from underneath statements don't
        cause NullPointerExceptions when it is required to check this
        property.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed <a href="http://bugs.mysql.com/18258" target="_top">Bug#18258</a> - DatabaseMetaData.getTables(), columns() with
        bad catalog parameter threw exception rather than return empty
        result set (as required by spec).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Driver now sends numeric 1 or 0 for client-prepared statement
        setBoolean() calls instead of '1' or '0'.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed bug where driver would not advance to next host if
        roundRobinLoadBalance=true and the last host in the list is
        down.
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Driver issues truncation on write exception when it shouldn't
        (due to sending big decimal incorrectly to server with
        server-side prepared statement).
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Fixed bug when calling stored functions, where parameters
        weren't numbered correctly (first parameter is now the return
        value, subsequent parameters if specified start at index "2").
       (<a href="http://bugs.mysql.com/22290" target="_top">Bug#22290</a>)</p></li><li><p>
        Removed logger autodetection altogether, must now specify logger
        explicitly if you want to use a logger other than one that logs
        to STDERR.
       (<a href="http://bugs.mysql.com/21207" target="_top">Bug#21207</a>)</p></li><li><p>
        DDriver throws NPE when tracing prepared statements that have
        been closed (in asSQL()).
       (<a href="http://bugs.mysql.com/21207" target="_top">Bug#21207</a>)</p></li><li><p>
        ResultSet.getSomeInteger() doesn't work for BIT(&gt;1).
       (<a href="http://bugs.mysql.com/21062" target="_top">Bug#21062</a>)</p></li><li><p>
        Escape of quotes in client-side prepared statements parsing not
        respected. Patch covers more than bug report, including
        NO_BACKSLASH_ESCAPES being set, and stacked quote characters
        forms of escaping (that is, '' or "").
       (<a href="http://bugs.mysql.com/20888" target="_top">Bug#20888</a>)</p></li><li><p>
        Fixed can't pool server-side prepared statements, exception
        raised when re-using them.
       (<a href="http://bugs.mysql.com/20687" target="_top">Bug#20687</a>)</p></li><li><p>
        Fixed Updatable result set that contains a BIT column fails when
        server-side prepared statements are used.
       (<a href="http://bugs.mysql.com/20485" target="_top">Bug#20485</a>)</p></li><li><p>
        Fixed updatable result set throws ClassCastException when there
        is row data and moveToInsertRow() is called.
       (<a href="http://bugs.mysql.com/20479" target="_top">Bug#20479</a>)</p></li><li><p>
        Fixed ResultSet.getShort() for UNSIGNED TINYINT returns
        incorrect values when using server-side prepared statements.
       (<a href="http://bugs.mysql.com/20306" target="_top">Bug#20306</a>)</p></li><li><p>
        ReplicationDriver does not always round-robin load balance
        depending on URL used for slaves list.
       (<a href="http://bugs.mysql.com/19993" target="_top">Bug#19993</a>)</p></li><li><p>
        Fixed calling toString() on ResultSetMetaData for
        driver-generated (that is, from DatabaseMetaData method calls,
        or from getGeneratedKeys()) result sets would raise a
        NullPointerException.
       (<a href="http://bugs.mysql.com/19993" target="_top">Bug#19993</a>)</p></li><li><p>
        Connection fails to localhost when using timeout and IPv6 is
        configured.
       (<a href="http://bugs.mysql.com/19726" target="_top">Bug#19726</a>)</p></li><li><p>
        ResultSet.getFloatFromString() can't retrieve values near
        Float.MIN/MAX_VALUE.
       (<a href="http://bugs.mysql.com/18880" target="_top">Bug#18880</a>)</p></li><li><p>
        Fixed memory leak with profileSQL=true.
       (<a href="http://bugs.mysql.com/16987" target="_top">Bug#16987</a>)</p></li><li><p>
        Fixed NullPointerException in MysqlDataSourceFactory due to
        Reference containing RefAddrs with null content.
       (<a href="http://bugs.mysql.com/16791" target="_top">Bug#16791</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-13"></a>C.7.3.3. Changes in MySQL Connector/J 3.1.13 (26 May 2006)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">Fixed PreparedStatement.setObject(int, Object,
        int)</code> doesn't respect scale of BigDecimals.
       (<a href="http://bugs.mysql.com/19615" target="_top">Bug#19615</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.wasNull()</code> returns incorrect
        value when extracting native string from server-side prepared
        statement generated result set.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed invalid classname returned for
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> for
        <code class="literal">BIGINT type</code>.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed case where driver wasn't reading server status correctly
        when fetching server-side prepared statement rows, which in some
        cases could cause warning counts to be off, or multiple result
        sets to not be read off the wire.
       (<a href="http://bugs.mysql.com/19282" target="_top">Bug#19282</a>)</p></li><li><p>
        Fixed data truncation and <code class="literal">getWarnings()</code> only
        returns last warning in set.
       (<a href="http://bugs.mysql.com/18740" target="_top">Bug#18740</a>)</p></li><li><p>
        Fixed aliased column names where length of name &gt; 251 are
        corrupted.
       (<a href="http://bugs.mysql.com/18554" target="_top">Bug#18554</a>)</p></li><li><p>
        Improved performance of retrieving
        <code class="literal">BigDecimal</code>, <code class="literal">Time</code>,
        <code class="literal">Timestamp</code> and <code class="literal">Date</code> values
        from server-side prepared statements by creating fewer
        short-lived instances of <code class="literal">Strings</code> when the
        native type is not an exact match for the requested type.
       (<a href="http://bugs.mysql.com/18496" target="_top">Bug#18496</a>)</p></li><li><p>
        Added performance feature, re-writing of batched executes for
        <code class="literal">Statement.executeBatch()</code> (for all DML
        statements) and
        <code class="literal">PreparedStatement.executeBatch()</code> (for INSERTs
        with VALUE clauses only). Enable by using
        "rewriteBatchedStatements=true" in your JDBC URL.
       (<a href="http://bugs.mysql.com/18041" target="_top">Bug#18041</a>)</p></li><li><p>
        Fixed issue where server-side prepared statements don't cause
        truncation exceptions to be thrown when truncation happens.
       (<a href="http://bugs.mysql.com/18041" target="_top">Bug#18041</a>)</p></li><li><p>
        Fixed
        <code class="literal">CallableStatement.registerOutParameter()</code> not
        working when some parameters pre-populated. Still waiting for
        feedback from JDBC experts group to determine what correct
        parameter count from <code class="literal">getMetaData()</code> should be,
        however.
       (<a href="http://bugs.mysql.com/17898" target="_top">Bug#17898</a>)</p></li><li><p>
        Fixed calling <code class="literal">clearParameters()</code> on a closed
        prepared statement causes NPE.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Map "latin1" on MySQL server to CP1252 for MySQL &gt; 4.1.0.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Added additional accessor and mutator methods on
        ConnectionProperties so that DataSource users can use same
        naming as regular URL properties.
       (<a href="http://bugs.mysql.com/17587" target="_top">Bug#17587</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.wasNull()</code> not always reset
        correctly for booleans when done via conversion for server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/17450" target="_top">Bug#17450</a>)</p></li><li><p>
        Fixed <code class="literal">Statement.getGeneratedKeys()</code> throws
        <code class="literal">NullPointerException</code> when no query has been
        processed.
       (<a href="http://bugs.mysql.com/17099" target="_top">Bug#17099</a>)</p></li><li><p>
        Fixed updatable result set doesn't return
        <code class="literal">AUTO_INCREMENT</code> values for
        <code class="literal">insertRow()</code> when multiple column primary keys
        are used. (the driver was checking for the existence of
        single-column primary keys and an autoincrement value &gt; 0
        instead of a straightforward
        <code class="literal">isAutoIncrement()</code> check).
       (<a href="http://bugs.mysql.com/16841" target="_top">Bug#16841</a>)</p></li><li><p>
        <code class="literal">DBMD.getColumns()</code> returns wrong type for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>.
       (<a href="http://bugs.mysql.com/15854" target="_top">Bug#15854</a>)</p></li><li><p>
        <code class="filename">lib-nodist</code> directory missing from package
        breaks out-of-box build.
       (<a href="http://bugs.mysql.com/15676" target="_top">Bug#15676</a>)</p></li><li><p>
        Fixed issue with <code class="literal">ReplicationConnection</code>
        incorrectly copying state, doesn't transfer connection context
        correctly when transitioning between the same read-only states.
       (<a href="http://bugs.mysql.com/15570" target="_top">Bug#15570</a>)</p></li><li><p>
        No "dos" character set in MySQL &gt; 4.1.0.
       (<a href="http://bugs.mysql.com/15544" target="_top">Bug#15544</a>)</p></li><li><p>
        <code class="literal">INOUT</code> parameter does not store
        <code class="literal">IN</code> value.
       (<a href="http://bugs.mysql.com/15464" target="_top">Bug#15464</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.setObject()</code> serializes
        <code class="literal">BigInteger</code> as object, rather than sending as
        numeric value (and is thus not complementary to
        <code class="literal">.getObject()</code> on an <code class="literal">UNSIGNED
        LONG</code> type).
       (<a href="http://bugs.mysql.com/15383" target="_top">Bug#15383</a>)</p></li><li><p>
        Fixed issue where driver was unable to initialize character set
        mapping tables. Removed reliance on
        <code class="literal">.properties</code> files to hold this information,
        as it turns out to be too problematic to code around class
        loader hierarchies that change depending on how an application
        is deployed. Moved information back into the
        <code class="literal">CharsetMapping</code> class.
       (<a href="http://bugs.mysql.com/14938" target="_top">Bug#14938</a>)</p></li><li><p>
        Exception thrown for new decimal type when using updatable
        result sets.
       (<a href="http://bugs.mysql.com/14609" target="_top">Bug#14609</a>)</p></li><li><p>
        Driver now aware of fix for <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>
        type metadata that went into MySQL-5.0.21 for server not
        reporting length consistently .
       (<a href="http://bugs.mysql.com/13601" target="_top">Bug#13601</a>)</p></li><li><p>
        Added support for Apache Commons logging, use
        "com.mysql.jdbc.log.CommonsLogger" as the value for the "logger"
        configuration property.
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        Fixed driver trying to call methods that don't exist on older
        and newer versions of Log4j. The fix is not trying to
        auto-detect presence of log4j, too many different incompatible
        versions out there in the wild to do this reliably.
      </p><p>
        If you relied on autodetection before, you will need to add
        "logger=com.mysql.jdbc.log.Log4JLogger" to your JDBC URL to
        enable Log4J usage, or alternatively use the new "CommonsLogger"
        class to take care of this.
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        LogFactory now prepends "com.mysql.jdbc.log" to log class name
        if it can't be found as-specified. This allows you to use "short
        names" for the built-in log factories, for example
        "logger=CommonsLogger" instead of
        "logger=com.mysql.jdbc.log.CommonsLogger".
       (<a href="http://bugs.mysql.com/13469" target="_top">Bug#13469</a>)</p></li><li><p>
        <code class="literal">ResultSet.getShort()</code> for <code class="literal">UNSIGNED
        TINYINT</code> returned wrong values.
       (<a href="http://bugs.mysql.com/11874" target="_top">Bug#11874</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-12"></a>C.7.3.4. Changes in MySQL Connector/J 3.1.12 (30 November 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Process escape tokens in
        <code class="literal">Connection.prepareStatement(...)</code>. You can
        disable this behavior by setting the JDBC URL configuration
        property <code class="literal">processEscapeCodesForPrepStmts</code> to
        <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/15141" target="_top">Bug#15141</a>)</p></li><li><p>
        Usage advisor complains about unreferenced columns, even though
        they've been referenced.
       (<a href="http://bugs.mysql.com/15065" target="_top">Bug#15065</a>)</p></li><li><p>
        Driver incorrectly closes streams passed as arguments to
        <code class="literal">PreparedStatements</code>. Reverts to legacy
        behavior by setting the JDBC configuration property
        <code class="literal">autoClosePStmtStreams</code> to
        <code class="literal">true</code> (also included in the 3-0-Compat
        configuration “<span class="quote">bundle</span>”).
       (<a href="http://bugs.mysql.com/15024" target="_top">Bug#15024</a>)</p></li><li><p>
        Deadlock while closing server-side prepared statements from
        multiple threads sharing one connection.
       (<a href="http://bugs.mysql.com/14972" target="_top">Bug#14972</a>)</p></li><li><p>
        Unable to initialize character set mapping tables (due to J2EE
        classloader differences).
       (<a href="http://bugs.mysql.com/14938" target="_top">Bug#14938</a>)</p></li><li><p>
        Escape processor replaces quote character in quoted string with
        string delimiter.
       (<a href="http://bugs.mysql.com/14909" target="_top">Bug#14909</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> doesn't return
        <code class="literal">TABLE_NAME</code> correctly.
       (<a href="http://bugs.mysql.com/14815" target="_top">Bug#14815</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseQuotedIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        If <code class="literal">lower_case_table_names=0</code> (on server):
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">storesLowerCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
            returns <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseIdentifiers()</code> returns
            <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesUpperCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesUpperCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        If <code class="literal">lower_case_table_names=1</code> (on server):
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">storesLowerCaseIdentifiers()</code> returns
            <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
            returns <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseIdentifiers()</code> returns
            <code class="literal">false</code>
          </p></li><li><p>
            <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
            returns <code class="literal">true</code>
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseQuotedIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.stores*Identifiers()</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            If <code class="literal">lower_case_table_names=0</code> (on server):
          </p><div class="itemizedlist"><ul type="square"><li><p>
                <code class="literal">storesLowerCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
                returns <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseIdentifiers()</code> returns
                <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li></ul></div></li><li><p>
            If <code class="literal">lower_case_table_names=1</code> (on server):
          </p><div class="itemizedlist"><ul type="square"><li><p>
                <code class="literal">storesLowerCaseIdentifiers()</code> returns
                <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesLowerCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesMixedCaseQuotedIdentifiers()</code>
                returns <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseIdentifiers()</code> returns
                <code class="literal">false</code>
              </p></li><li><p>
                <code class="literal">storesUpperCaseQuotedIdentifiers()</code>
                returns <code class="literal">true</code>
              </p></li></ul></div></li></ul></div><p>(<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesMixedCaseIdentifiers()</code> returns
        <code class="literal">true</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseQuotedIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Java type conversion may be incorrect for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">MEDIUMINT</code></a>.
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        <code class="literal">storesLowerCaseIdentifiers()</code> returns
        <code class="literal">false</code>
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Added configuration property
        <code class="literal">useGmtMillisForDatetimes</code> which when set to
        <code class="literal">true</code> causes
        <code class="literal">ResultSet.getDate()</code>,
        <code class="literal">.getTimestamp()</code> to return correct
        millis-since GMT when <code class="literal">.getTime()</code> is called on
        the return value (currently default is <code class="literal">false</code>
        for legacy behavior).
       (<a href="http://bugs.mysql.com/14562" target="_top">Bug#14562</a>)</p></li><li><p>
        Extraneous sleep on <code class="literal">autoReconnect</code>.
       (<a href="http://bugs.mysql.com/13775" target="_top">Bug#13775</a>)</p></li><li><p>
        Reconnect during middle of <code class="literal">executeBatch()</code>
        should not occur if <code class="literal">autoReconnect</code> is enabled.
       (<a href="http://bugs.mysql.com/13255" target="_top">Bug#13255</a>)</p></li><li><p>
        <code class="literal">maxQuerySizeToLog</code> is not respected. Added
        logging of bound values for <code class="literal">execute()</code> phase
        of server-side prepared statements when
        <code class="literal">profileSQL=true</code> as well.
       (<a href="http://bugs.mysql.com/13048" target="_top">Bug#13048</a>)</p></li><li><p>
        OpenOffice expects
        <code class="literal">DBMD.supportsIntegrityEnhancementFacility()</code>
        to return <code class="literal">true</code> if foreign keys are supported
        by the datasource, even though this method also covers support
        for check constraints, which MySQL <span class="emphasis"><em>doesn't</em></span>
        have. Setting the configuration property
        <code class="literal">overrideSupportsIntegrityEnhancementFacility</code>
        to <code class="literal">true</code> causes the driver to return
        <code class="literal">true</code> for this method.
       (<a href="http://bugs.mysql.com/12975" target="_top">Bug#12975</a>)</p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.testsuite.url.default</code>
        system property to set default JDBC url for testsuite (to speed
        up bug resolution when I'm working in Eclipse).
       (<a href="http://bugs.mysql.com/12975" target="_top">Bug#12975</a>)</p></li><li><p>
        <code class="literal">logSlowQueries</code> should give better info.
       (<a href="http://bugs.mysql.com/12230" target="_top">Bug#12230</a>)</p></li><li><p>
        Don't increase timeout for failover/reconnect.
       (<a href="http://bugs.mysql.com/6577" target="_top">Bug#6577</a>)</p></li><li><p>
        Fixed client-side prepared statement bug with embedded
        <code class="literal">?</code> characters inside quoted identifiers (it
        was recognized as a placeholder, when it was not).
      </p></li><li><p>
        Don't allow <code class="literal">executeBatch()</code> for
        <code class="literal">CallableStatements</code> with registered
        <code class="literal">OUT</code>/<code class="literal">INOUT</code> parameters (JDBC
        compliance).
      </p></li><li><p>
        Fall back to platform-encoding for
        <code class="literal">URLDecoder.decode()</code> when parsing driver URL
        properties if the platform doesn't have a two-argument version
        of this method.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-11"></a>C.7.3.5. Changes in MySQL Connector/J 3.1.11 (07 October 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The configuration property <code class="literal">sessionVariables</code>
        now allows you to specify variables that start with the
        “<span class="quote"><code class="literal">@</code></span>” sign.
       (<a href="http://bugs.mysql.com/13453" target="_top">Bug#13453</a>)</p></li><li><p>
        URL configuration parameters don't allow
        “<span class="quote"><code class="literal">&amp;</code></span>” or
        “<span class="quote"><code class="literal">=</code></span>” in their values. The JDBC
        driver now parses configuration parameters as if they are
        encoded using the application/x-www-form-urlencoded format as
        specified by <code class="literal">java.net.URLDecoder</code>
        (<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLDecoder.html" target="_top">http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLDecoder.html</a>).
      </p><p>
        If the “<span class="quote"><code class="literal">%</code></span>” character is present
        in a configuration property, it must now be represented as
        <code class="literal">%25</code>, which is the encoded form of
        “<span class="quote"><code class="literal">%</code></span>” when using
        application/x-www-form-urlencoded encoding.
       (<a href="http://bugs.mysql.com/13453" target="_top">Bug#13453</a>)</p></li><li><p>
        Workaround for <a href="http://bugs.mysql.com/13374" target="_top">Bug#13374</a>:
        <code class="literal">ResultSet.getStatement()</code> on closed result set
        returns <code class="literal">NULL</code> (as per JDBC 4.0 spec, but not
        backward-compatible). Set the connection property
        <code class="literal">retainStatementAfterResultSetClose</code> to
        <code class="literal">true</code> to be able to retrieve a
        <code class="literal">ResultSet</code>'s statement after the
        <code class="literal">ResultSet</code> has been closed via
        <code class="literal">.getStatement()</code> (the default is
        <code class="literal">false</code>, to be JDBC-compliant and to reduce the
        chance that code using JDBC leaks <code class="literal">Statement</code>
        instances).
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData</code> from
        <code class="literal">Statement.getGeneratedKeys()</code> caused a
        <code class="literal">NullPointerException</code> to be thrown whenever a
        method that required a connection reference was called.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Backport of <code class="literal">VAR[BINARY|CHAR] [BINARY]</code> types
        detection from 5.0 branch.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Fixed <code class="literal">NullPointerException</code> when converting
        <code class="literal">catalog</code> parameter in many
        <code class="literal">DatabaseMetaDataMethods</code> to
        <code class="literal">byte[]</code>s (for the result set) when the
        parameter is <code class="literal">null</code>. (<code class="literal">null</code>
        isn't technically allowed by the JDBC specification, but we've
        historically allowed it).
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Backport of <code class="literal">Field</code> class,
        <code class="literal">ResultSetMetaData.getColumnClassName()</code>, and
        <code class="literal">ResultSet.getObject(int)</code> changes from 5.0
        branch to fix behavior surrounding <code class="literal">VARCHAR
        BINARY</code>/<a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> and
        related types.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        Read response in <code class="literal">MysqlIO.sendFileToServer()</code>,
        even if the local file can't be opened, otherwise next query
        issued will fail, because it is reading the response to the
        empty <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA
        INFILE</code></a> packet sent to the server.
       (<a href="http://bugs.mysql.com/13277" target="_top">Bug#13277</a>)</p></li><li><p>
        When <code class="literal">gatherPerfMetrics</code> is enabled for servers
        older than 4.1.0, a <code class="literal">NullPointerException</code> is
        thrown from the constructor of <code class="literal">ResultSet</code> if
        the query doesn't use any tables.
       (<a href="http://bugs.mysql.com/13043" target="_top">Bug#13043</a>)</p></li><li><p>
        <code class="literal">java.sql.Types.OTHER</code> returned for
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> and
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> columns when using
        <code class="literal">DatabaseMetaData.getColumns()</code>.
       (<a href="http://bugs.mysql.com/12970" target="_top">Bug#12970</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatement.getBinding()</code> now
        checks if the statement is closed before attempting to reference
        the list of parameter bindings, to avoid throwing a
        <code class="literal">NullPointerException</code>.
       (<a href="http://bugs.mysql.com/12970" target="_top">Bug#12970</a>)</p></li><li><p>
        Tokenizer for <code class="literal">=</code> in URL properties was causing
        <code class="literal">sessionVariables=....</code> to be parameterized
        incorrectly.
       (<a href="http://bugs.mysql.com/12753" target="_top">Bug#12753</a>)</p></li><li><p>
        <code class="literal">cp1251</code> incorrectly mapped to
        <code class="literal">win1251</code> for servers newer than 4.0.x.
       (<a href="http://bugs.mysql.com/12752" target="_top">Bug#12752</a>)</p></li><li><p>
        <code class="literal">getExportedKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying a catalog works as stated in the API docs.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying <code class="literal">NULL</code> means that catalog will not
        be used to filter the results (thus all databases will be
        searched), unless you've set
        <code class="literal">nullCatalogMeansCurrent=true</code> in your JDBC URL
        properties.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getIndexInfo()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getProcedures()</code> (and thus indirectly
        <code class="literal">getProcedureColumns()</code>)
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getImportedKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Specifying <code class="literal">""</code> means “<span class="quote">current</span>”
        catalog, even though this isn't quite JDBC spec compliant, it is
        there for legacy users.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getCrossReference()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Added <code class="literal">Connection.isMasterConnection()</code> for
        clients to be able to determine if a multi-host master/slave
        connection is connected to the first host in the list.
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getColumns()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Handling of catalog argument in
        <code class="literal">DatabaseMetaData.getIndexInfo()</code>, which also
        means changes to the following methods in
        <code class="literal">DatabaseMetaData</code>:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">getBestRowIdentifier()</code>
          </p></li><li><p>
            <code class="literal">getColumns()</code>
          </p></li><li><p>
            <code class="literal">getCrossReference()</code>
          </p></li><li><p>
            <code class="literal">getExportedKeys()</code>
          </p></li><li><p>
            <code class="literal">getImportedKeys()</code>
          </p></li><li><p>
            <code class="literal">getIndexInfo()</code>
          </p></li><li><p>
            <code class="literal">getPrimaryKeys()</code>
          </p></li><li><p>
            <code class="literal">getProcedures()</code> (and thus indirectly
            <code class="literal">getProcedureColumns()</code>)
          </p></li><li><p>
            <code class="literal">getTables()</code>
          </p></li></ul></div><p>
        The <code class="literal">catalog</code> argument in all of these methods
        now behaves in the following way:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Specifying <code class="literal">NULL</code> means that catalog will
            not be used to filter the results (thus all databases will
            be searched), unless you've set
            <code class="literal">nullCatalogMeansCurrent=true</code> in your JDBC
            URL properties.
          </p></li><li><p>
            Specifying <code class="literal">""</code> means
            “<span class="quote">current</span>” catalog, even though this isn't quite
            JDBC spec compliant, it is there for legacy users.
          </p></li><li><p>
            Specifying a catalog works as stated in the API docs.
          </p></li><li><p>
            Made <code class="literal">Connection.clientPrepare()</code> available
            from “<span class="quote">wrapped</span>” connections in the
            <code class="literal">jdbc2.optional</code> package (connections built
            by <code class="literal">ConnectionPoolDataSource</code> instances).
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getBestRowIdentifier()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        Made <code class="literal">Connection.clientPrepare()</code> available
        from “<span class="quote">wrapped</span>” connections in the
        <code class="literal">jdbc2.optional</code> package (connections built by
        <code class="literal">ConnectionPoolDataSource</code> instances).
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getTables()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">getPrimaryKeys()</code>
       (<a href="http://bugs.mysql.com/12541" target="_top">Bug#12541</a>)</p></li><li><p>
        <code class="literal">Connection.prepareCall()</code> is database name
        case-sensitive (on Windows systems).
       (<a href="http://bugs.mysql.com/12417" target="_top">Bug#12417</a>)</p></li><li><p>
        <code class="literal">explainSlowQueries</code> hangs with server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/12229" target="_top">Bug#12229</a>)</p></li><li><p>
        Properties shared between master and slave with replication
        connection.
       (<a href="http://bugs.mysql.com/12218" target="_top">Bug#12218</a>)</p></li><li><p>
        Geometry types not handled with server-side prepared statements.
       (<a href="http://bugs.mysql.com/12104" target="_top">Bug#12104</a>)</p></li><li><p>
        <code class="literal">maxPerformance.properties</code> mis-spells
        “<span class="quote">elideSetAutoCommits</span>”.
       (<a href="http://bugs.mysql.com/11976" target="_top">Bug#11976</a>)</p></li><li><p>
        <code class="literal">ReplicationConnection</code> won't switch to slave,
        throws “<span class="quote">Catalog can't be null</span>” exception.
       (<a href="http://bugs.mysql.com/11879" target="_top">Bug#11879</a>)</p></li><li><p>
        <code class="literal">Pstmt.setObject(...., Types.BOOLEAN)</code> throws
        exception.
       (<a href="http://bugs.mysql.com/11798" target="_top">Bug#11798</a>)</p></li><li><p>
        Escape tokenizer doesn't respect stacked single quotes for
        escapes.
       (<a href="http://bugs.mysql.com/11797" target="_top">Bug#11797</a>)</p></li><li><p>
        <code class="literal">GEOMETRY</code> type not recognized when using
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/11797" target="_top">Bug#11797</a>)</p></li><li><p>
        Foreign key information that is quoted is parsed incorrectly
        when <code class="literal">DatabaseMetaData</code> methods use that
        information.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        The <code class="literal">sendBlobChunkSize</code> property is now clamped
        to <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> with
        consideration of stream buffer size and packet headers to avoid
        <code class="literal">PacketTooBigExceptions</code> when
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> is similar
        in size to the default <code class="literal">sendBlobChunkSize</code>
        which is 1M.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        <code class="literal">CallableStatement.clearParameters()</code> now
        clears resources associated with
        <code class="literal">INOUT</code>/<code class="literal">OUTPUT</code> parameters as
        well as <code class="literal">INPUT</code> parameters.
       (<a href="http://bugs.mysql.com/11781" target="_top">Bug#11781</a>)</p></li><li><p>
        Fixed regression caused by fix for <a href="http://bugs.mysql.com/11552" target="_top">Bug#11552</a> that caused driver
        to return incorrect values for unsigned integers when those
        integers where within the range of the positive signed type.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Moved source code to Subversion repository.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Incorrect generation of testcase scripts for server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/11663" target="_top">Bug#11663</a>)</p></li><li><p>
        Fixed statements generated for testcases missing
        <code class="literal">;</code> for “<span class="quote">plain</span>” statements.
       (<a href="http://bugs.mysql.com/11629" target="_top">Bug#11629</a>)</p></li><li><p>
        Spurious <code class="literal">!</code> on console when character encoding
        is <code class="literal">utf8</code>.
       (<a href="http://bugs.mysql.com/11629" target="_top">Bug#11629</a>)</p></li><li><p>
        <code class="literal">StringUtils.getBytes()</code> doesn't work when
        using multi-byte character encodings and a length in
        <span class="emphasis"><em>characters</em></span> is specified.
       (<a href="http://bugs.mysql.com/11614" target="_top">Bug#11614</a>)</p></li><li><p>
        <code class="literal">DBMD.storesLower/Mixed/UpperIdentifiers()</code>
        reports incorrect values for servers deployed on Windows.
       (<a href="http://bugs.mysql.com/11575" target="_top">Bug#11575</a>)</p></li><li><p>
        Reworked <code class="literal">Field</code> class,
        <code class="literal">*Buffer</code>, and <code class="literal">MysqlIO</code> to be
        aware of field lengths &gt;
        <code class="literal">Integer.MAX_VALUE</code>.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Escape processor didn't honor strings demarcated with double
        quotes.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Updated <code class="literal">DBMD.supportsCorrelatedQueries()</code> to
        return <code class="literal">true</code> for versions &gt; 4.1,
        <code class="literal">supportsGroupByUnrelated()</code> to return
        <code class="literal">true</code> and
        <code class="literal">getResultSetHoldability()</code> to return
        <code class="literal">HOLD_CURSORS_OVER_COMMIT</code>.
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        Lifted restriction of changing streaming parameters with
        server-side prepared statements. As long as
        <code class="literal">all</code> streaming parameters were set before
        execution, <code class="literal">.clearParameters()</code> does not have
        to be called. (due to limitation of client/server protocol,
        prepared statements can not reset
        <span class="emphasis"><em>individual</em></span> stream data on the server side).
       (<a href="http://bugs.mysql.com/11498" target="_top">Bug#11498</a>)</p></li><li><p>
        <code class="literal">ResultSet.moveToCurrentRow()</code> fails to work
        when preceded by a call to
        <code class="literal">ResultSet.moveToInsertRow()</code>.
       (<a href="http://bugs.mysql.com/11190" target="_top">Bug#11190</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> data corrupted when
        using server-side prepared statements and
        <code class="literal">.setBytes()</code>.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">Statement.getWarnings()</code> fails with NPE if
        statement has been closed.
       (<a href="http://bugs.mysql.com/10630" target="_top">Bug#10630</a>)</p></li><li><p>
        Only get <code class="literal">char[]</code> from SQL in
        <code class="literal">PreparedStatement.ParseInfo()</code> when needed.
       (<a href="http://bugs.mysql.com/10630" target="_top">Bug#10630</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-10"></a>C.7.3.6. Changes in MySQL Connector/J 3.1.10 (23 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Initial implemention of <code class="literal">ParameterMetadata</code> for
        <code class="literal">PreparedStatement.getParameterMetadata()</code>.
        Only works fully for <code class="literal">CallableStatements</code>, as
        current server-side prepared statements return every parameter
        as a <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a> type.
      </p></li><li><p>
        Fixed connecting without a database specified raised an
        exception in <code class="literal">MysqlIO.changeDatabaseTo()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-9"></a>C.7.3.7. Changes in MySQL Connector/J 3.1.9 (22 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Production package doesn't include JBoss integration classes.
       (<a href="http://bugs.mysql.com/11411" target="_top">Bug#11411</a>)</p></li><li><p>
        Removed nonsensical “<span class="quote">costly type conversion</span>”
        warnings when using usage advisor.
       (<a href="http://bugs.mysql.com/11411" target="_top">Bug#11411</a>)</p></li><li><p>
        Fixed <code class="literal">PreparedStatement.setClob()</code> not
        accepting <code class="literal">null</code> as a parameter.
       (<a href="http://bugs.mysql.com/11360" target="_top">Bug#11360</a>)</p></li><li><p>
        Connector/J dumping query into <code class="literal">SQLException</code>
        twice.
       (<a href="http://bugs.mysql.com/11360" target="_top">Bug#11360</a>)</p></li><li><p>
        <code class="literal">autoReconnect</code> ping causes exception on
        connection startup.
       (<a href="http://bugs.mysql.com/11259" target="_top">Bug#11259</a>)</p></li><li><p>
        <code class="literal">Connection.setCatalog()</code> is now aware of the
        <code class="literal">useLocalSessionState</code> configuration property,
        which when set to <code class="literal">true</code> will prevent the
        driver from sending <code class="literal">USE ...</code> to the server if
        the requested catalog is the same as the current catalog.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">3-0-Compat</code> — Compatibility with
        Connector/J 3.0.x functionality
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">maxPerformance</code> — maximum performance
        without being reckless
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <code class="literal">solarisMaxPerformance</code> — maximum
        performance for Solaris, avoids syscalls where it can
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Added <code class="literal">maintainTimeStats</code> configuration
        property (defaults to <code class="literal">true</code>), which tells the
        driver whether or not to keep track of the last query time and
        the last successful packet sent to the server's time. If set to
        <code class="literal">false</code>, removes two syscalls per query.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> data corrupted when
        using server-side prepared statements and
        <code class="literal">ResultSet.getBytes()</code>.
       (<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Added the following configuration bundles, use one or many via
        the <code class="literal">useConfigs</code> configuration property:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            <code class="literal">maxPerformance</code> — maximum
            performance without being reckless
          </p></li><li><p>
            <code class="literal">solarisMaxPerformance</code> — maximum
            performance for Solaris, avoids syscalls where it can
          </p></li><li><p>
            <code class="literal">3-0-Compat</code> — Compatibility with
            Connector/J 3.0.x functionality
          </p></li></ul></div><p>(<a href="http://bugs.mysql.com/11115" target="_top">Bug#11115</a>)</p></li><li><p>
        Try to handle <code class="literal">OutOfMemoryErrors</code> more
        gracefully. Although not much can be done, they will in most
        cases close the connection they happened on so that further
        operations don't run into a connection in some unknown state.
        When an OOM has happened, any further operations on the
        connection will fail with a “<span class="quote">Connection closed</span>”
        exception that will also list the OOM exception as the reason
        for the implicit connection close event.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Setting <code class="literal">cachePrepStmts=true</code> now causes the
        <code class="literal">Connection</code> to also cache the check the driver
        performs to determine if a prepared statement can be server-side
        or not, as well as caches server-side prepared statements for
        the lifetime of a connection. As before, the
        <code class="literal">prepStmtCacheSize</code> parameter controls the size
        of these caches.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Don't send <code class="literal">COM_RESET_STMT</code> for each execution
        of a server-side prepared statement if it isn't required.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        0-length streams not sent to server when using server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Driver detects if you're running MySQL-5.0.7 or later, and does
        not scan for <code class="literal">LIMIT ?[,?]</code> in statements being
        prepared, as the server supports those types of queries now.
       (<a href="http://bugs.mysql.com/10850" target="_top">Bug#10850</a>)</p></li><li><p>
        Reorganized directory layout. Sources now are in
        <code class="filename">src</code> folder. Don't pollute parent directory
        when building, now output goes to <code class="filename">./build</code>,
        distribution goes to <code class="filename">./dist</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        Added support/bug hunting feature that generates
        <code class="filename">.sql</code> test scripts to
        <code class="literal">STDERR</code> when
        <code class="literal">autoGenerateTestcaseScript</code> is set to
        <code class="literal">true</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        <code class="literal">SQLException</code> is thrown when using property
        <code class="literal">characterSetResults</code> with
        <code class="literal">cp932</code> or <code class="literal">eucjpms</code>.
       (<a href="http://bugs.mysql.com/10496" target="_top">Bug#10496</a>)</p></li><li><p>
        The datatype returned for <code class="literal">TINYINT(1)</code> columns
        when <code class="literal">tinyInt1isBit=true</code> (the default) can be
        switched between <code class="literal">Types.BOOLEAN</code> and
        <code class="literal">Types.BIT</code> using the new configuration
        property <code class="literal">transformedBitIsBoolean</code>, which
        defaults to <code class="literal">false</code>. If set to
        <code class="literal">false</code> (the default),
        <code class="literal">DatabaseMetaData.getColumns()</code> and
        <code class="literal">ResultSetMetaData.getColumnType()</code> will return
        <code class="literal">Types.BOOLEAN</code> for
        <code class="literal">TINYINT(1)</code> columns. If
        <code class="literal">true</code>, <code class="literal">Types.BOOLEAN</code> will
        be returned instead. Regardless of this configuration property,
        if <code class="literal">tinyInt1isBit</code> is enabled, columns with the
        type <code class="literal">TINYINT(1)</code> will be returned as
        <code class="literal">java.lang.Boolean</code> instances from
        <code class="literal">ResultSet.getObject(...)</code>, and
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> will
        return <code class="literal">java.lang.Boolean</code>.
       (<a href="http://bugs.mysql.com/10485" target="_top">Bug#10485</a>)</p></li><li><p>
        <code class="literal">SQLException</code> thrown when retrieving
        <code class="literal">YEAR(2)</code> with
        <code class="literal">ResultSet.getString()</code>. The driver will now
        always treat <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a> types as
        <code class="literal">java.sql.Dates</code> and return the correct values
        for <code class="literal">getString()</code>. Alternatively, the
        <code class="literal">yearIsDateType</code> connection property can be set
        to <code class="literal">false</code> and the values will be treated as
        <code class="literal">SHORT</code>s.
       (<a href="http://bugs.mysql.com/10485" target="_top">Bug#10485</a>)</p></li><li><p>
        Driver doesn't support <code class="literal">{?=CALL(...)}</code> for
        calling stored functions. This involved adding support for
        function retrieval to
        <code class="literal">DatabaseMetaData.getProcedures()</code> and
        <code class="literal">getProcedureColumns()</code> as well.
       (<a href="http://bugs.mysql.com/10310" target="_top">Bug#10310</a>)</p></li><li><p>
        Unsigned <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a> treated as
        signed for <code class="literal">ResultSet.getInt()</code>, fixed all
        cases for <code class="literal">UNSIGNED</code> integer values and
        server-side prepared statements, as well as
        <code class="literal">ResultSet.getObject()</code> for <code class="literal">UNSIGNED
        TINYINT</code>.
       (<a href="http://bugs.mysql.com/10156" target="_top">Bug#10156</a>)</p></li><li><p>
        Made <code class="literal">ServerPreparedStatement.asSql()</code> work
        correctly so auto-explain functionality would work with
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Double quotes not recognized when parsing client-side prepared
        statements.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Made JDBC2-compliant wrappers public in order to allow access to
        vendor extensions.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.supportsMultipleOpenResults()</code>
        now returns <code class="literal">true</code>. The driver has supported
        this for some time, DBMD just missed that fact.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Cleaned up logging of profiler events, moved code to dump a
        profiler event as a string to
        <code class="literal">com.mysql.jdbc.log.LogUtils</code> so that third
        parties can use it.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Made <code class="literal">enableStreamingResults()</code> visible on
        <code class="literal">com.mysql.jdbc.jdbc2.optional.StatementWrapper</code>.
       (<a href="http://bugs.mysql.com/10155" target="_top">Bug#10155</a>)</p></li><li><p>
        Actually write manifest file to correct place so it ends up in
        the binary jar file.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        Added <code class="literal">createDatabaseIfNotExist</code> property
        (default is <code class="literal">false</code>), which will cause the
        driver to ask the server to create the database specified in the
        URL if it doesn't exist. You must have the appropriate
        privileges for database creation for this to work.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        Memory leak in <code class="literal">ServerPreparedStatement</code> if
        <code class="literal">serverPrepare()</code> fails.
       (<a href="http://bugs.mysql.com/10144" target="_top">Bug#10144</a>)</p></li><li><p>
        <code class="literal">com.mysql.jdbc.PreparedStatement.ParseInfo</code>
        does unnecessary call to <code class="literal">toCharArray()</code>.
       (<a href="http://bugs.mysql.com/9064" target="_top">Bug#9064</a>)</p></li><li><p>
        Driver now correctly uses CP932 if available on the server for
        Windows-31J, CP932 and MS932 java encoding names, otherwise it
        resorts to SJIS, which is only a close approximation. Currently
        only MySQL-5.0.3 and newer (and MySQL-4.1.12 or .13, depending
        on when the character set gets backported) can reliably support
        any variant of CP932.
      </p></li><li><p>
        Overhaul of character set configuration, everything now lives in
        a properties file.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-8"></a>C.7.3.8. Changes in MySQL Connector/J 3.1.8 (14 April 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Should accept <code class="literal">null</code> for catalog (meaning use
        current) in DBMD methods, even though it is not JDBC-compliant
        for legacy's sake. Disable by setting connection property
        <code class="literal">nullCatalogMeansCurrent</code> to
        <code class="literal">false</code> (which will be the default value in C/J
        3.2.x).
       (<a href="http://bugs.mysql.com/9917" target="_top">Bug#9917</a>)</p></li><li><p>
        Fixed driver not returning <code class="literal">true</code> for
        <code class="literal">-1</code> when
        <code class="literal">ResultSet.getBoolean()</code> was called on result
        sets returned from server-side prepared statements.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        Added a <code class="filename">Manifest.MF</code> file with
        implementation information to the <code class="filename">.jar</code>
        file.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        More tests in <code class="literal">Field.isOpaqueBinary()</code> to
        distinguish opaque binary (that is, fields with type
        <code class="literal">CHAR(n)</code> and <code class="literal">CHARACTER SET
        BINARY</code>) from output of various scalar and aggregate
        functions that return strings.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        <code class="literal">DBMD.getTables()</code> shouldn't return tables if
        views are asked for, even if the database version doesn't
        support views.
       (<a href="http://bugs.mysql.com/9778" target="_top">Bug#9778</a>)</p></li><li><p>
        Should accept <code class="literal">null</code> for name patterns in DBMD
        (meaning “<span class="quote"><code class="literal">%</code></span>”), even though it
        isn't JDBC compliant, for legacy's sake. Disable by setting
        connection property <code class="literal">nullNamePatternMatchesAll</code>
        to <code class="literal">false</code> (which will be the default value in
        C/J 3.2.x).
       (<a href="http://bugs.mysql.com/9769" target="_top">Bug#9769</a>)</p></li><li><p>
        The performance metrics feature now gathers information about
        number of tables referenced in a SELECT.
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        The logging system is now automatically configured. If the value
        has been set by the user, via the URL property
        <code class="literal">logger</code> or the system property
        <code class="literal">com.mysql.jdbc.logger</code>, then use that,
        otherwise, autodetect it using the following steps:
      </p><div class="orderedlist"><ol type="1"><li><p>
            Log4j, if it is available,
          </p></li><li><p>
            Then JDK1.4 logging,
          </p></li><li><p>
            Then fallback to our <code class="literal">STDERR</code> logging.
          </p></li></ol></div><p>(<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        <code class="literal">Statement.getMoreResults()</code> could throw NPE
        when existing result set was <code class="literal">.close()</code>d.
       (<a href="http://bugs.mysql.com/9704" target="_top">Bug#9704</a>)</p></li><li><p>
        Stored procedures with <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a>
        parameters with storage specifications that contained
        “<span class="quote"><code class="literal">,</code></span>” in them would fail.
       (<a href="http://bugs.mysql.com/9682" target="_top">Bug#9682</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.setObject(int, Object, int type, int
        scale)</code> now uses scale value for
        <code class="literal">BigDecimal</code> instances.
       (<a href="http://bugs.mysql.com/9682" target="_top">Bug#9682</a>)</p></li><li><p>
        Added support for the c3p0 connection pool's
        (<a href="http://c3p0.sf.net/" target="_top">http://c3p0.sf.net/</a>) validation/connection
        checker interface which uses the lightweight
        <code class="literal">COM_PING</code> call to the server if available. To
        use it, configure your c3p0 connection pool's
        <code class="literal">connectionTesterClassName</code> property to use
        <code class="literal">com.mysql.jdbc.integration.c3p0.MysqlConnectionTester</code>.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.getMetaData()</code> inserts blank
        row in database under certain conditions when not using
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Better detection of <code class="literal">LIMIT</code> inside/outside of
        quoted strings so that the driver can more correctly determine
        whether a prepared statement can be prepared on the server or
        not.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        <code class="literal">Connection.canHandleAsPreparedStatement()</code> now
        makes “<span class="quote">best effort</span>” to distinguish
        <code class="literal">LIMIT</code> clauses with placeholders in them from
        ones without in order to have fewer false positives when
        generating work-arounds for statements the server cannot
        currently handle as server-side prepared statements.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Fixed <code class="filename">build.xml</code> to not compile
        <code class="literal">log4j</code> logging if <code class="literal">log4j</code> not
        available.
       (<a href="http://bugs.mysql.com/9320" target="_top">Bug#9320</a>)</p></li><li><p>
        Added finalizers to <code class="literal">ResultSet</code> and
        <code class="literal">Statement</code> implementations to be JDBC
        spec-compliant, which requires that if not explicitly closed,
        these resources should be closed upon garbage collection.
       (<a href="http://bugs.mysql.com/9319" target="_top">Bug#9319</a>)</p></li><li><p>
        Stored procedures with same name in different databases confuse
        the driver when it tries to determine parameter counts/types.
       (<a href="http://bugs.mysql.com/9319" target="_top">Bug#9319</a>)</p></li><li><p>
        A continuation of <a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>, where functions used in queries
        that should return non-string types when resolved by temporary
        tables suddenly become opaque binary strings (work-around for
        server limitation). Also fixed fields with type of
        <code class="literal">CHAR(n) CHARACTER SET BINARY</code> to return
        correct/matching classes for
        <code class="literal">RSMD.getColumnClassName()</code> and
        <code class="literal">ResultSet.getObject()</code>.
       (<a href="http://bugs.mysql.com/9236" target="_top">Bug#9236</a>)</p></li><li><p>
        Cannot use <code class="literal">UTF-8</code> for characterSetResults
        configuration property.
       (<a href="http://bugs.mysql.com/9206" target="_top">Bug#9206</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.addBatch()</code> doesn't work
        with server-side prepared statements and streaming
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a> data.
       (<a href="http://bugs.mysql.com/9040" target="_top">Bug#9040</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> now correctly
        “<span class="quote">stream</span>”
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>/<code class="literal">CLOB</code> data
        to the server. You can configure the threshold chunk size using
        the JDBC URL property <code class="literal">blobSendChunkSize</code> (the
        default is 1MB).
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        <a href="functions.html#function_date-format"><code class="literal">DATE_FORMAT()</code></a> queries returned as
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>s from
        <code class="literal">getObject()</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Server-side session variables can be preset at connection time
        by passing them as a comma-delimited list for the connection
        property <code class="literal">sessionVariables</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        <code class="literal">BlobFromLocator</code> now uses correct identifier
        quoting when generating prepared statements.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Fixed regression in <code class="literal">ping()</code> for users using
        <code class="literal">autoReconnect=true</code>.
       (<a href="http://bugs.mysql.com/8868" target="_top">Bug#8868</a>)</p></li><li><p>
        Check for empty strings (<code class="literal">''</code>) when converting
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>/<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        column data to numbers, throw exception if
        <code class="literal">emptyStringsConvertToZero</code> configuration
        property is set to <code class="literal">false</code> (for
        backward-compatibility with 3.0, it is now set to
        <code class="literal">true</code> by default, but will most likely default
        to <code class="literal">false</code> in 3.2).
       (<a href="http://bugs.mysql.com/8803" target="_top">Bug#8803</a>)</p></li><li><p>
        <code class="literal">DATA_TYPE</code> column from
        <code class="literal">DBMD.getBestRowIdentifier()</code> causes
        <code class="literal">ArrayIndexOutOfBoundsException</code> when accessed
        (and in fact, didn't return any value).
       (<a href="http://bugs.mysql.com/8803" target="_top">Bug#8803</a>)</p></li><li><p>
        <code class="literal">DBMD.supportsMixedCase*Identifiers()</code> returns
        wrong value on servers running on case-sensitive file systems.
       (<a href="http://bugs.mysql.com/8800" target="_top">Bug#8800</a>)</p></li><li><p>
        <code class="literal">DBMD.supportsResultSetConcurrency()</code> not
        returning <code class="literal">true</code> for forward-only/read-only
        result sets (we obviously support this).
       (<a href="http://bugs.mysql.com/8792" target="_top">Bug#8792</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.getTime()</code> on a
        <code class="literal">NULL</code> value for server-side prepared
        statements throws NPE.
      </p></li><li><p>
        Made <code class="literal">Connection.ping()</code> a public method.
      </p></li><li><p>
        Added support for new precision-math
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> type in MySQL 5.0.3 and
        up.
      </p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getTables()</code> returning
        views when they were not asked for as one of the requested table
        types.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-7"></a>C.7.3.9. Changes in MySQL Connector/J 3.1.7 (18 February 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">PreparedStatements</code> not creating streaming
        result sets.
       (<a href="http://bugs.mysql.com/8487" target="_top">Bug#8487</a>)</p></li><li><p>
        Don't pass <code class="literal">NULL</code> to
        <code class="literal">String.valueOf()</code> in
        <code class="literal">ResultSet.getNativeConvertToString()</code>, as it
        stringifies it (that is, returns <code class="literal">null</code>), which
        is not correct for the method in question.
       (<a href="http://bugs.mysql.com/8487" target="_top">Bug#8487</a>)</p></li><li><p>
        Fixed NPE in <code class="literal">ResultSet.realClose()</code> when using
        usage advisor and result set was already closed.
       (<a href="http://bugs.mysql.com/8428" target="_top">Bug#8428</a>)</p></li><li><p>
        <code class="literal">ResultSet.getString()</code> doesn't maintain format
        stored on server, bug fix only enabled when
        <code class="literal">noDatetimeStringSync</code> property is set to
        <code class="literal">true</code> (the default is
        <code class="literal">false</code>).
       (<a href="http://bugs.mysql.com/8428" target="_top">Bug#8428</a>)</p></li><li><p>
        Added support for <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> type in
        MySQL-5.0.3. The driver will treat <code class="literal">BIT(1-8)</code>
        as the JDBC standard <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> type
        (which maps to <code class="literal">java.lang.Boolean</code>), as the
        server does not currently send enough information to determine
        the size of a bitfield when &lt; 9 bits are declared.
        <code class="literal">BIT(&gt;9)</code> will be treated as
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a>, and will return
        <code class="literal">byte[]</code> when <code class="literal">getObject()</code> is
        called.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Added <code class="literal">useLocalSessionState</code> configuration
        property, when set to <code class="literal">true</code> the JDBC driver
        trusts that the application is well-behaved and only sets
        autocommit and transaction isolation levels using the methods
        provided on <code class="literal">java.sql.Connection</code>, and
        therefore can manipulate these values in many cases without
        incurring round-trips to the database server.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Added <code class="literal">enableStreamingResults()</code> to
        <code class="literal">Statement</code> for connection pool implementations
        that check <code class="literal">Statement.setFetchSize()</code> for
        specification-compliant values. Call
        <code class="literal">Statement.setFetchSize(&gt;=0)</code> to disable the
        streaming results for that statement.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        <code class="literal">ResultSet.getBigDecimal()</code> throws exception
        when rounding would need to occur to set scale. The driver now
        chooses a rounding mode of “<span class="quote">half up</span>” if
        non-rounding <code class="literal">BigDecimal.setScale()</code> fails.
       (<a href="http://bugs.mysql.com/8424" target="_top">Bug#8424</a>)</p></li><li><p>
        Fixed synchronization issue with
        <code class="literal">ServerPreparedStatement.serverPrepare()</code> that
        could cause deadlocks/crashes if connection was shared between
        threads.
       (<a href="http://bugs.mysql.com/8096" target="_top">Bug#8096</a>)</p></li><li><p>
        Emulated locators corrupt binary data when using server-side
        prepared statements.
       (<a href="http://bugs.mysql.com/8096" target="_top">Bug#8096</a>)</p></li><li><p>
        Infinite recursion when “<span class="quote">falling back</span>” to master in
        failover configuration.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Disable multi-statements (if enabled) for MySQL-4.1 versions
        prior to version 4.1.10 if the query cache is enabled, as the
        server returns wrong results in this configuration.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Removed <code class="literal">dontUnpackBinaryResults</code>
        functionality, the driver now always stores results from
        server-side prepared statements as is from the server and
        unpacks them on demand.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Fixed duplicated code in
        <code class="literal">configureClientCharset()</code> that prevented
        <code class="literal">useOldUTF8Behavior=true</code> from working
        properly.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Added <code class="literal">holdResultsOpenOverStatementClose</code>
        property (default is <code class="literal">false</code>), that keeps
        result sets open over statement.close() or new execution on same
        statement (suggested by Kevin Burton).
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Detect new <a href="server-administration.html#sysvar_sql_mode"><code class="literal">sql_mode</code></a> variable in
        string form (it used to be integer) and adjust quoting method
        for strings appropriately.
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Timestamps converted incorrectly to strings with server-side
        prepared statements and updatable result sets.
       (<a href="http://bugs.mysql.com/7715" target="_top">Bug#7715</a>)</p></li><li><p>
        Timestamp key column data needed <code class="literal">_binary</code>
        stripped for <code class="literal">UpdatableResultSet.refreshRow()</code>.
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        Choose correct “<span class="quote">direction</span>” to apply time
        adjustments when both client and server are in GMT time zone
        when using <code class="literal">ResultSet.get(..., cal)</code> and
        <code class="literal">PreparedStatement.set(...., cal)</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Remove <code class="literal">_binary</code> introducer from parameters
        used as in/out parameters in
        <code class="literal">CallableStatement</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Always return <code class="literal">byte[]</code>s for output parameters
        registered as <code class="literal">*BINARY</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        By default, the driver now scans SQL you are preparing via all
        variants of <code class="literal">Connection.prepareStatement()</code> to
        determine if it is a supported type of statement to prepare on
        the server side, and if it is not supported by the server, it
        instead prepares it as a client-side emulated prepared
        statement. You can disable this by passing
        <code class="literal">emulateUnsupportedPstmts=false</code> in your JDBC
        URL.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Added <code class="literal">dontTrackOpenResources</code> option (default
        is <code class="literal">false</code>, to be JDBC compliant), which helps
        with memory use for non-well-behaved apps (that is, applications
        that don't close <code class="literal">Statement</code> objects when they
        should).
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Send correct value for “<span class="quote">boolean</span>”
        <code class="literal">true</code> to server for
        <code class="literal">PreparedStatement.setObject(n, "true",
        Types.BIT)</code>.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li><li><p>
        Fixed bug with Connection not caching statements from
        <code class="literal">prepareStatement()</code> when the statement wasn't
        a server-side prepared statement.
       (<a href="http://bugs.mysql.com/4718" target="_top">Bug#4718</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-6"></a>C.7.3.10. Changes in MySQL Connector/J 3.1.6 (23 December 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">DBMD.getProcedures()</code> doesn't respect catalog
        parameter.
       (<a href="http://bugs.mysql.com/7026" target="_top">Bug#7026</a>)</p></li><li><p>
        Fixed hang on <code class="literal">SocketInputStream.read()</code> with
        <code class="literal">Statement.setMaxRows()</code> and multiple result
        sets when driver has to truncate result set directly, rather
        than tacking a <code class="literal">LIMIT
        <em class="replaceable"><code>n</code></em></code> on the end of it.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-5"></a>C.7.3.11. Changes in MySQL Connector/J 3.1.5 (02 December 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use 1MB packet for sending file for
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a> if that is &lt;
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> on server.
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        <code class="literal">SUM()</code> on
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> with server-side prepared
        statement ignores scale if zero-padding is needed (this ends up
        being due to conversion to <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a>
        by server, which when converted to a string to parse into
        <code class="literal">BigDecimal</code>, loses all “<span class="quote">padding</span>”
        zeros).
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        Use
        <code class="literal">DatabaseMetaData.getIdentifierQuoteString()</code>
        when building DBMD queries.
       (<a href="http://bugs.mysql.com/6537" target="_top">Bug#6537</a>)</p></li><li><p>
        Use our own implementation of buffered input streams to get
        around blocking behavior of
        <code class="literal">java.io.BufferedInputStream</code>. Disable this
        with <code class="literal">useReadAheadInput=false</code>.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Make auto-deserialization of
        <code class="literal">java.lang.Objects</code> stored in
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> columns configurable via
        <code class="literal">autoDeserialize</code> property (defaults to
        <code class="literal">false</code>).
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData.getColumnDisplaySize()</code>
        returns incorrect values for multi-byte charsets.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Re-work <code class="literal">Field.isOpaqueBinary()</code> to detect
        <code class="literal">CHAR(<em class="replaceable"><code>n</code></em>) CHARACTER SET
        BINARY</code> to support fixed-length binary fields for
        <code class="literal">ResultSet.getObject()</code>.
       (<a href="http://bugs.mysql.com/6399" target="_top">Bug#6399</a>)</p></li><li><p>
        Failing to connect to the server when one of the addresses for
        the given host name is IPV6 (which the server does not yet bind
        on). The driver now loops through <span class="emphasis"><em>all</em></span> IP
        addresses for a given host, and stops on the first one that
        <code class="literal">accepts()</code> a
        <code class="literal">socket.connect()</code>.
       (<a href="http://bugs.mysql.com/6348" target="_top">Bug#6348</a>)</p></li><li><p>
        Removed unwanted new <code class="literal">Throwable()</code> in
        <code class="literal">ResultSet</code> constructor due to bad merge
        (caused a new object instance that was never used for every
        result set created). Found while profiling for <a href="http://bugs.mysql.com/6359" target="_top">Bug#6359</a>.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        <code class="literal">ServerSidePreparedStatement</code> allocating
        short-lived objects unnecessarily.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        Use null-safe-equals for key comparisons in updatable result
        sets.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        Fixed too-early creation of <code class="literal">StringBuffer</code> in
        <code class="literal">EscapeProcessor.escapeSQL()</code>, also return
        <code class="literal">String</code> when escaping not needed (to avoid
        unnecessary object allocations). Found while profiling for <a href="http://bugs.mysql.com/6359" target="_top">Bug#6359</a>.
       (<a href="http://bugs.mysql.com/6225" target="_top">Bug#6225</a>)</p></li><li><p>
        <code class="literal">UNSIGNED BIGINT</code> unpacked incorrectly from
        server-side prepared statement result sets.
       (<a href="http://bugs.mysql.com/5729" target="_top">Bug#5729</a>)</p></li><li><p>
        Added experimental configuration property
        <code class="literal">dontUnpackBinaryResults</code>, which delays
        unpacking binary result set values until they're asked for, and
        only creates object instances for non-numerical values (it is
        set to <code class="literal">false</code> by default). For some
        usecase/jvm combinations, this is friendlier on the garbage
        collector.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Don't throw exceptions for
        <code class="literal">Connection.releaseSavepoint()</code>.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Inefficient detection of pre-existing string instances in
        <code class="literal">ResultSet.getNativeString()</code>.
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Use a per-session <code class="literal">Calendar</code> instance by
        default when decoding dates from
        <code class="literal">ServerPreparedStatements</code> (set to old, less
        performant behavior by setting property
        <code class="literal">dynamicCalendars=true</code>).
       (<a href="http://bugs.mysql.com/5706" target="_top">Bug#5706</a>)</p></li><li><p>
        Fixed batched updates with server prepared statements weren't
        looking if the types had changed for a given batched set of
        parameters compared to the previous set, causing the server to
        return the error “<span class="quote">Wrong arguments to
        mysql_stmt_execute()</span>”.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Handle case when string representation of timestamp contains
        trailing “<span class="quote"><code class="literal">.</code></span>” with no numbers
        following it.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Server-side prepared statements did not honor
        <code class="literal">zeroDateTimeBehavior</code> property, and would
        cause class-cast exceptions when using
        <code class="literal">ResultSet.getObject()</code>, as the all-zero string
        was always returned.
       (<a href="http://bugs.mysql.com/5235" target="_top">Bug#5235</a>)</p></li><li><p>
        Fix comparisons made between string constants and dynamic
        strings that are converted with either
        <code class="literal">toUpperCase()</code> or
        <code class="literal">toLowerCase()</code> to use
        <code class="literal">Locale.ENGLISH</code>, as some locales
        “<span class="quote">override</span>” case rules for English. Also use
        <code class="literal">StringUtils.indexOfIgnoreCase()</code> instead of
        <code class="literal">.toUpperCase().indexOf()</code>, avoids creating a
        very short-lived transient <code class="literal">String</code> instance.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-4"></a>C.7.3.12. Changes in MySQL Connector/J 3.1.4 (04 September 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">ServerPreparedStatement</code> to read
        prepared statement metadata off the wire, even though it is
        currently a placeholder instead of using
        <code class="literal">MysqlIO.clearInputStream()</code> which didn't work
        at various times because data wasn't available to read from the
        server yet. This fixes sporadic errors users were having with
        <code class="literal">ServerPreparedStatements</code> throwing
        <code class="literal">ArrayIndexOutOfBoundExceptions</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        Added three ways to deal with all-zero datetimes when reading
        them from a <code class="literal">ResultSet</code>:
        <code class="literal">exception</code> (the default), which throws an
        <code class="literal">SQLException</code> with an SQLState of
        <code class="literal">S1009</code>; <code class="literal">convertToNull</code>,
        which returns <code class="literal">NULL</code> instead of the date; and
        <code class="literal">round</code>, which rounds the date to the nearest
        closest value which is <code class="literal">'0001-01-01'</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        The driver is more strict about truncation of numerics on
        <code class="literal">ResultSet.get*()</code>, and will throw an
        <code class="literal">SQLException</code> when truncation is detected. You
        can disable this by setting
        <code class="literal">jdbcCompliantTruncation</code> to
        <code class="literal">false</code> (it is enabled by default, as this
        functionality is required for JDBC compliance).
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        You can now use URLs in
        <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a> statements, and the driver will use Java's
        built-in handlers for retreiving the data and sending it to the
        server. This feature is not enabled by default, you must set the
        <code class="literal">allowUrlInLocalInfile</code> connection property to
        <code class="literal">true</code>.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> doesn't return type
        <code class="literal">Boolean</code> for pseudo-bit types from prepared
        statements on 4.1.x (shortcut for avoiding extra type conversion
        when using binary-encoded result sets obscured test in
        <code class="literal">getObject()</code> for “<span class="quote">pseudo</span>” bit
        type).
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        Use <code class="literal">com.mysql.jdbc.Message</code>'s classloader when
        loading resource bundle, should fix sporadic issues when the
        caller's classloader can't locate the resource bundle.
       (<a href="http://bugs.mysql.com/5032" target="_top">Bug#5032</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> dealing with return
        of <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DECIMAL</code></a> type don't work.
       (<a href="http://bugs.mysql.com/5012" target="_top">Bug#5012</a>)</p></li><li><p>
        Track packet sequence numbers if
        <code class="literal">enablePacketDebug=true</code>, and throw an
        exception if packets received out-of-order.
       (<a href="http://bugs.mysql.com/4689" target="_top">Bug#4689</a>)</p></li><li><p>
        <code class="literal">ResultSet.wasNull()</code> does not work for
        primatives if a previous <code class="literal">null</code> was returned.
       (<a href="http://bugs.mysql.com/4689" target="_top">Bug#4689</a>)</p></li><li><p>
        Optimized integer number parsing, enable “<span class="quote">old</span>”
        slower integer parsing using JDK classes via
        <code class="literal">useFastIntParsing=false</code> property.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        Added <code class="literal">useOnlyServerErrorMessages</code> property,
        which causes message text in exceptions generated by the server
        to only contain the text sent by the server (as opposed to the
        SQLState's “<span class="quote">standard</span>” description, followed by the
        server's error message). This property is set to
        <code class="literal">true</code> by default.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        <code class="literal">ServerPreparedStatement.execute*()</code> sometimes
        threw <code class="literal">ArrayIndexOutOfBoundsException</code> when
        unpacking field metadata.
       (<a href="http://bugs.mysql.com/4642" target="_top">Bug#4642</a>)</p></li><li><p>
        Connector/J 3.1.3 beta does not handle integers correctly
        (caused by changes to support unsigned reads in
        <code class="literal">Buffer.readInt()</code> -&gt;
        <code class="literal">Buffer.readShort()</code>).
       (<a href="http://bugs.mysql.com/4510" target="_top">Bug#4510</a>)</p></li><li><p>
        Added support in <code class="literal">DatabaseMetaData.getTables()</code>
        and <code class="literal">getTableTypes()</code> for views, which are now
        available in MySQL server 5.0.x.
       (<a href="http://bugs.mysql.com/4510" target="_top">Bug#4510</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> returns wrong type for
        strings when using prepared statements.
       (<a href="http://bugs.mysql.com/4482" target="_top">Bug#4482</a>)</p></li><li><p>
        Calling <code class="literal">MysqlPooledConnection.close()</code> twice
        (even though an application error), caused NPE. Fixed.
       (<a href="http://bugs.mysql.com/4482" target="_top">Bug#4482</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-3"></a>C.7.3.13. Changes in MySQL Connector/J 3.1.3 (07 July 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Support new time zone variables in MySQL-4.1.3 when
        <code class="literal">useTimezone=true</code>.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Error in retrieval of <code class="literal">mediumint</code> column with
        prepared statements and binary protocol.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Support for unsigned numerics as return types from prepared
        statements. This also causes a change in
        <code class="literal">ResultSet.getObject()</code> for the <code class="literal">bigint
        unsigned</code> type, which used to return
        <code class="literal">BigDecimal</code> instances, it now returns
        instances of <code class="literal">java.lang.BigInteger</code>.
       (<a href="http://bugs.mysql.com/4311" target="_top">Bug#4311</a>)</p></li><li><p>
        Externalized more messages (on-going effort).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Null bitmask sent for server-side prepared statements was
        incorrect.
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Added constants for MySQL error numbers (publicly accessible,
        see <code class="literal">com.mysql.jdbc.MysqlErrorNumbers</code>), and
        the ability to generate the mappings of vendor error codes to
        SQLStates that the driver uses (for documentation purposes).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Added packet debuging code (see the
        <code class="literal">enablePacketDebug</code> property documentation).
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Use SQL Standard SQL states by default, unless
        <code class="literal">useSqlStateCodes</code> property is set to
        <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/4119" target="_top">Bug#4119</a>)</p></li><li><p>
        Mangle output parameter names for
        <code class="literal">CallableStatements</code> so they will not clash
        with user variable names.
      </p></li><li><p>
        Added support for <code class="literal">INOUT</code> parameters in
        <code class="literal">CallableStatements</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-2"></a>C.7.3.14. Changes in MySQL Connector/J 3.1.2 (09 June 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Don't enable server-side prepared statements for server version
        5.0.0 or 5.0.1, as they aren't compatible with the '4.1.2+'
        style that the driver uses (the driver expects information to
        come back that isn't there, so it hangs).
       (<a href="http://bugs.mysql.com/3804" target="_top">Bug#3804</a>)</p></li><li><p>
        <code class="literal">getWarnings()</code> returns
        <code class="literal">SQLWarning</code> instead of
        <code class="literal">DataTruncation</code>.
       (<a href="http://bugs.mysql.com/3804" target="_top">Bug#3804</a>)</p></li><li><p>
        <code class="literal">getProcedureColumns()</code> doesn't work with
        wildcards for procedure name.
       (<a href="http://bugs.mysql.com/3540" target="_top">Bug#3540</a>)</p></li><li><p>
        <code class="literal">getProcedures()</code> does not return any
        procedures in result set.
       (<a href="http://bugs.mysql.com/3539" target="_top">Bug#3539</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getProcedures()</code> when
        run on MySQL-5.0.0 (output of <a href="sql-syntax.html#show-procedure-status" title="12.5.6.29. SHOW PROCEDURE STATUS Syntax"><code class="literal">SHOW
        PROCEDURE STATUS</code></a> changed between 5.0.0 and 5.0.1.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Added <code class="literal">connectionCollation</code> property to cause
        driver to issue <code class="literal">set collation_connection=...</code>
        query on connection init if default collation for given charset
        is not appropriate.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        <code class="literal">DBMD.getSQLStateType()</code> returns incorrect
        value.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Correctly map output parameters to position given in
        <code class="literal">prepareCall()</code> versus. order implied during
        <code class="literal">registerOutParameter()</code>.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Cleaned up detection of server properties.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Correctly detect initial character set for servers &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Support placeholder for parameter metadata for server &gt;=
        4.1.2.
       (<a href="http://bugs.mysql.com/3146" target="_top">Bug#3146</a>)</p></li><li><p>
        Added <code class="literal">gatherPerformanceMetrics</code> property,
        along with properties to control when/where this info gets
        logged (see docs for more info).
      </p></li><li><p>
        Fixed case when no parameters could cause a
        <code class="literal">NullPointerException</code> in
        <code class="literal">CallableStatement.setOutputParameters()</code>.
      </p></li><li><p>
        Enabled callable statement caching via
        <code class="literal">cacheCallableStmts</code> property.
      </p></li><li><p>
        Fixed sending of split packets for large queries, enabled nio
        ability to send large packets as well.
      </p></li><li><p>
        Added <code class="literal">.toString()</code> functionality to
        <code class="literal">ServerPreparedStatement</code>, which should help if
        you're trying to debug a query that is a prepared statement (it
        shows SQL as the server would process).
      </p></li><li><p>
        Added <code class="literal">logSlowQueries</code> property, along with
        <code class="literal">slowQueriesThresholdMillis</code> property to
        control when a query should be considered “<span class="quote">slow.</span>”
      </p></li><li><p>
        Removed wrapping of exceptions in
        <code class="literal">MysqlIO.changeUser()</code>.
      </p></li><li><p>
        Fixed stored procedure parameter parsing info when size was
        specified for a parameter (for example,
        <code class="literal">char()</code>, <code class="literal">varchar()</code>).
      </p></li><li><p>
        <code class="literal">ServerPreparedStatements</code> weren't actually
        de-allocating server-side resources when
        <code class="literal">.close()</code> was called.
      </p></li><li><p>
        Fixed case when no output parameters specified for a stored
        procedure caused a bogus query to be issued to retrieve out
        parameters, leading to a syntax error from the server.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-1"></a>C.7.3.15. Changes in MySQL Connector/J 3.1.1 (14 February 2004 alpha)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Use DocBook version of docs for shipped versions of drivers.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        <code class="literal">NULL</code> fields were not being encoded correctly
        in all cases in server-side prepared statements.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        Fixed rare buffer underflow when writing numbers into buffers
        for sending prepared statement execution requests.
       (<a href="http://bugs.mysql.com/2671" target="_top">Bug#2671</a>)</p></li><li><p>
        Fixed <code class="literal">ConnectionProperties</code> that weren't
        properly exposed via accessors, cleaned up
        <code class="literal">ConnectionProperties</code> code.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Class-cast exception when using scrolling result sets and
        server-side prepared statements.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Merged unbuffered input code from 3.0.
       (<a href="http://bugs.mysql.com/2623" target="_top">Bug#2623</a>)</p></li><li><p>
        Enabled streaming of result sets from server-side prepared
        statements.
       (<a href="http://bugs.mysql.com/2606" target="_top">Bug#2606</a>)</p></li><li><p>
        Server-side prepared statements were not returning datatype
        <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a> correctly.
       (<a href="http://bugs.mysql.com/2606" target="_top">Bug#2606</a>)</p></li><li><p>
        Fixed charset conversion issue in
        <code class="literal">getTables()</code>.
       (<a href="http://bugs.mysql.com/2502" target="_top">Bug#2502</a>)</p></li><li><p>
        Implemented multiple result sets returned from a statement or
        stored procedure.
       (<a href="http://bugs.mysql.com/2502" target="_top">Bug#2502</a>)</p></li><li><p>
        Implemented <code class="literal">Connection.prepareCall()</code>, and
        <code class="literal">DatabaseMetaData</code>.
        <code class="literal">getProcedures()</code> and
        <code class="literal">getProcedureColumns()</code>.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Merged prepared statement caching, and
        <code class="literal">.getMetaData()</code> support from 3.0 branch.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Fixed off-by-1900 error in some cases for years in
        <code class="literal">TimeUtil.fastDate</code>/<code class="literal">TimeCreate()</code>
        when unpacking results from server-side prepared statements.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Reset <code class="literal">long binary</code> parameters in
        <code class="literal">ServerPreparedStatement</code> when
        <code class="literal">clearParameters()</code> is called, by sending
        <code class="literal">COM_RESET_STMT</code> to the server.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        <code class="literal">NULL</code> values for numeric types in binary
        encoded result sets causing
        <code class="literal">NullPointerExceptions</code>.
       (<a href="http://bugs.mysql.com/2359" target="_top">Bug#2359</a>)</p></li><li><p>
        Display where/why a connection was implicitly closed (to aid
        debugging).
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> is not
        returning correct column ordinal info for
        non-<code class="literal">'%'</code> column name patterns.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed <code class="literal">NullPointerException</code> in
        <code class="literal">ServerPreparedStatement.setTimestamp()</code>, as
        well as year and month descrepencies in
        <code class="literal">ServerPreparedStatement.setTimestamp()</code>,
        <code class="literal">setDate()</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Added ability to have multiple database/JVM targets for
        compliance and regression/unit tests in
        <code class="filename">build.xml</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed sending of queries larger than 16M.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Merged fix of datatype mapping from MySQL type
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> to
        <code class="literal">java.sql.Types.REAL</code> from 3.0 branch.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Fixed NPE and year/month bad conversions when accessing some
        datetime functionality in
        <code class="literal">ServerPreparedStatements</code> and their resultant
        result sets.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Added named and indexed input/output parameter support to
        <code class="literal">CallableStatement</code>. MySQL-5.0.x or newer.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        <code class="literal">CommunicationsException</code> implemented, that
        tries to determine why communications was lost with a server,
        and displays possible reasons when
        <code class="literal">.getMessage()</code> is called.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Detect collation of column for
        <code class="literal">RSMD.isCaseSensitive()</code>.
       (<a href="http://bugs.mysql.com/1673" target="_top">Bug#1673</a>)</p></li><li><p>
        Optimized <code class="literal">Buffer.readLenByteArray()</code> to return
        shared empty byte array when length is 0.
      </p></li><li><p>
        Fix support for table aliases when checking for all primary keys
        in <code class="literal">UpdatableResultSet</code>.
      </p></li><li><p>
        Unpack “<span class="quote">unknown</span>” data types from server prepared
        statements as <code class="literal">Strings</code>.
      </p></li><li><p>
        Implemented <code class="literal">Statement.getWarnings()</code> for
        MySQL-4.1 and newer (using <a href="sql-syntax.html#show-warnings" title="12.5.6.40. SHOW WARNINGS Syntax"><code class="literal">SHOW
        WARNINGS</code></a>).
      </p></li><li><p>
        Ensure that warnings are cleared before executing queries on
        prepared statements, as-per JDBC spec (now that we support
        warnings).
      </p></li><li><p>
        Correctly initialize datasource properties from JNDI Refs,
        including explicitly specified URLs.
      </p></li><li><p>
        Implemented long data (Blobs, Clobs, InputStreams, Readers) for
        server prepared statements.
      </p></li><li><p>
        Deal with 0-length tokens in <code class="literal">EscapeProcessor</code>
        (caused by callable statement escape syntax).
      </p></li><li><p>
        <code class="literal">DatabaseMetaData</code> now reports
        <code class="literal">supportsStoredProcedures()</code> for MySQL versions
        &gt;= 5.0.0
      </p></li><li><p>
        Support for <a href="connectors-apis.html#mysql-change-user" title="20.10.3.3. mysql_change_user()"><code class="literal">mysql_change_user()</code></a>.
        See the <code class="literal">changeUser()</code> method in
        <code class="literal">com.mysql.jdbc.Connection</code>.
      </p></li><li><p>
        Removed <code class="literal">useFastDates</code> connection property.
      </p></li><li><p>
        Support for NIO. Use <code class="literal">useNIO=true</code> on platforms
        that support NIO.
      </p></li><li><p>
        Check for closed connection on delete/update/insert row
        operations in <code class="literal">UpdatableResultSet</code>.
      </p></li><li><p>
        Support for transaction savepoints (MySQL &gt;= 4.0.14 or
        4.1.1).
      </p></li><li><p>
        Support “<span class="quote">old</span>” <code class="literal">profileSql</code>
        capitalization in <code class="literal">ConnectionProperties</code>. This
        property is deprecated, you should use
        <code class="literal">profileSQL</code> if possible.
      </p></li><li><p>
        Fixed character encoding issues when converting bytes to ASCII
        when MySQL doesn't provide the character set, and the JVM is set
        to a multi-byte encoding (usually affecting retrieval of numeric
        values).
      </p></li><li><p>
        Centralized setting of result set type and concurrency.
      </p></li><li><p>
        Fixed bug with <code class="literal">UpdatableResultSets</code> not using
        client-side prepared statements.
      </p></li><li><p>
        Default result set type changed to
        <code class="literal">TYPE_FORWARD_ONLY</code> (JDBC compliance).
      </p></li><li><p>
        Fixed <code class="literal">IllegalAccessError</code> to
        <code class="literal">Calendar.getTimeInMillis()</code> in
        <code class="literal">DateTimeValue</code> (for JDK &lt; 1.4).
      </p></li><li><p>
        Allow contents of <code class="literal">PreparedStatement.setBlob()</code>
        to be retained between calls to <code class="literal">.execute*()</code>.
      </p></li><li><p>
        Fixed stack overflow in
        <code class="literal">Connection.prepareCall()</code> (bad merge).
      </p></li><li><p>
        Refactored how connection properties are set and exposed as
        <code class="literal">DriverPropertyInfo</code> as well as
        <code class="literal">Connection</code> and <code class="literal">DataSource</code>
        properties.
      </p></li><li><p>
        Reduced number of methods called in average query to be more
        efficient.
      </p></li><li><p>
        Prepared <code class="literal">Statements</code> will be re-prepared on
        auto-reconnect. Any errors encountered are postponed until first
        attempt to re-execute the re-prepared statement.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-1-0"></a>C.7.3.16. Changes in MySQL Connector/J 3.1.0 (18 February 2003 alpha)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">useServerPrepStmts</code> property (default
        <code class="literal">false</code>). The driver will use server-side
        prepared statements when the server version supports them (4.1
        and newer) when this property is set to <code class="literal">true</code>.
        It is currently set to <code class="literal">false</code> by default until
        all bind/fetch functionality has been implemented. Currently
        only DML prepared statements are implemented for 4.1 server-side
        prepared statements.
      </p></li><li><p>
        Added <code class="literal">requireSSL</code> property.
      </p></li><li><p>
        Track open <code class="literal">Statements</code>, close all when
        <code class="literal">Connection.close()</code> is called (JDBC
        compliance).
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-3-0"></a>C.7.4. Changes in MySQL Connector/J 3.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-3-0-17">C.7.4.1. Changes in MySQL Connector/J 3.0.17 (23 June 2005)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-16">C.7.4.2. Changes in MySQL Connector/J 3.0.16 (15 November 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-15">C.7.4.3. Changes in MySQL Connector/J 3.0.15 (04 September 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-14">C.7.4.4. Changes in MySQL Connector/J 3.0.14 (28 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-13">C.7.4.5. Changes in MySQL Connector/J 3.0.13 (27 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-12">C.7.4.6. Changes in MySQL Connector/J 3.0.12 (18 May 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-11">C.7.4.7. Changes in MySQL Connector/J 3.0.11 (19 February 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-10">C.7.4.8. Changes in MySQL Connector/J 3.0.10 (13 January 2004)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-9">C.7.4.9. Changes in MySQL Connector/J 3.0.9 (07 October 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-8">C.7.4.10. Changes in MySQL Connector/J 3.0.8 (23 May 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-7">C.7.4.11. Changes in MySQL Connector/J 3.0.7 (08 April 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-6">C.7.4.12. Changes in MySQL Connector/J 3.0.6 (18 February 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-5">C.7.4.13. Changes in MySQL Connector/J 3.0.5 (22 January 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-4">C.7.4.14. Changes in MySQL Connector/J 3.0.4 (06 January 2003)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-3">C.7.4.15. Changes in MySQL Connector/J 3.0.3 (17 December 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-2">C.7.4.16. Changes in MySQL Connector/J 3.0.2 (08 November 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-1">C.7.4.17. Changes in MySQL Connector/J 3.0.1 (21 September 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-3-0-0">C.7.4.18. Changes in MySQL Connector/J 3.0.0 (31 July 2002)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-17"></a>C.7.4.1. Changes in MySQL Connector/J 3.0.17 (23 June 2005)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Workaround for server <a href="http://bugs.mysql.com/9098" target="_top">Bug#9098</a>: Default values of
        <code class="literal">CURRENT_*</code> for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>,
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a>,
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a>, and
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a> columns can't be
        distinguished from <code class="literal">string</code> values, so
        <code class="literal">UpdatableResultSet.moveToInsertRow()</code>
        generates bad SQL for inserting default values.
       (<a href="http://bugs.mysql.com/8812" target="_top">Bug#8812</a>)</p></li><li><p>
        <code class="literal">NON_UNIQUE</code> column from
        <code class="literal">DBMD.getIndexInfo()</code> returned inverted value.
       (<a href="http://bugs.mysql.com/8812" target="_top">Bug#8812</a>)</p></li><li><p>
        <code class="literal">EUCKR</code> charset is sent as <code class="literal">SET NAMES
        euc_kr</code> which MySQL-4.1 and newer doesn't understand.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Added support for the <code class="literal">EUC_JP_Solaris</code>
        character encoding, which maps to a MySQL encoding of
        <code class="literal">eucjpms</code> (backported from 3.1 branch). This
        only works on servers that support <code class="literal">eucjpms</code>,
        namely 5.0.3 or later.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Use hex escapes for
        <code class="literal">PreparedStatement.setBytes()</code> for double-byte
        charsets including “<span class="quote">aliases</span>”
        <code class="literal">Windows-31J</code>, <code class="literal">CP934</code>,
        <code class="literal">MS932</code>.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.supportsSelectForUpdate()</code>
        returns correct value based on server version.
       (<a href="http://bugs.mysql.com/8629" target="_top">Bug#8629</a>)</p></li><li><p>
        Which requires hex escaping of binary data when using multi-byte
        charsets with prepared statements.
       (<a href="http://bugs.mysql.com/8064" target="_top">Bug#8064</a>)</p></li><li><p>
        Fixed duplicated code in
        <code class="literal">configureClientCharset()</code> that prevented
        <code class="literal">useOldUTF8Behavior=true</code> from working
        properly.
       (<a href="http://bugs.mysql.com/7952" target="_top">Bug#7952</a>)</p></li><li><p>
        Backported SQLState codes mapping from Connector/J 3.1, enable
        with <code class="literal">useSqlStateCodes=true</code> as a connection
        property, it defaults to <code class="literal">false</code> in this
        release, so that we don't break legacy applications (it defaults
        to <code class="literal">true</code> starting with Connector/J 3.1).
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        Timestamp key column data needed <code class="literal">_binary</code>
        stripped for <code class="literal">UpdatableResultSet.refreshRow()</code>.
       (<a href="http://bugs.mysql.com/7686" target="_top">Bug#7686</a>)</p></li><li><p>
        <code class="literal">MS932</code>, <code class="literal">SHIFT_JIS</code>, and
        <code class="literal">Windows_31J</code> not recognized as aliases for
        <code class="literal">sjis</code>.
       (<a href="http://bugs.mysql.com/7607" target="_top">Bug#7607</a>)</p></li><li><p>
        Handle streaming result sets with more than 2 billion rows
        properly by fixing wraparound of row number counter.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.fixDecimalExponent()</code> adding
        extra <code class="literal">+</code>, making number unparseable by MySQL
        server.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        Escape sequence {fn convert(..., type)} now supports ODBC-style
        types that are prepended by <code class="literal">SQL_</code>.
       (<a href="http://bugs.mysql.com/7601" target="_top">Bug#7601</a>)</p></li><li><p>
        Statements created from a pooled connection were returning
        physical connection instead of logical connection when
        <code class="literal">getConnection()</code> was called.
       (<a href="http://bugs.mysql.com/7316" target="_top">Bug#7316</a>)</p></li><li><p>
        Support new protocol type <code class="literal">MYSQL_TYPE_VARCHAR</code>.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        Added <code class="literal">useOldUTF8Behavior</code>' configuration
        property, which causes JDBC driver to act like it did with
        MySQL-4.0.x and earlier when the character encoding is
        <code class="literal">utf-8</code> when connected to MySQL-4.1 or newer.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getIndexInfo()</code> ignored
        <code class="literal">unique</code> parameter.
       (<a href="http://bugs.mysql.com/7081" target="_top">Bug#7081</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.fixDecimalExponent()</code> adding
        extra <code class="literal">+</code>, making number unparseable by MySQL
        server.
       (<a href="http://bugs.mysql.com/7061" target="_top">Bug#7061</a>)</p></li><li><p>
        <code class="literal">PreparedStatements</code> don't encode Big5 (and
        other multi-byte) character sets correctly in static SQL
        strings.
       (<a href="http://bugs.mysql.com/7033" target="_top">Bug#7033</a>)</p></li><li><p>
        Connections starting up failed-over (due to down master) never
        retry master.
       (<a href="http://bugs.mysql.com/6966" target="_top">Bug#6966</a>)</p></li><li><p>
        Adding <code class="literal">CP943</code> to aliases for
        <code class="literal">sjis</code>.
       (<a href="http://bugs.mysql.com/6549" target="_top">Bug#6549</a>, <a href="http://bugs.mysql.com/7607" target="_top">Bug#7607</a>)</p></li><li><p>
        <code class="literal">Timestamp</code>/<code class="literal">Time</code> conversion
        goes in the wrong “<span class="quote">direction</span>” when
        <code class="literal">useTimeZone=true</code> and server time zone differs
        from client time zone.
       (<a href="http://bugs.mysql.com/5874" target="_top">Bug#5874</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-16"></a>C.7.4.2. Changes in MySQL Connector/J 3.0.16 (15 November 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Made <code class="literal">TINYINT(1)</code> -&gt;
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a>/<code class="literal">Boolean</code>
        conversion configurable via <code class="literal">tinyInt1isBit</code>
        property (default <code class="literal">true</code> to be JDBC compliant
        out of the box).
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Off-by-one bug in
        <code class="literal">Buffer.readString(<em class="replaceable"><code>string</code></em>)</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        <code class="literal">ResultSet.updateByte()</code> when on insert row
        throws <code class="literal">ArrayOutOfBoundsException</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed regression where <code class="literal">useUnbufferedInput</code> was
        defaulting to <code class="literal">false</code>.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> on a column with
        <a href="data-types.html#time" title="10.3.2. The TIME Type"><code class="literal">TIME</code></a> in it fails.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed <code class="literal">DatabaseMetaData.getTypes()</code> returning
        incorrect (this is, non-negative) scale for the
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">NUMERIC</code></a> type.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Only set <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>
        during connection establishment if server version &gt;= 4.1.1.
       (<a href="http://bugs.mysql.com/5664" target="_top">Bug#5664</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isReadOnly()</code> to
        detect non-writable columns when connected to MySQL-4.1 or
        newer, based on existence of “<span class="quote">original</span>” table and
        column names.
      </p></li><li><p>
        Re-issue character set configuration commands when re-using
        pooled connections and/or
        <code class="literal">Connection.changeUser()</code> when connected to
        MySQL-4.1 or newer.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-15"></a>C.7.4.3. Changes in MySQL Connector/J 3.0.15 (04 September 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.getMetaData()</code> should not return
        incorrectly initialized metadata if the result set has been
        closed, but should instead throw an
        <code class="literal">SQLException</code>. Also fixed for
        <code class="literal">getRow()</code> and <code class="literal">getWarnings()</code>
        and traversal methods by calling
        <code class="literal">checkClosed()</code> before operating on
        instance-level fields that are nullified during
        <code class="literal">.close()</code>.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        Use <code class="literal">_binary</code> introducer for
        <code class="literal">PreparedStatement.setBytes()</code> and
        <code class="literal">set*Stream()</code> when connected to MySQL-4.1.x or
        newer to avoid misinterpretation during character conversion.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        Parse new time zone variables from 4.1.x servers.
       (<a href="http://bugs.mysql.com/5069" target="_top">Bug#5069</a>)</p></li><li><p>
        <code class="literal">ResultSet</code> should release
        <code class="literal">Field[]</code> instance in
        <code class="literal">.close()</code>.
       (<a href="http://bugs.mysql.com/5022" target="_top">Bug#5022</a>)</p></li><li><p>
        <code class="literal">RSMD.getPrecision()</code> returning 0 for
        non-numeric types (should return max length in chars for
        non-binary types, max length in bytes for binary types). This
        fix also fixes mapping of
        <code class="literal">RSMD.getColumnType()</code> and
        <code class="literal">RSMD.getColumnTypeName()</code> for the
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> types based on the length
        sent from the server (the server doesn't distinguish between
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TINYBLOB</code></a>,
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>,
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">MEDIUMBLOB</code></a> or
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGBLOB</code></a> at the network protocol
        level).
       (<a href="http://bugs.mysql.com/4880" target="_top">Bug#4880</a>)</p></li><li><p>
        “<span class="quote">Production</span>” is now “<span class="quote">GA</span>” (General
        Availability) in naming scheme of distributions.
       (<a href="http://bugs.mysql.com/4860" target="_top">Bug#4860</a>, <a href="http://bugs.mysql.com/4138" target="_top">Bug#4138</a>)</p></li><li><p>
        <code class="literal">DBMD.getColumns()</code> returns incorrect JDBC type
        for unsigned columns. This affects type mappings for all numeric
        types in the <code class="literal">RSMD.getColumnType()</code> and
        <code class="literal">RSMD.getColumnTypeNames()</code> methods as well, to
        ensure that “<span class="quote">like</span>” types from
        <code class="literal">DBMD.getColumns()</code> match up with what
        <code class="literal">RSMD.getColumnType()</code> and
        <code class="literal">getColumnTypeNames()</code> return.
       (<a href="http://bugs.mysql.com/4860" target="_top">Bug#4860</a>, <a href="http://bugs.mysql.com/4138" target="_top">Bug#4138</a>)</p></li><li><p>
        Calling <code class="literal">.close()</code> twice on a
        <code class="literal">PooledConnection</code> causes NPE.
       (<a href="http://bugs.mysql.com/4808" target="_top">Bug#4808</a>)</p></li><li><p>
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">DOUBLE</code></a> mapped twice in
        <code class="literal">DBMD.getTypeInfo()</code>.
       (<a href="http://bugs.mysql.com/4742" target="_top">Bug#4742</a>)</p></li><li><p>
        Added FLOSS license exemption.
       (<a href="http://bugs.mysql.com/4742" target="_top">Bug#4742</a>)</p></li><li><p>
        Removed redundant calls to <code class="literal">checkRowPos()</code> in
        <code class="literal">ResultSet</code>.
       (<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        Failover for <code class="literal">autoReconnect</code> not using port
        numbers for any hosts, and not retrying all hosts.
      </p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
          This required a change to the <code class="literal">SocketFactory</code>
          <code class="literal">connect()</code> method signature, which is now
          <code class="literal">public Socket connect(String host, int portNumber,
          Properties props)</code>; therefore, any third-party socket
          factories will have to be changed to support this signature.
        </p></div><p>(<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        Logical connections created by
        <code class="literal">MysqlConnectionPoolDataSource</code> will now issue
        a <code class="literal">rollback()</code> when they are closed and sent
        back to the pool. If your application server/connection pool
        already does this for you, you can set the
        <code class="literal">rollbackOnPooledClose</code> property to
        <code class="literal">false</code> to avoid the overhead of an extra
        <code class="literal">rollback()</code>.
       (<a href="http://bugs.mysql.com/4334" target="_top">Bug#4334</a>)</p></li><li><p>
        <code class="literal">StringUtils.escapeEasternUnicodeByteStream</code>
        was still broken for GBK.
       (<a href="http://bugs.mysql.com/4010" target="_top">Bug#4010</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-14"></a>C.7.4.4. Changes in MySQL Connector/J 3.0.14 (28 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed URL parsing error.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-13"></a>C.7.4.5. Changes in MySQL Connector/J 3.0.13 (27 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">No Database Selected</code> when using
        <code class="literal">MysqlConnectionPoolDataSource</code>.
       (<a href="http://bugs.mysql.com/3920" target="_top">Bug#3920</a>)</p></li><li><p>
        <code class="literal">PreparedStatement.getGeneratedKeys()</code> method
        returns only 1 result for batched insertions.
       (<a href="http://bugs.mysql.com/3873" target="_top">Bug#3873</a>)</p></li><li><p>
        Using a <code class="literal">MySQLDatasource</code> without server name
        fails.
       (<a href="http://bugs.mysql.com/3848" target="_top">Bug#3848</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-12"></a>C.7.4.6. Changes in MySQL Connector/J 3.0.12 (18 May 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Inconsistent reporting of data type. The server still doesn't
        return all types for *BLOBs *TEXT correctly, so the driver won't
        return those correctly.
       (<a href="http://bugs.mysql.com/3570" target="_top">Bug#3570</a>)</p></li><li><p>
        <code class="literal">UpdatableResultSet</code> not picking up default
        values for <code class="literal">moveToInsertRow()</code>.
       (<a href="http://bugs.mysql.com/3557" target="_top">Bug#3557</a>)</p></li><li><p>
        Not specifying database in URL caused
        <code class="literal">MalformedURL</code> exception.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Auto-convert MySQL encoding names to Java encoding names if used
        for <code class="literal">characterEncoding</code> property.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Use <code class="literal">junit.textui.TestRunner</code> for all unit
        tests (to allow them to be run from the command line outside of
        Ant or Eclipse).
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Added encoding names that are recognized on some JVMs to fix
        case where they were reverse-mapped to MySQL encoding names
        incorrectly.
       (<a href="http://bugs.mysql.com/3554" target="_top">Bug#3554</a>)</p></li><li><p>
        Made <code class="literal">StringRegressionTest</code> 4.1-unicode aware.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Fixed regression in
        <code class="literal">PreparedStatement.setString()</code> and eastern
        character encodings.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        <code class="literal">DBMD.getSQLStateType()</code> returns incorrect
        value.
       (<a href="http://bugs.mysql.com/3520" target="_top">Bug#3520</a>)</p></li><li><p>
        Renamed <code class="literal">StringUtils.escapeSJISByteStream()</code> to
        more appropriate
        <code class="literal">escapeEasternUnicodeByteStream()</code>.
       (<a href="http://bugs.mysql.com/3511" target="_top">Bug#3511</a>)</p></li><li><p>
        <code class="literal">StringUtils.escapeSJISByteStream()</code> not
        covering all eastern double-byte charsets correctly.
       (<a href="http://bugs.mysql.com/3511" target="_top">Bug#3511</a>)</p></li><li><p>
        Return creating statement for <code class="literal">ResultSets</code>
        created by <code class="literal">getGeneratedKeys()</code>.
       (<a href="http://bugs.mysql.com/2957" target="_top">Bug#2957</a>)</p></li><li><p>
        Use <code class="literal">SET character_set_results</code> during
        initialization to allow any charset to be returned to the driver
        for result sets.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Don't truncate <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> or
        <code class="literal">CLOB</code> values when using
        <code class="literal">setBytes()</code> and/or
        <code class="literal">setBinary/CharacterStream()</code>. .
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Dynamically configure character set mappings for field-level
        character sets on MySQL-4.1.0 and newer using
        <a href="sql-syntax.html#show-collation" title="12.5.6.5. SHOW COLLATION Syntax"><code class="literal">SHOW COLLATION</code></a> when connecting.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Map <code class="literal">binary</code> character set to
        <code class="literal">US-ASCII</code> to support
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATETIME</code></a> charset recognition for
        servers &gt;= 4.1.2.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Use <code class="literal">charsetnr</code> returned during connect to
        encode queries before issuing <code class="literal">SET NAMES</code> on
        MySQL &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Add helper methods to <code class="literal">ResultSetMetaData</code>
        (<code class="literal">getColumnCharacterEncoding()</code> and
        <code class="literal">getColumnCharacterSet()</code>) to allow end-users
        to see what charset the driver thinks it should be using for the
        column.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Only set <a href="server-administration.html#sysvar_character_set_results"><code class="literal">character_set_results</code></a>
        for MySQL &gt;= 4.1.0.
       (<a href="http://bugs.mysql.com/2670" target="_top">Bug#2670</a>)</p></li><li><p>
        Allow <code class="literal">url</code> parameter for
        <code class="literal">MysqlDataSource</code> and
        <code class="literal">MysqlConnectionPool</code>
        <code class="literal">DataSource</code> so that passing of other
        properties is possible from inside appservers.
      </p></li><li><p>
        Don't escape SJIS/GBK/BIG5 when using MySQL-4.1 or newer.
      </p></li><li><p>
        Backport documentation tooling from 3.1 branch.
      </p></li><li><p>
        Added <code class="literal">failOverReadOnly</code> property, to allow
        end-user to configure state of connection (read-only/writable)
        when failed over.
      </p></li><li><p>
        Allow <code class="literal">java.util.Date</code> to be sent in as
        parameter to <code class="literal">PreparedStatement.setObject()</code>,
        converting it to a <code class="literal">Timestamp</code> to maintain full
        precision. .
       (<a href="http://bugs.mysql.com/103" target="_top">Bug#103</a>)</p></li><li><p>
        Add unsigned attribute to
        <code class="literal">DatabaseMetaData.getColumns()</code> output in the
        <code class="literal">TYPE_NAME</code> column.
      </p></li><li><p>
        Map duplicate key and foreign key errors to SQLState of
        <code class="literal">23000</code>.
      </p></li><li><p>
        Backported “<span class="quote">change user</span>” and “<span class="quote">reset server
        state</span>” functionality from 3.1 branch, to allow clients of
        <code class="literal">MysqlConnectionPoolDataSource</code> to reset server
        state on <code class="literal">getConnection()</code> on a pooled
        connection.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-11"></a>C.7.4.7. Changes in MySQL Connector/J 3.0.11 (19 February 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Return <code class="literal">java.lang.Double</code> for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">FLOAT</code></a> type from
        <code class="literal">ResultSetMetaData.getColumnClassName()</code>.
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Return <code class="literal">[B</code> instead of
        <code class="literal">java.lang.Object</code> for
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">BINARY</code></a>,
        <a href="data-types.html#binary-varbinary" title="10.4.2. The BINARY and
        VARBINARY Types"><code class="literal">VARBINARY</code></a> and
        <code class="literal">LONGVARBINARY</code> types from
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> (JDBC
        compliance).
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Issue connection events on all instances created from a
        <code class="literal">ConnectionPoolDataSource</code>.
       (<a href="http://bugs.mysql.com/2855" target="_top">Bug#2855</a>)</p></li><li><p>
        Return <code class="literal">java.lang.Integer</code> for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a> types from
        <code class="literal">ResultSetMetaData.getColumnClassName()</code>.
       (<a href="http://bugs.mysql.com/2852" target="_top">Bug#2852</a>)</p></li><li><p>
        Added <code class="literal">useUnbufferedInput</code> parameter, and now
        use it by default (due to JVM issue
        <a href="http://developer.java.sun.com/developer/bugParade/bugs/4401235.html" target="_top">http://developer.java.sun.com/developer/bugParade/bugs/4401235.html</a>)
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        Fixed failover always going to last host in list.
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        Detect <code class="literal">on</code>/<code class="literal">off</code> or
        <code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">3</code>
        form of <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
        value on server.
       (<a href="http://bugs.mysql.com/2578" target="_top">Bug#2578</a>)</p></li><li><p>
        <code class="literal">AutoReconnect</code> time was growing faster than
        exponentially.
       (<a href="http://bugs.mysql.com/2447" target="_top">Bug#2447</a>)</p></li><li><p>
        Trigger a <code class="literal">SET NAMES utf8</code> when encoding is
        forced to <code class="literal">utf8</code> <span class="emphasis"><em>or</em></span>
        <code class="literal">utf-8</code> via the
        <code class="literal">characterEncoding</code> property. Previously, only
        the Java-style encoding name of <code class="literal">utf-8</code> would
        trigger this.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-10"></a>C.7.4.8. Changes in MySQL Connector/J 3.0.10 (13 January 2004)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Enable caching of the parsing stage of prepared statements via
        the <code class="literal">cachePrepStmts</code>,
        <code class="literal">prepStmtCacheSize</code>, and
        <code class="literal">prepStmtCacheSqlLimit</code> properties (disabled by
        default).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed security exception when used in Applets (applets can't
        read the system property <code class="literal">file.encoding</code> which
        is needed for <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD
        DATA LOCAL INFILE</code></a>).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Speed up parsing of <code class="literal">PreparedStatements</code>, try
        to use one-pass whenever possible.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed exception <code class="literal">Unknown character set
        'danish'</code> on connect with JDK-1.4.0
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Fixed mappings in SQLError to report deadlocks with SQLStates of
        <code class="literal">41000</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Removed static synchronization bottleneck from instance factory
        method of <code class="literal">SingleByteCharsetConverter</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Removed static synchronization bottleneck from
        <code class="literal">PreparedStatement.setTimestamp()</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">ResultSet.findColumn()</code> should use first
        matching column name when there are duplicate column names in
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> query (JDBC-compliance).
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">maxRows</code> property would affect internal
        statements, so check it for all statement creation internal to
        the driver, and set to 0 when it is not.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Use constants for SQLStates.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Map charset <code class="literal">ko18_ru</code> to
        <code class="literal">ko18r</code> when connected to MySQL-4.1.0 or newer.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        Ensure that <code class="literal">Buffer.writeString()</code> saves room
        for the <code class="literal">\0</code>.
       (<a href="http://bugs.mysql.com/2006" target="_top">Bug#2006</a>)</p></li><li><p>
        <code class="literal">ArrayIndexOutOfBounds</code> when parameter number
        == number of parameters + 1.
       (<a href="http://bugs.mysql.com/1958" target="_top">Bug#1958</a>)</p></li><li><p>
        Connection property <code class="literal">maxRows</code> not honored.
       (<a href="http://bugs.mysql.com/1933" target="_top">Bug#1933</a>)</p></li><li><p>
        Statements being created too many times in
        <code class="literal">DBMD.extractForeignKeyFromCreateTable()</code>.
       (<a href="http://bugs.mysql.com/1925" target="_top">Bug#1925</a>)</p></li><li><p>
        Support escape sequence {fn convert ... }.
       (<a href="http://bugs.mysql.com/1914" target="_top">Bug#1914</a>)</p></li><li><p>
        Implement <code class="literal">ResultSet.updateClob()</code>.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Autoreconnect code didn't set catalog upon reconnect if it had
        been changed.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">ResultSet.getObject()</code> on
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a> columns should return
        Java type <code class="literal">Integer</code>.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Added more descriptive error message <code class="literal">Server
        Configuration Denies Access to DataSource</code>, as well as
        retrieval of message from server.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">ResultSetMetaData.isCaseSensitive()</code> returned
        wrong value for
        <a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">CHAR</code></a>/<a href="data-types.html#char" title="10.4.1. The CHAR and
        VARCHAR Types"><code class="literal">VARCHAR</code></a>
        columns.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        Added <code class="literal">alwaysClearStream</code> connection property,
        which causes the driver to always empty any remaining data on
        the input stream before each query.
       (<a href="http://bugs.mysql.com/1913" target="_top">Bug#1913</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getSystemFunction()</code>
        returning bad function <code class="literal">VResultsSion</code>.
       (<a href="http://bugs.mysql.com/1775" target="_top">Bug#1775</a>)</p></li><li><p>
        Foreign Keys column sequence is not consistent in
        <code class="literal">DatabaseMetaData.getImported/Exported/CrossReference()</code>.
       (<a href="http://bugs.mysql.com/1731" target="_top">Bug#1731</a>)</p></li><li><p>
        Fix for <code class="literal">ArrayIndexOutOfBounds</code> exception when
        using <code class="literal">Statement.setMaxRows()</code>.
       (<a href="http://bugs.mysql.com/1695" target="_top">Bug#1695</a>)</p></li><li><p>
        Subsequent call to <code class="literal">ResultSet.updateFoo()</code>
        causes NPE if result set is not updatable.
       (<a href="http://bugs.mysql.com/1630" target="_top">Bug#1630</a>)</p></li><li><p>
        Fix for 4.1.1-style authentication with no password.
       (<a href="http://bugs.mysql.com/1630" target="_top">Bug#1630</a>)</p></li><li><p>
        Cross-database updatable result sets are not checked for
        updatability correctly.
       (<a href="http://bugs.mysql.com/1592" target="_top">Bug#1592</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> should return
        <code class="literal">Types.LONGVARCHAR</code> for MySQL
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> type.
       (<a href="http://bugs.mysql.com/1592" target="_top">Bug#1592</a>)</p></li><li><p>
        Fixed regression of
        <code class="literal">Statement.getGeneratedKeys()</code> and
        <a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements.
       (<a href="http://bugs.mysql.com/1576" target="_top">Bug#1576</a>)</p></li><li><p>
        Barge blobs and split packets not being read correctly.
       (<a href="http://bugs.mysql.com/1576" target="_top">Bug#1576</a>)</p></li><li><p>
        Backported fix for aliased tables and
        <code class="literal">UpdatableResultSets</code> in
        <code class="literal">checkUpdatability()</code> method from 3.1 branch.
       (<a href="http://bugs.mysql.com/1534" target="_top">Bug#1534</a>)</p></li><li><p>
        “<span class="quote">Friendlier</span>” exception message for
        <code class="literal">PacketTooLargeException</code>.
       (<a href="http://bugs.mysql.com/1534" target="_top">Bug#1534</a>)</p></li><li><p>
        Don't count quoted IDs when inside a 'string' in
        <code class="literal">PreparedStatement</code> parsing.
       (<a href="http://bugs.mysql.com/1511" target="_top">Bug#1511</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-9"></a>C.7.4.9. Changes in MySQL Connector/J 3.0.9 (07 October 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.get/setString</code> mashing char 127.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Added property to “<span class="quote">clobber</span>” streaming results, by
        setting the <code class="literal">clobberStreamingResults</code> property
        to <code class="literal">true</code> (the default is
        <code class="literal">false</code>). This will cause a
        “<span class="quote">streaming</span>” <code class="literal">ResultSet</code> to be
        automatically closed, and any oustanding data still streaming
        from the server to be discarded if another query is executed
        before all the data has been read from the server.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.util.BaseBugReport</code> to
        help creation of testcases for bug reports.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Backported authentication changes for 4.1.1 and newer from 3.1
        branch.
       (<a href="http://bugs.mysql.com/1247" target="_top">Bug#1247</a>)</p></li><li><p>
        Made <code class="literal">databaseName</code>,
        <code class="literal">portNumber</code>, and <code class="literal">serverName</code>
        optional parameters for
        <code class="literal">MysqlDataSourceFactory</code>.
       (<a href="http://bugs.mysql.com/1246" target="_top">Bug#1246</a>)</p></li><li><p>
        Optimized <code class="literal">CLOB.setChracterStream()</code>.
       (<a href="http://bugs.mysql.com/1131" target="_top">Bug#1131</a>)</p></li><li><p>
        Fixed <code class="literal">CLOB.truncate()</code>.
       (<a href="http://bugs.mysql.com/1130" target="_top">Bug#1130</a>)</p></li><li><p>
        Fixed deadlock issue with
        <code class="literal">Statement.setMaxRows()</code>.
       (<a href="http://bugs.mysql.com/1099" target="_top">Bug#1099</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> getting
        confused about the keyword “<span class="quote">set</span>” in character
        columns.
       (<a href="http://bugs.mysql.com/1099" target="_top">Bug#1099</a>)</p></li><li><p>
        Clip +/- INF (to smallest and largest representative values for
        the type in MySQL) and NaN (to 0) for
        <code class="literal">setDouble</code>/<code class="literal">setFloat()</code>, and
        issue a warning on the statement when the server does not
        support +/- INF or NaN.
       (<a href="http://bugs.mysql.com/884" target="_top">Bug#884</a>)</p></li><li><p>
        Don't fire connection closed events when closing pooled
        connections, or on
        <code class="literal">PooledConnection.getConnection()</code> with already
        open connections.
       (<a href="http://bugs.mysql.com/884" target="_top">Bug#884</a>)</p></li><li><p>
        Double-escaping of <code class="literal">'\'</code> when charset is SJIS
        or GBK and <code class="literal">'\'</code> appears in non-escaped input.
       (<a href="http://bugs.mysql.com/879" target="_top">Bug#879</a>)</p></li><li><p>
        When emptying input stream of unused rows for
        “<span class="quote">streaming</span>” result sets, have the current thread
        <code class="literal">yield()</code> every 100 rows in order to not
        monopolize CPU time.
       (<a href="http://bugs.mysql.com/879" target="_top">Bug#879</a>)</p></li><li><p>
        Issue exception on
        <code class="literal">ResultSet.get<em class="replaceable"><code>XXX</code></em>()</code>
        on empty result set (wasn't caught in some cases).
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Don't hide messages from exceptions thrown in I/O layers.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Fixed regression in large split-packet handling.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Better diagnostic error messages in exceptions for
        “<span class="quote">streaming</span>” result sets.
       (<a href="http://bugs.mysql.com/848" target="_top">Bug#848</a>)</p></li><li><p>
        Don't change timestamp TZ twice if
        <code class="literal">useTimezone==true</code>.
       (<a href="http://bugs.mysql.com/774" target="_top">Bug#774</a>)</p></li><li><p>
        Don't wrap <code class="literal">SQLExceptions</code> in
        <code class="literal">RowDataDynamic</code>.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Don't try and reset isolation level on reconnect if MySQL
        doesn't support them.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        The <code class="literal">insertRow</code> in an
        <code class="literal">UpdatableResultSet</code> is now loaded with the
        default column values when <code class="literal">moveToInsertRow()</code>
        is called.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        <code class="literal">DatabaseMetaData.getColumns()</code> wasn't
        returning <code class="literal">NULL</code> for default values that are
        specified as <code class="literal">NULL</code>.
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Change default statement type/concurrency to
        <code class="literal">TYPE_FORWARD_ONLY</code> and
        <code class="literal">CONCUR_READ_ONLY</code> (spec compliance).
       (<a href="http://bugs.mysql.com/688" target="_top">Bug#688</a>)</p></li><li><p>
        Fix <code class="literal">UpdatableResultSet</code> to return values for
        <code class="literal">get<em class="replaceable"><code>XXX</code></em>()</code> when on
        insert row.
       (<a href="http://bugs.mysql.com/675" target="_top">Bug#675</a>)</p></li><li><p>
        Support <code class="literal">InnoDB</code> contraint names when
        extracting foreign key information in
        <code class="literal">DatabaseMetaData</code> (implementing ideas from
        Parwinder Sekhon).
       (<a href="http://bugs.mysql.com/664" target="_top">Bug#664</a>, <a href="http://bugs.mysql.com/517" target="_top">Bug#517</a>)</p></li><li><p>
        Backported 4.1 protocol changes from 3.1 branch (server-side SQL
        states, new field information, larger client capability flags,
        connect-with-database, and so forth).
       (<a href="http://bugs.mysql.com/664" target="_top">Bug#664</a>, <a href="http://bugs.mysql.com/517" target="_top">Bug#517</a>)</p></li><li><p>
        <code class="literal">refreshRow</code> didn't work when primary key
        values contained values that needed to be escaped (they ended up
        being doubly escaped).
       (<a href="http://bugs.mysql.com/661" target="_top">Bug#661</a>)</p></li><li><p>
        Fixed <code class="literal">ResultSet.previous()</code> behavior to move
        current position to before result set when on first row of
        result set.
       (<a href="http://bugs.mysql.com/496" target="_top">Bug#496</a>)</p></li><li><p>
        Fixed <code class="literal">Statement</code> and
        <code class="literal">PreparedStatement</code> issuing bogus queries when
        <code class="literal">setMaxRows()</code> had been used and a
        <code class="literal">LIMIT</code> clause was present in the query.
       (<a href="http://bugs.mysql.com/496" target="_top">Bug#496</a>)</p></li><li><p>
        Faster date handling code in <code class="literal">ResultSet</code> and
        <code class="literal">PreparedStatement</code> (no longer uses
        <code class="literal">Date</code> methods that synchronize on static
        calendars).
      </p></li><li><p>
        Fixed test for end of buffer in
        <code class="literal">Buffer.readString()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-8"></a>C.7.4.10. Changes in MySQL Connector/J 3.0.8 (23 May 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed SJIS encoding bug, thanks to Naoto Sato.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Fix problem detecting server character set in some cases.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Allow multiple calls to <code class="literal">Statement.close()</code>.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Return correct number of generated keys when using
        <a href="sql-syntax.html#replace" title="12.2.8. REPLACE Syntax"><code class="literal">REPLACE</code></a> statements.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Unicode character 0xFFFF in a string would cause the driver to
        throw an <code class="literal">ArrayOutOfBoundsException</code>. .
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Fix row data decoding error when using <span class="emphasis"><em>very</em></span>
        large packets.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Optimized row data decoding.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Issue exception when operating on an already closed prepared
        statement.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Optimized usage of <code class="literal">EscapeProcessor</code>.
       (<a href="http://bugs.mysql.com/378" target="_top">Bug#378</a>)</p></li><li><p>
        Use JVM charset with file names and <code class="literal">LOAD DATA [LOCAL]
        INFILE</code>.
      </p></li><li><p>
        Fix infinite loop with <code class="literal">Connection.cleanup()</code>.
      </p></li><li><p>
        Changed Ant target <code class="literal">compile-core</code> to
        <code class="literal">compile-driver</code>, and made testsuite
        compilation a separate target.
      </p></li><li><p>
        Fixed result set not getting set for
        <code class="literal">Statement.executeUpdate()</code>, which affected
        <code class="literal">getGeneratedKeys()</code> and
        <code class="literal">getUpdateCount()</code> in some cases.
      </p></li><li><p>
        Return list of generated keys when using multi-value
        <code class="literal">INSERTS</code> with
        <code class="literal">Statement.getGeneratedKeys()</code>.
      </p></li><li><p>
        Allow bogus URLs in <code class="literal">Driver.getPropertyInfo()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-7"></a>C.7.4.11. Changes in MySQL Connector/J 3.0.7 (08 April 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed charset issues with database metadata (charset was not
        getting set correctly).
      </p></li><li><p>
        You can now toggle profiling on/off using
        <code class="literal">Connection.setProfileSql(boolean)</code>.
      </p></li><li><p>
        4.1 Column Metadata fixes.
      </p></li><li><p>
        Fixed <code class="literal">MysqlPooledConnection.close()</code> calling
        wrong event type.
      </p></li><li><p>
        Fixed <code class="literal">StringIndexOutOfBoundsException</code> in
        <code class="literal">PreparedStatement.setClob()</code>.
      </p></li><li><p>
        <code class="literal">IOExceptions</code> during a transaction now cause
        the <code class="literal">Connection</code> to be closed.
      </p></li><li><p>
        Remove synchronization from <code class="literal">Driver.connect()</code>
        and <code class="literal">Driver.acceptsUrl()</code>.
      </p></li><li><p>
        Fixed missing conversion for <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a>
        type in
        <code class="literal">ResultSetMetaData.getColumnTypeName()</code>.
      </p></li><li><p>
        Updatable <code class="literal">ResultSets</code> can now be created for
        aliased tables/columns when connected to MySQL-4.1 or newer.
      </p></li><li><p>
        Fixed <a href="sql-syntax.html#load-data" title="12.2.6. LOAD DATA INFILE
      Syntax"><code class="literal">LOAD DATA LOCAL
        INFILE</code></a> bug when file &gt;
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a>.
      </p></li><li><p>
        Don't pick up indexes that start with <code class="literal">pri</code> as
        primary keys for <code class="literal">DBMD.getPrimaryKeys()</code>.
      </p></li><li><p>
        Ensure that packet size from
        <code class="literal">alignPacketSize()</code> does not exceed
        <a href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a> (JVM bug)
      </p></li><li><p>
        Don't reset <code class="literal">Connection.isReadOnly()</code> when
        autoReconnecting.
      </p></li><li><p>
        Fixed escaping of 0x5c (<code class="literal">'\'</code>) character for
        GBK and Big5 charsets.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getTimestamp()</code> when
        underlying field is of type <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a>.
      </p></li><li><p>
        Throw <code class="literal">SQLExceptions</code> when trying to do
        operations on a forcefully closed <code class="literal">Connection</code>
        (that is, when a communication link failure occurs).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-6"></a>C.7.4.12. Changes in MySQL Connector/J 3.0.6 (18 February 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Backported 4.1 charset field info changes from Connector/J 3.1.
      </p></li><li><p>
        Fixed <code class="literal">Statement.setMaxRows()</code> to stop sending
        <code class="literal">LIMIT</code> type queries when not needed
        (performance).
      </p></li><li><p>
        Fixed <code class="literal">DBMD.getTypeInfo()</code> and
        <code class="literal">DBMD.getColumns()</code> returning different value
        for precision in <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> and
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> types.
      </p></li><li><p>
        Fixed <code class="literal">SQLExceptions</code> getting swallowed on
        initial connect.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData</code> to return
        <code class="literal">""</code> when catalog not known. Fixes
        <code class="literal">NullPointerExceptions</code> with Sun's
        <code class="literal">CachedRowSet</code>.
      </p></li><li><p>
        Allow ignoring of warning for “<span class="quote">non transactional
        tables</span>” during rollback (compliance/usability) by setting
        <code class="literal">ignoreNonTxTables</code> property to
        <code class="literal">true</code>.
      </p></li><li><p>
        Clean up <code class="literal">Statement</code> query/method mismatch
        tests (that is, <a href="sql-syntax.html#insert" title="12.2.5. INSERT Syntax"><code class="literal">INSERT</code></a> not
        allowed with <code class="literal">.executeQuery()</code>).
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isWritable()</code> to
        return correct value.
      </p></li><li><p>
        More checks added in <code class="literal">ResultSet</code> traversal
        method to catch when in closed state.
      </p></li><li><p>
        Implemented <code class="literal">Blob.setBytes()</code>. You still need
        to pass the resultant <code class="literal">Blob</code> back into an
        updatable <code class="literal">ResultSet</code> or
        <code class="literal">PreparedStatement</code> to persist the changes,
        because MySQL does not support “<span class="quote">locators</span>”.
      </p></li><li><p>
        Add “<span class="quote">window</span>” of different <code class="literal">NULL</code>
        sorting behavior to
        <code class="literal">DBMD.nullsAreSortedAtStart</code> (4.0.2 to 4.0.10,
        true; otherwise, no).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-5"></a>C.7.4.13. Changes in MySQL Connector/J 3.0.5 (22 January 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">ResultSet.isBeforeFirst()</code> for empty
        result sets.
      </p></li><li><p>
        Added missing <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">LONGTEXT</code></a> type to
        <code class="literal">DBMD.getColumns()</code>.
      </p></li><li><p>
        Implemented an empty <code class="literal">TypeMap</code> for
        <code class="literal">Connection.getTypeMap()</code> so that some
        third-party apps work with MySQL (IBM WebSphere 5.0 Connection
        pool).
      </p></li><li><p>
        Added update options for foreign key metadata.
      </p></li><li><p>
        Fixed <code class="literal">Buffer.fastSkipLenString()</code> causing
        <code class="literal">ArrayIndexOutOfBounds</code> exceptions with some
        queries when unpacking fields.
      </p></li><li><p>
        Quote table names in
        <code class="literal">DatabaseMetaData.getColumns()</code>,
        <code class="literal">getPrimaryKeys()</code>,
        <code class="literal">getIndexInfo()</code>,
        <code class="literal">getBestRowIdentifier()</code>.
      </p></li><li><p>
        Retrieve <code class="literal">TX_ISOLATION</code> from database for
        <code class="literal">Connection.getTransactionIsolation()</code> when the
        MySQL version supports it, instead of an instance variable.
      </p></li><li><p>
        Greatly reduce memory required for
        <code class="literal">setBinaryStream()</code> in
        <code class="literal">PreparedStatements</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-4"></a>C.7.4.14. Changes in MySQL Connector/J 3.0.4 (06 January 2003)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Streamlined character conversion and <code class="literal">byte[]</code>
        handling in <code class="literal">PreparedStatements</code> for
        <code class="literal">setByte()</code>.
      </p></li><li><p>
        Fixed <code class="literal">PreparedStatement.executeBatch()</code>
        parameter overwriting.
      </p></li><li><p>
        Added quoted identifiers to database names for
        <code class="literal">Connection.setCatalog</code>.
      </p></li><li><p>
        Added support for 4.0.8-style large packets.
      </p></li><li><p>
        Reduce memory footprint of <code class="literal">PreparedStatements</code>
        by sharing outbound packet with <code class="literal">MysqlIO</code>.
      </p></li><li><p>
        Added <code class="literal">strictUpdates</code> property to allow control
        of amount of checking for “<span class="quote">correctness</span>” of
        updatable result sets. Set this to <code class="literal">false</code> if
        you want faster updatable result sets and you know that you
        create them from <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a>
        statements on tables with primary keys and that you have
        selected all primary keys in your query.
      </p></li><li><p>
        Added support for quoted identifiers in
        <code class="literal">PreparedStatement</code> parser.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-3"></a>C.7.4.15. Changes in MySQL Connector/J 3.0.3 (17 December 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Allow user to alter behavior of <code class="literal">Statement</code>/
        <code class="literal">PreparedStatement.executeBatch()</code> via
        <code class="literal">continueBatchOnError</code> property (defaults to
        <code class="literal">true</code>).
      </p></li><li><p>
        More robust escape tokenizer: Recognize <code class="literal">--</code>
        comments, and allow nested escape sequences (see
        <code class="literal">testsuite.EscapeProcessingTest</code>).
      </p></li><li><p>
        Fixed <code class="literal">Buffer.isLastDataPacket()</code> for 4.1 and
        newer servers.
      </p></li><li><p>
        <code class="literal">NamedPipeSocketFactory</code> now works (only
        intended for Windows), see <code class="filename">README</code> for
        instructions.
      </p></li><li><p>
        Changed <code class="literal">charsToByte</code> in
        <code class="literal">SingleByteCharConverter</code> to be non-static.
      </p></li><li><p>
        Use non-aliased table/column names and database names to fully
        qualify tables and columns in
        <code class="literal">UpdatableResultSet</code> (requires MySQL-4.1 or
        newer).
      </p></li><li><p>
        <code class="literal">LOAD DATA LOCAL INFILE ...</code> now works, if your
        server is configured to allow it. Can be turned off with the
        <code class="literal">allowLoadLocalInfile</code> property (see the
        <code class="filename">README</code>).
      </p></li><li><p>
        Implemented <code class="literal">Connection.nativeSQL()</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getColumnTypeName()</code>
        returning <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> and
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> types.
      </p></li><li><p>
        Fixed charset handling in <code class="literal">Fields.java</code>.
      </p></li><li><p>
        Because of above, implemented
        <code class="literal">ResultSetMetaData.isAutoIncrement()</code> to use
        <code class="literal">Field.isAutoIncrement()</code>.
      </p></li><li><p>
        Substitute <code class="literal">'?'</code> for unknown character
        conversions in single-byte character sets instead of
        <code class="literal">'\0'</code>.
      </p></li><li><p>
        Added <code class="literal">CLIENT_LONG_FLAG</code> to be able to get more
        column flags (<code class="literal">isAutoIncrement()</code> being the
        most important).
      </p></li><li><p>
        Honor <a href="server-administration.html#sysvar_lower_case_table_names"><code class="literal">lower_case_table_names</code></a>
        when enabled in the server when doing table name comparisons in
        <code class="literal">DatabaseMetaData</code> methods.
      </p></li><li><p>
        <code class="literal">DBMD.getImported/ExportedKeys()</code> now handles
        multiple foreign keys per table.
      </p></li><li><p>
        More robust implementation of updatable result sets. Checks that
        <span class="emphasis"><em>all</em></span> primary keys of the table have been
        selected.
      </p></li><li><p>
        Some MySQL-4.1 protocol support (extended field info from
        selects).
      </p></li><li><p>
        Check for connection closed in more
        <code class="literal">Connection</code> methods
        (<code class="literal">createStatement</code>,
        <code class="literal">prepareStatement</code>,
        <code class="literal">setTransactionIsolation</code>,
        <code class="literal">setAutoCommit</code>).
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getPrecision()</code>
        returning incorrect values for some floating-point types.
      </p></li><li><p>
        Changed <code class="literal">SingleByteCharConverter</code> to use lazy
        initialization of each converter.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-2"></a>C.7.4.16. Changes in MySQL Connector/J 3.0.2 (08 November 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Implemented <code class="literal">Clob.setString()</code>.
      </p></li><li><p>
        Added <code class="literal">com.mysql.jdbc.MiniAdmin</code> class, which
        allows you to send <code class="literal">shutdown</code> command to MySQL
        server. This is intended to be used when
        “<span class="quote">embedding</span>” Java and MySQL server together in an
        end-user application.
      </p></li><li><p>
        Added SSL support. See <code class="filename">README</code> for
        information on how to use it.
      </p></li><li><p>
        All <code class="literal">DBMD</code> result set columns describing
        schemas now return <code class="literal">NULL</code> to be more compliant
        with the behavior of other JDBC drivers for other database
        systems (MySQL does not support schemas).
      </p></li><li><p>
        Use <a href="sql-syntax.html#show-create-table" title="12.5.6.12. SHOW CREATE TABLE Syntax"><code class="literal">SHOW CREATE TABLE</code></a> when
        possible for determining foreign key information for
        <code class="literal">DatabaseMetaData</code>. Also allows cascade options
        for <a href="sql-syntax.html#delete" title="12.2.2. DELETE Syntax"><code class="literal">DELETE</code></a> information to be
        returned.
      </p></li><li><p>
        Implemented <code class="literal">Clob.setCharacterStream()</code>.
      </p></li><li><p>
        Failover and <code class="literal">autoReconnect</code> work only when the
        connection is in an <code class="literal">autoCommit(false)</code> state,
        in order to stay transaction-safe.
      </p></li><li><p>
        Fixed <code class="literal">DBMD.supportsResultSetConcurrency()</code> so
        that it returns <code class="literal">true</code> for
        <code class="literal">ResultSet.TYPE_SCROLL_INSENSITIVE</code> and
        <code class="literal">ResultSet.CONCUR_READ_ONLY</code> or
        <code class="literal">ResultSet.CONCUR_UPDATABLE</code>.
      </p></li><li><p>
        Implemented <code class="literal">Clob.setAsciiStream()</code>.
      </p></li><li><p>
        Removed duplicate code from
        <code class="literal">UpdatableResultSet</code> (it can be inherited from
        <code class="literal">ResultSet</code>, the extra code for each method to
        handle updatability I thought might someday be necessary has not
        been needed).
      </p></li><li><p>
        Fixed <code class="literal">UnsupportedEncodingException</code> thrown
        when “<span class="quote">forcing</span>” a character encoding via properties.
      </p></li><li><p>
        Fixed incorrect conversion in
        <code class="literal">ResultSet.getLong()</code>.
      </p></li><li><p>
        Implemented <code class="literal">ResultSet.updateBlob()</code>.
      </p></li><li><p>
        Removed some not-needed temporary object creation by smarter use
        of <code class="literal">Strings</code> in
        <code class="literal">EscapeProcessor</code>,
        <code class="literal">Connection</code> and
        <code class="literal">DatabaseMetaData</code> classes.
      </p></li><li><p>
        Escape <code class="literal">0x5c</code> character in strings for the SJIS
        charset.
      </p></li><li><p>
        <code class="literal">PreparedStatement</code> now honors stream lengths
        in setBinary/Ascii/Character Stream() unless you set the
        connection property
        <code class="literal">useStreamLengthsInPrepStmts</code> to
        <code class="literal">false</code>.
      </p></li><li><p>
        Fixed issue with updatable result sets and
        <code class="literal">PreparedStatements</code> not working.
      </p></li><li><p>
        Fixed start position off-by-1 error in
        <code class="literal">Clob.getSubString()</code>.
      </p></li><li><p>
        Added <code class="literal">connectTimeout</code> parameter that allows
        users of JDK-1.4 and newer to specify a maximum time to wait to
        establish a connection.
      </p></li><li><p>
        Fixed various non-ASCII character encoding issues.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.isLast()</code> for empty result
        sets (should return <code class="literal">false</code>).
      </p></li><li><p>
        Added driver property <code class="literal">useHostsInPrivileges</code>.
        Defaults to <code class="literal">true</code>. Affects whether or not
        <code class="literal">@hostname</code> will be used in
        <code class="literal">DBMD.getColumn/TablePrivileges</code>.
      </p></li><li><p>
        Fixed
        <code class="literal">ResultSet.setFetchDirection(FETCH_UNKNOWN)</code>.
      </p></li><li><p>
        Added <code class="literal">queriesBeforeRetryMaster</code> property that
        specifies how many queries to issue when failed over before
        attempting to reconnect to the master (defaults to 50).
      </p></li><li><p>
        Fixed issue when calling
        <code class="literal">Statement.setFetchSize()</code> when using arbitrary
        values.
      </p></li><li><p>
        Properly restore connection properties when autoReconnecting or
        failing-over, including <code class="literal">autoCommit</code> state, and
        isolation level.
      </p></li><li><p>
        Implemented <code class="literal">Clob.truncate()</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-1"></a>C.7.4.17. Changes in MySQL Connector/J 3.0.1 (21 September 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Charsets now automatically detected. Optimized code for
        single-byte character set conversion.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.isSigned()</code> for
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a> and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIGINT</code></a>.
      </p></li><li><p>
        Fixed <code class="literal">RowDataStatic.getAt()</code> off-by-one bug.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getRow()</code> off-by-one bug.
      </p></li><li><p>
        Massive code clean-up to follow Java coding conventions (the
        time had come).
      </p></li><li><p>
        Implemented <code class="literal">ResultSet.getCharacterStream()</code>.
      </p></li><li><p>
        Added limited <code class="literal">Clob</code> functionality
        (<code class="literal">ResultSet.getClob()</code>,
        <code class="literal">PreparedStatemtent.setClob()</code>,
        <code class="literal">PreparedStatement.setObject(Clob)</code>.
      </p></li><li><p>
        <code class="literal">Connection.isClosed()</code> no longer
        “<span class="quote">pings</span>” the server.
      </p></li><li><p>
        <code class="literal">Connection.close()</code> issues
        <code class="literal">rollback()</code> when
        <code class="literal">getAutoCommit()</code> is <code class="literal">false</code>.
      </p></li><li><p>
        Added <code class="literal">socketTimeout</code> parameter to URL.
      </p></li><li><p>
        Added <code class="literal">LOCAL TEMPORARY</code> to table types in
        <code class="literal">DatabaseMetaData.getTableTypes()</code>.
      </p></li><li><p>
        Added <code class="literal">paranoid</code> parameter, which sanitizes
        error messages by removing “<span class="quote">sensitive</span>” information
        from them (such as host names, ports, or user names), as well as
        clearing “<span class="quote">sensitive</span>” data structures when possible.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-3-0-0"></a>C.7.4.18. Changes in MySQL Connector/J 3.0.0 (31 July 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        General source-code cleanup.
      </p></li><li><p>
        The driver now only works with JDK-1.2 or newer.
      </p></li><li><p>
        Fix and sort primary key names in <code class="literal">DBMetaData</code>
        (SF bugs 582086 and 582086).
      </p></li><li><p>
        <code class="literal">ResultSet.getTimestamp()</code> now works for
        <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">DATE</code></a> types (SF bug 559134).
      </p></li><li><p>
        Float types now reported as
        <code class="literal">java.sql.Types.FLOAT</code> (SF bug 579573).
      </p></li><li><p>
        Support for streaming (row-by-row) result sets (see
        <code class="filename">README</code>) Thanks to Doron.
      </p></li><li><p>
        Testsuite now uses Junit (which you can get from
        <a href="http://www.junit.org" target="_top">http://www.junit.org</a>.
      </p></li><li><p>
        JDBC Compliance: Passes all tests besides stored procedure
        tests.
      </p></li><li><p>
        <code class="literal">ResultSet.getDate/Time/Timestamp</code> now
        recognizes all forms of invalid values that have been set to all
        zeros by MySQL (SF bug 586058).
      </p></li><li><p>
        Added multi-host failover support (see
        <code class="filename">README</code>).
      </p></li><li><p>
        Repackaging: New driver name is
        <code class="literal">com.mysql.jdbc.Driver</code>, old name still works,
        though (the driver is now provided by MySQL-AB).
      </p></li><li><p>
        Support for large packets (new addition to MySQL-4.0 protocol),
        see <code class="filename">README</code> for more information.
      </p></li><li><p>
        Better checking for closed connections in
        <code class="literal">Statement</code> and
        <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        Performance improvements in string handling and field metadata
        creation (lazily instantiated) contributed by Alex
        Twisleton-Wykeham-Fiennes.
      </p></li><li><p>
        JDBC-3.0 functionality including
        <code class="literal">Statement/PreparedStatement.getGeneratedKeys()</code>
        and <code class="literal">ResultSet.getURL()</code>.
      </p></li><li><p>
        Overall speed improvements via controlling transient object
        creation in <code class="literal">MysqlIO</code> class when reading
        packets.
      </p></li><li><p>
        <span class="bold"><strong>!!! LICENSE CHANGE !!!</strong></span> The
        driver is now GPL. If you need non-GPL licenses, please contact
        me <code class="literal">&lt;mark@mysql.com&gt;</code>.
      </p></li><li><p>
        Performance enchancements: Driver is now 50–100% faster in
        most situations, and creates fewer temporary objects.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-2-0"></a>C.7.5. Changes in MySQL Connector/J 2.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-2-0-14">C.7.5.1. Changes in MySQL Connector/J 2.0.14 (16 May 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-13">C.7.5.2. Changes in MySQL Connector/J 2.0.13 (24 April 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-12">C.7.5.3. Changes in MySQL Connector/J 2.0.12 (07 April 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-11">C.7.5.4. Changes in MySQL Connector/J 2.0.11 (27 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-10">C.7.5.5. Changes in MySQL Connector/J 2.0.10 (24 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-9">C.7.5.6. Changes in MySQL Connector/J 2.0.9 (13 January 2002)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-8">C.7.5.7. Changes in MySQL Connector/J 2.0.8 (25 November 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-7">C.7.5.8. Changes in MySQL Connector/J 2.0.7 (24 October 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-6">C.7.5.9. Changes in MySQL Connector/J 2.0.6 (16 June 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-5">C.7.5.10. Changes in MySQL Connector/J 2.0.5 (13 June 2001)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-3">C.7.5.11. Changes in MySQL Connector/J 2.0.3 (03 December 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0-1">C.7.5.12. Changes in MySQL Connector/J 2.0.1 (06 April 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre5">C.7.5.13. Changes in MySQL Connector/J 2.0.0pre5 (21 February 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre4">C.7.5.14. Changes in MySQL Connector/J 2.0.0pre4 (10 January 2000)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-2-0pre">C.7.5.15. Changes in MySQL Connector/J 2.0.0pre (17 August 1999)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-14"></a>C.7.5.1. Changes in MySQL Connector/J 2.0.14 (16 May 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.getDouble()</code> now uses code built
        into JDK to be more precise (but slower).
      </p></li><li><p>
        Fixed typo for <code class="literal">relaxAutoCommit</code> parameter.
      </p></li><li><p>
        <code class="literal">LogicalHandle.isClosed()</code> calls through to
        physical connection.
      </p></li><li><p>
        Added SQL profiling (to <code class="literal">STDERR</code>). Set
        <code class="literal">profileSql=true</code> in your JDBC URL. See
        <code class="filename">README</code> for more information.
      </p></li><li><p>
        <code class="literal">PreparedStatement</code> now releases resources on
        <code class="literal">.close()</code>. (SF bug 553268)
      </p></li><li><p>
        More code cleanup.
      </p></li><li><p>
        Quoted identifiers not used if server version does not support
        them. Also, if server started with
        <a href="server-administration.html#option_mysqld_ansi"><code class="option">--ansi</code></a> or
        <a href="server-administration.html#option_mysqld_sql-mode"><code class="option">--sql-mode=ANSI_QUOTES</code></a>,
        “<span class="quote"><code class="literal">"</code></span>” will be used as an
        identifier quote character, otherwise
        “<span class="quote"><code class="literal">'</code></span>” will be used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-13"></a>C.7.5.2. Changes in MySQL Connector/J 2.0.13 (24 April 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed unicode chars being read incorrectly. (SF bug 541088)
      </p></li><li><p>
        Faster blob escaping for <code class="literal">PrepStmt</code>.
      </p></li><li><p>
        Added <code class="literal">setURL()</code> to
        <code class="literal">MySQLXADataSource</code>. (SF bug 546019)
      </p></li><li><p>
        Added <code class="literal">set</code>/<code class="literal">getPortNumber()</code>
        to <code class="literal">DataSource(s)</code>. (SF bug 548167)
      </p></li><li><p>
        <code class="literal">PreparedStatement.toString()</code> fixed. (SF bug
        534026)
      </p></li><li><p>
        More code cleanup.
      </p></li><li><p>
        Rudimentary version of
        <code class="literal">Statement.getGeneratedKeys()</code> from JDBC-3.0
        now implemented (you need to be using JDK-1.4 for this to work,
        I believe).
      </p></li><li><p>
        <code class="literal">DBMetaData.getIndexInfo()</code> - bad PAGES fixed.
        (SF BUG 542201)
      </p></li><li><p>
        <code class="literal">ResultSetMetaData.getColumnClassName()</code> now
        implemented.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-12"></a>C.7.5.3. Changes in MySQL Connector/J 2.0.12 (07 April 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">testsuite.Traversal</code>
        <code class="literal">afterLast()</code> bug, thanks to Igor Lastric.
      </p></li><li><p>
        Added new types to <code class="literal">getTypeInfo()</code>, fixed
        existing types thanks to Al Davis and Kid Kalanon.
      </p></li><li><p>
        Fixed time zone off-by-1-hour bug in
        <code class="literal">PreparedStatement</code> (538286, 528785).
      </p></li><li><p>
        Added identifier quoting to all
        <code class="literal">DatabaseMetaData</code> methods that need them
        (should fix 518108).
      </p></li><li><p>
        Added support for <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">BIT</code></a> types
        (51870) to <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.insertRow()</code> should now detect
        auto_increment fields in most cases and use that value in the
        new row. This detection will not work in multi-valued keys,
        however, due to the fact that the MySQL protocol does not return
        this information.
      </p></li><li><p>
        Relaxed synchronization in all classes, should fix 520615 and
        520393.
      </p></li><li><p>
        <code class="literal">DataSources</code> - fixed <code class="literal">setUrl</code>
        bug (511614, 525565), wrong datasource class name (532816,
        528767).
      </p></li><li><p>
        Added support for <a href="data-types.html#year" title="10.3.3. The YEAR Type"><code class="literal">YEAR</code></a> type
        (533556).
      </p></li><li><p>
        Fixes for <code class="literal">ResultSet</code> updatability in
        <code class="literal">PreparedStatement</code>.
      </p></li><li><p>
        <code class="literal">ResultSet</code>: Fixed updatability (values being
        set to <code class="literal">null</code> if not updated).
      </p></li><li><p>
        Added <code class="literal">getTable/ColumnPrivileges()</code> to DBMD
        (fixes 484502).
      </p></li><li><p>
        Added <code class="literal">getIdleFor()</code> method to
        <code class="literal">Connection</code> and
        <code class="literal">MysqlLogicalHandle</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.refreshRow()</code> implemented.
      </p></li><li><p>
        Fixed <code class="literal">getRow()</code> bug (527165) in
        <code class="literal">ResultSet</code>.
      </p></li><li><p>
        General code cleanup.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-11"></a>C.7.5.4. Changes in MySQL Connector/J 2.0.11 (27 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Full synchronization of <code class="literal">Statement.java</code>.
      </p></li><li><p>
        Fixed missing <code class="literal">DELETE_RULE</code> value in
        <code class="literal">DBMD.getImported/ExportedKeys()</code> and
        <code class="literal">getCrossReference()</code>.
      </p></li><li><p>
        More changes to fix <code class="literal">Unexpected end of input
        stream</code> errors when reading
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> values. This should be the
        last fix.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-10"></a>C.7.5.5. Changes in MySQL Connector/J 2.0.10 (24 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed null-pointer-exceptions when using
        <code class="literal">MysqlConnectionPoolDataSource</code> with Websphere
        4 (bug 505839).
      </p></li><li><p>
        Fixed spurious <code class="literal">Unexpected end of input stream</code>
        errors in <code class="literal">MysqlIO</code> (bug 507456).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-9"></a>C.7.5.6. Changes in MySQL Connector/J 2.0.9 (13 January 2002)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed extra memory allocation in
        <code class="literal">MysqlIO.readPacket()</code> (bug 488663).
      </p></li><li><p>
        Added detection of network connection being closed when reading
        packets (thanks to Todd Lizambri).
      </p></li><li><p>
        Fixed casting bug in <code class="literal">PreparedStatement</code> (bug
        488663).
      </p></li><li><p>
        <code class="literal">DataSource</code> implementations moved to
        <code class="literal">org.gjt.mm.mysql.jdbc2.optional</code> package, and
        (initial) implementations of
        <code class="literal">PooledConnectionDataSource</code> and
        <code class="literal">XADataSource</code> are in place (thanks to Todd
        Wolff for the implementation and testing of
        <code class="literal">PooledConnectionDataSource</code> with IBM WebSphere
        4).
      </p></li><li><p>
        Fixed quoting error with escape processor (bug 486265).
      </p></li><li><p>
        Removed concatenation support from driver (the
        <code class="literal">||</code> operator), as older versions of VisualAge
        seem to be the only thing that use it, and it conflicts with the
        logical <code class="literal">||</code> operator. You will need to start
        <a href="programs.html#mysqld" title="4.3.1. mysqld — The MySQL Server"><span><strong class="command">mysqld</strong></span></a> with the
        <a href="server-administration.html#option_mysqld_ansi"><code class="option">--ansi</code></a> flag to use the
        <code class="literal">||</code> operator as concatenation (bug 491680).
      </p></li><li><p>
        <span><strong class="command">Ant</strong></span> build was corrupting included
        <code class="filename">jar</code> files, fixed (bug 487669).
      </p></li><li><p>
        Report batch update support through
        <code class="literal">DatabaseMetaData</code> (bug 495101).
      </p></li><li><p>
        Implementation of
        <code class="literal">DatabaseMetaData.getExported/ImportedKeys()</code>
        and <code class="literal">getCrossReference()</code>.
      </p></li><li><p>
        Fixed off-by-one-hour error in
        <code class="literal">PreparedStatement.setTimestamp()</code> (bug
        491577).
      </p></li><li><p>
        Full synchronization on methods modifying instance and
        class-shared references, driver should be entirely thread-safe
        now (please let me know if you have problems).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-8"></a>C.7.5.7. Changes in MySQL Connector/J 2.0.8 (25 November 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">XADataSource</code>/<code class="literal">ConnectionPoolDataSource</code>
        code (experimental)
      </p></li><li><p>
        <code class="literal">DatabaseMetaData.getPrimaryKeys()</code> and
        <code class="literal">getBestRowIdentifier()</code> are now more robust in
        identifying primary keys (matches regardless of case or
        abbreviation/full spelling of <code class="literal">Primary Key</code> in
        <code class="literal">Key_type</code> column).
      </p></li><li><p>
        Batch updates now supported (thanks to some inspiration from
        Daniel Rall).
      </p></li><li><p>
        <code class="literal">PreparedStatement.setAnyNumericType()</code> now
        handles positive exponents correctly (adds <code class="literal">+</code>
        so MySQL can understand it).
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-7"></a>C.7.5.8. Changes in MySQL Connector/J 2.0.7 (24 October 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Character sets read from database if
        <code class="literal">useUnicode=true</code> and
        <code class="literal">characterEncoding</code> is not set. (thanks to
        Dmitry Vereshchagin)
      </p></li><li><p>
        Initial transaction isolation level read from database (if
        available). (thanks to Dmitry Vereshchagin)
      </p></li><li><p>
        Fixed <code class="literal">PreparedStatement</code> generating SQL that
        would end up with syntax errors for some queries.
      </p></li><li><p>
        <code class="literal">PreparedStatement.setCharacterStream()</code> now
        implemented
      </p></li><li><p>
        Captialize type names when
        <code class="literal">captializeTypeNames=true</code> is passed in URL or
        properties (for WebObjects. (thanks to Anjo Krank)
      </p></li><li><p>
        <code class="literal">ResultSet.getBlob()</code> now returns
        <code class="literal">null</code> if column value was
        <code class="literal">null</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getPrecision()</code>
        returning one less than actual on newer versions of MySQL.
      </p></li><li><p>
        Fixed dangling socket problem when in high availability
        (<code class="literal">autoReconnect=true</code>) mode, and finalizer for
        <code class="literal">Connection</code> will close any dangling sockets on
        GC.
      </p></li><li><p>
        Fixed time zone issue in
        <code class="literal">PreparedStatement.setTimestamp()</code>. (thanks to
        Erik Olofsson)
      </p></li><li><p>
        PreparedStatement.setDouble() now uses full-precision doubles
        (reverting a fix made earlier to truncate them).
      </p></li><li><p>
        Fixed
        <code class="literal">DatabaseMetaData.supportsTransactions()</code>, and
        <code class="literal">supportsTransactionIsolationLevel()</code> and
        <code class="literal">getTypeInfo()</code>
        <code class="literal">SQL_DATETIME_SUB</code> and
        <code class="literal">SQL_DATA_TYPE</code> fields not being readable.
      </p></li><li><p>
        Updatable result sets now correctly handle
        <code class="literal">NULL</code> values in fields.
      </p></li><li><p>
        PreparedStatement.setBoolean() will use 1/0 for values if your
        MySQL version is 3.21.23 or higher.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.isAfterLast()</code> always
        returning <code class="literal">false</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-6"></a>C.7.5.9. Changes in MySQL Connector/J 2.0.6 (16 June 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed <code class="literal">PreparedStatement</code> parameter checking.
      </p></li><li><p>
        Fixed case-sensitive column names in
        <code class="literal">ResultSet.java</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-5"></a>C.7.5.10. Changes in MySQL Connector/J 2.0.5 (13 June 2001)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">ResultSet.insertRow()</code> works now, even if not
        all columns are set (they will be set to
        <code class="literal">NULL</code>).
      </p></li><li><p>
        Added <code class="literal">Byte</code> to
        <code class="literal">PreparedStatement.setObject()</code>.
      </p></li><li><p>
        Fixed data parsing of <a href="data-types.html#datetime" title="10.3.1. The DATETIME,
        DATE, and
        TIMESTAMP Types"><code class="literal">TIMESTAMP</code></a>
        values with 2-digit years.
      </p></li><li><p>
        Added <code class="literal">ISOLATION</code> level support to
        <code class="literal">Connection.setIsolationLevel()</code>
      </p></li><li><p>
        <code class="literal">DataBaseMetaData.getCrossReference()</code> no
        longer <code class="literal">ArrayIndexOOB</code>.
      </p></li><li><p>
        <code class="literal">ResultSet.getBoolean()</code> now recognizes
        <code class="literal">-1</code> as <code class="literal">true</code>.
      </p></li><li><p>
        <code class="literal">ResultSet</code> has +/-Inf/inf support.
      </p></li><li><p>
        <code class="literal">getObject()</code> on <code class="literal">ResultSet</code>
        correctly does
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">TINYINT</code></a>-&gt;<code class="literal">Byte</code>
        and
        <a href="data-types.html#numeric-types" title="10.2. Numeric Types"><code class="literal">SMALLINT</code></a>-&gt;<code class="literal">Short</code>.
      </p></li><li><p>
        Fixed <code class="literal">ResultSetMetaData.getColumnTypeName</code> for
        <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a>/<a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a>.
      </p></li><li><p>
        Fixed <code class="literal">ArrayIndexOutOfBounds</code> when sending
        large <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">BLOB</code></a> queries. (Max size
        packet was not being set)
      </p></li><li><p>
        Fixed NPE on
        <code class="literal">PreparedStatement.executeUpdate()</code> when all
        columns have not been set.
      </p></li><li><p>
        Fixed <code class="literal">ResultSet.getBlob()</code>
        <code class="literal">ArrayIndex</code> out-of-bounds.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-3"></a>C.7.5.11. Changes in MySQL Connector/J 2.0.3 (03 December 2000)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed composite key problem with updatable result sets.
      </p></li><li><p>
        Faster ASCII string operations.
      </p></li><li><p>
        Fixed off-by-one error in <code class="literal">java.sql.Blob</code>
        implementation code.
      </p></li><li><p>
        Fixed incorrect detection of
        <code class="literal">MAX_ALLOWED_PACKET</code>, so sending large blobs
        should work now.
      </p></li><li><p>
        Added detection of -/+INF for doubles.
      </p></li><li><p>
        Added <code class="literal">ultraDevHack</code> URL parameter, set to
        <code class="literal">true</code> to allow (broken) Macromedia UltraDev to
        use the driver.
      </p></li><li><p>
        Implemented <code class="literal">getBigDecimal()</code> without scale
        component for JDBC2.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0-1"></a>C.7.5.12. Changes in MySQL Connector/J 2.0.1 (06 April 2000)</h4></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Columns that are of type <a href="data-types.html#blob" title="10.4.3. The BLOB and
        TEXT Types"><code class="literal">TEXT</code></a> now
        return as <code class="literal">Strings</code> when you use
        <code class="literal">getObject()</code>.
      </p></li><li><p>
        Cleaned up exception handling when driver connects.
      </p></li><li><p>
        Fixed <code class="literal">RSMD.isWritable()</code> returning wrong
        value. Thanks to Moritz Maass.
      </p></li><li><p>
        <code class="literal">DatabaseMetaData.getPrimaryKeys()</code> now works
        correctly with respect to <code class="literal">key_seq</code>. Thanks to
        Brian Slesinsky.
      </p></li><li><p>
        Fixed many JDBC-2.0 traversal, positioning bugs, especially with
        respect to empty result sets. Thanks to Ron Smits, Nick Brook,
        Cessar Garcia and Carlos Martinez.
      </p></li><li><p>
        No escape processing is done on
        <code class="literal">PreparedStatements</code> anymore per JDBC spec.
      </p></li><li><p>
        Fixed some issues with updatability support in
        <code class="literal">ResultSet</code> when using multiple primary keys.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre5"></a>C.7.5.13. Changes in MySQL Connector/J 2.0.0pre5 (21 February 2000)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Bad Handshake problem.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre4"></a>C.7.5.14. Changes in MySQL Connector/J 2.0.0pre4 (10 January 2000)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixes to ResultSet for insertRow() - Thanks to Cesar Garcia
          </p></li><li><p>
            Fix to Driver to recognize JDBC-2.0 by loading a JDBC-2.0
            class, instead of relying on JDK version numbers. Thanks to
            John Baker.
          </p></li><li><p>
            Fixed ResultSet to return correct row numbers
          </p></li><li><p>
            Statement.getUpdateCount() now returns rows matched, instead
            of rows actually updated, which is more SQL-92 like.
          </p></li></ul></div><p>
        10-29-99
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Statement/PreparedStatement.getMoreResults() bug fixed.
            Thanks to Noel J. Bergman.
          </p></li><li><p>
            Added Short as a type to PreparedStatement.setObject().
            Thanks to Jeff Crowder
          </p></li><li><p>
            Driver now automagically configures maximum/preferred packet
            sizes by querying server.
          </p></li><li><p>
            Autoreconnect code uses fast ping command if server supports
            it.
          </p></li><li><p>
            Fixed various bugs with respect to packet sizing when
            reading from the server and when alloc'ing to write to the
            server.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-2-0pre"></a>C.7.5.15. Changes in MySQL Connector/J 2.0.0pre (17 August 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Now compiles under JDK-1.2. The driver supports both JDK-1.1
            and JDK-1.2 at the same time through a core set of classes.
            The driver will load the appropriate interface classes at
            runtime by figuring out which JVM version you are using.
          </p></li><li><p>
            Fixes for result sets with all nulls in the first row.
            (Pointed out by Tim Endres)
          </p></li><li><p>
            Fixes to column numbers in SQLExceptions in ResultSet
            (Thanks to Blas Rodriguez Somoza)
          </p></li><li><p>
            The database no longer needs to specified to connect.
            (Thanks to Christian Motschke)
          </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cj-news-1-2b"></a>C.7.6. Changes in MySQL Connector/J 1.2b (04 July 1999)</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
          Better Documentation (in progress), in doc/mm.doc/book1.html
        </p></li><li><p>
          DBMD now allows null for a column name pattern (not in spec),
          which it changes to '%'.
        </p></li><li><p>
          DBMD now has correct types/lengths for getXXX().
        </p></li><li><p>
          ResultSet.getDate(), getTime(), and getTimestamp() fixes.
          (contributed by Alan Wilken)
        </p></li><li><p>
          EscapeProcessor now handles \{ \} and { or } inside quotes
          correctly. (thanks to Alik for some ideas on how to fix it)
        </p></li><li><p>
          Fixes to properties handling in Connection. (contributed by
          Juho Tikkala)
        </p></li><li><p>
          ResultSet.getObject() now returns null for NULL columns in the
          table, rather than bombing out. (thanks to Ben Grosman)
        </p></li><li><p>
          ResultSet.getObject() now returns Strings for types from MySQL
          that it doesn't know about. (Suggested by Chris Perdue)
        </p></li><li><p>
          Removed DataInput/Output streams, not needed, 1/2 number of
          method calls per IO operation.
        </p></li><li><p>
          Use default character encoding if one is not specified. This
          is a work-around for broken JVMs, because according to spec,
          EVERY JVM must support "ISO8859_1", but they do not.
        </p></li><li><p>
          Fixed Connection to use the platform character encoding
          instead of "ISO8859_1" if one isn't explicitly set. This fixes
          problems people were having loading the character- converter
          classes that didn't always exist (JVM bug). (thanks to Fritz
          Elfert for pointing out this problem)
        </p></li><li><p>
          Changed MysqlIO to re-use packets where possible to reduce
          memory usage.
        </p></li><li><p>
          Fixed escape-processor bugs pertaining to {} inside quotes.
        </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="cg-news-1-0"></a>C.7.7. Changes in MySQL Connector/J 1.2.x and lower</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#cj-news-1-2a">C.7.7.1. Changes in MySQL Connector/J 1.2a (14 April 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1i">C.7.7.2. Changes in MySQL Connector/J 1.1i (24 March 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1h">C.7.7.3. Changes in MySQL Connector/J 1.1h (08 March 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1g">C.7.7.4. Changes in MySQL Connector/J 1.1g (19 February 1999)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1f">C.7.7.5. Changes in MySQL Connector/J 1.1f (31 December 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1b">C.7.7.6. Changes in MySQL Connector/J 1.1b (03 November 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-1">C.7.7.7. Changes in MySQL Connector/J 1.1 (02 September 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-1-0">C.7.7.8. Changes in MySQL Connector/J 1.0 (24 August 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-9d">C.7.7.9. Changes in MySQL Connector/J 0.9d (04 August 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-9">C.7.7.10. Changes in MySQL Connector/J 0.9 (28 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-8">C.7.7.11. Changes in MySQL Connector/J 0.8 (06 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-7">C.7.7.12. Changes in MySQL Connector/J 0.7 (01 July 1998)</a></span></dt><dt><span class="section"><a href="news.html#cj-news-0-6">C.7.7.13. Changes in MySQL Connector/J 0.6 (21 May 1998)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-2a"></a>C.7.7.1. Changes in MySQL Connector/J 1.2a (14 April 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed character-set support for non-Javasoft JVMs (thanks to
            many people for pointing it out)
          </p></li><li><p>
            Fixed ResultSet.getBoolean() to recognize 'y' &amp; 'n' as
            well as '1' &amp; '0' as boolean flags. (thanks to Tim
            Pizey)
          </p></li><li><p>
            Fixed ResultSet.getTimestamp() to give better performance.
            (thanks to Richard Swift)
          </p></li><li><p>
            Fixed getByte() for numeric types. (thanks to Ray Bellis)
          </p></li><li><p>
            Fixed DatabaseMetaData.getTypeInfo() for DATE type. (thanks
            to Paul Johnston)
          </p></li><li><p>
            Fixed EscapeProcessor for "fn" calls. (thanks to Piyush Shah
            at locomotive.org)
          </p></li><li><p>
            Fixed EscapeProcessor to not do extraneous work if there are
            no escape codes. (thanks to Ryan Gustafson)
          </p></li><li><p>
            Fixed Driver to parse URLs of the form
            "jdbc:mysql://host:port" (thanks to Richard Lobb)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1i"></a>C.7.7.2. Changes in MySQL Connector/J 1.1i (24 March 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Timestamps for PreparedStatements
          </p></li><li><p>
            Fixed null pointer exceptions in RSMD and RS
          </p></li><li><p>
            Re-compiled with jikes for valid class files (thanks ms!)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1h"></a>C.7.7.3. Changes in MySQL Connector/J 1.1h (08 March 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed escape processor to deal with unmatched { and }
            (thanks to Craig Coles)
          </p></li><li><p>
            Fixed escape processor to create more portable (between
            DATETIME and TIMESTAMP types) representations so that it
            will work with BETWEEN clauses. (thanks to Craig Longman)
          </p></li><li><p>
            MysqlIO.quit() now closes the socket connection. Before,
            after many failed connections some OS's would run out of
            file descriptors. (thanks to Michael Brinkman)
          </p></li><li><p>
            Fixed NullPointerException in Driver.getPropertyInfo.
            (thanks to Dave Potts)
          </p></li><li><p>
            Fixes to MysqlDefs to allow all *text fields to be retrieved
            as Strings. (thanks to Chris at Leverage)
          </p></li><li><p>
            Fixed setDouble in PreparedStatement for large numbers to
            avoid sending scientific notation to the database. (thanks
            to J.S. Ferguson)
          </p></li><li><p>
            Fixed getScale() and getPrecision() in RSMD. (contrib'd by
            James Klicman)
          </p></li><li><p>
            Fixed getObject() when field was DECIMAL or NUMERIC (thanks
            to Bert Hobbs)
          </p></li><li><p>
            DBMD.getTables() bombed when passed a null table-name
            pattern. Fixed. (thanks to Richard Lobb)
          </p></li><li><p>
            Added check for "client not authorized" errors during
            connect. (thanks to Hannes Wallnoefer)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1g"></a>C.7.7.4. Changes in MySQL Connector/J 1.1g (19 February 1999)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Result set rows are now byte arrays. Blobs and Unicode work
            bidriectonally now. The useUnicode and encoding options are
            implemented now.
          </p></li><li><p>
            Fixes to PreparedStatement to send binary set by
            setXXXStream to be sent untouched to the MySQL server.
          </p></li><li><p>
            Fixes to getDriverPropertyInfo().
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1f"></a>C.7.7.5. Changes in MySQL Connector/J 1.1f (31 December 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Changed all ResultSet fields to Strings, this should allow
            Unicode to work, but your JVM must be able to convert
            between the character sets. This should also make reading
            data from the server be a bit quicker, because there is now
            no conversion from StringBuffer to String.
          </p></li><li><p>
            Changed PreparedStatement.streamToString() to be more
            efficient (code from Uwe Schaefer).
          </p></li><li><p>
            URL parsing is more robust (throws SQL exceptions on errors
            rather than NullPointerExceptions)
          </p></li><li><p>
            PreparedStatement now can convert Strings to Time/Date
            values via setObject() (code from Robert Currey).
          </p></li><li><p>
            IO no longer hangs in Buffer.readInt(), that bug was
            introduced in 1.1d when changing to all byte-arrays for
            result sets. (Pointed out by Samo Login)
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1b"></a>C.7.7.6. Changes in MySQL Connector/J 1.1b (03 November 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixes to DatabaseMetaData to allow both IBM VA and J-Builder
            to work. Let me know how it goes. (thanks to Jac Kersing)
          </p></li><li><p>
            Fix to ResultSet.getBoolean() for NULL strings (thanks to
            Barry Lagerweij)
          </p></li><li><p>
            Beginning of code cleanup, and formatting. Getting ready to
            branch this off to a parallel JDBC-2.0 source tree.
          </p></li><li><p>
            Added "final" modifier to critical sections in MysqlIO and
            Buffer to allow compiler to inline methods for speed.
          </p></li></ul></div><p>
        9-29-98
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            If object references passed to setXXX() in PreparedStatement
            are null, setNull() is automatically called for you. (Thanks
            for the suggestion goes to Erik Ostrom)
          </p></li><li><p>
            setObject() in PreparedStatement will now attempt to write a
            serialized representation of the object to the database for
            objects of Types.OTHER and objects of unknown type.
          </p></li><li><p>
            Util now has a static method readObject() which given a
            ResultSet and a column index will re-instantiate an object
            serialized in the above manner.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-1"></a>C.7.7.7. Changes in MySQL Connector/J 1.1 (02 September 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Got rid of "ugly hack" in MysqlIO.nextRow(). Rather than
            catch an exception, Buffer.isLastDataPacket() was fixed.
          </p></li><li><p>
            Connection.getCatalog() and Connection.setCatalog() should
            work now.
          </p></li><li><p>
            Statement.setMaxRows() works, as well as setting by property
            maxRows. Statement.setMaxRows() overrides maxRows set via
            properties or url parameters.
          </p></li><li><p>
            Automatic re-connection is available. Because it has to
            "ping" the database before each query, it is turned off by
            default. To use it, pass in "autoReconnect=true" in the
            connection URL. You may also change the number of reconnect
            tries, and the initial timeout value via "maxReconnects=n"
            (default 3) and "initialTimeout=n" (seconds, default 2)
            parameters. The timeout is an exponential backoff type of
            timeout; for example, if you have initial timeout of 2
            seconds, and maxReconnects of 3, then the driver will
            timeout 2 seconds, 4 seconds, then 16 seconds between each
            re-connection attempt.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-1-0"></a>C.7.7.8. Changes in MySQL Connector/J 1.0 (24 August 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed handling of blob data in Buffer.java
          </p></li><li><p>
            Fixed bug with authentication packet being sized too small.
          </p></li><li><p>
            The JDBC Driver is now under the LPGL
          </p></li></ul></div><p>
        8-14-98
      </p><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed Buffer.readLenString() to correctly read data for
            BLOBS.
          </p></li><li><p>
            Fixed PreparedStatement.stringToStream to correctly read
            data for BLOBS.
          </p></li><li><p>
            Fixed PreparedStatement.setDate() to not add a day. (above
            fixes thanks to Vincent Partington)
          </p></li><li><p>
            Added URL parameter parsing (?user=... and so forth).
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-9d"></a>C.7.7.9. Changes in MySQL Connector/J 0.9d (04 August 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Big news! New package name. Tim Endres from ICE Engineering
            is starting a new source tree for GNU GPL'd Java software.
            He's graciously given me the org.gjt.mm package directory to
            use, so now the driver is in the org.gjt.mm.mysql package
            scheme. I'm "legal" now. Look for more information on Tim's
            project soon.
          </p></li><li><p>
            Now using dynamically sized packets to reduce memory usage
            when sending commands to the DB.
          </p></li><li><p>
            Small fixes to getTypeInfo() for parameters, and so forth.
          </p></li><li><p>
            DatabaseMetaData is now fully implemented. Let me know if
            these drivers work with the various IDEs out there. I've
            heard that they're working with JBuilder right now.
          </p></li><li><p>
            Added JavaDoc documentation to the package.
          </p></li><li><p>
            Package now available in .zip or .tar.gz.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-9"></a>C.7.7.10. Changes in MySQL Connector/J 0.9 (28 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Implemented getTypeInfo(). Connection.rollback() now throws
            an SQLException per the JDBC spec.
          </p></li><li><p>
            Added PreparedStatement that supports all JDBC API methods
            for PreparedStatement including InputStreams. Please check
            this out and let me know if anything is broken.
          </p></li><li><p>
            Fixed a bug in ResultSet that would break some queries that
            only returned 1 row.
          </p></li><li><p>
            Fixed bugs in DatabaseMetaData.getTables(),
            DatabaseMetaData.getColumns() and
            DatabaseMetaData.getCatalogs().
          </p></li><li><p>
            Added functionality to Statement that allows executeUpdate()
            to store values for IDs that are automatically generated for
            AUTO_INCREMENT fields. Basically, after an executeUpdate(),
            look at the SQLWarnings for warnings like "LAST_INSERTED_ID
            = 'some number', COMMAND = 'your SQL query'". If you are
            using AUTO_INCREMENT fields in your tables and are executing
            a lot of executeUpdate()s on one Statement, be sure to
            clearWarnings() every so often to save memory.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-8"></a>C.7.7.11. Changes in MySQL Connector/J 0.8 (06 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Split MysqlIO and Buffer to separate classes. Some
            ClassLoaders gave an IllegalAccess error for some fields in
            those two classes. Now mm.mysql works in applets and all
            classloaders. Thanks to Joe Ennis &lt;jce@mail.boone.com&gt;
            for pointing out the problem and working on a fix with me.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-7"></a>C.7.7.12. Changes in MySQL Connector/J 0.7 (01 July 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Fixed DatabaseMetadata problems in getColumns() and bug in
            switch statement in the Field constructor. Thanks to Costin
            Manolache &lt;costin@tdiinc.com&gt; for pointing these out.
          </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="cj-news-0-6"></a>C.7.7.13. Changes in MySQL Connector/J 0.6 (21 May 1998)</h4></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>
            Incorporated efficiency changes from Richard Swift
            &lt;Richard.Swift@kanatek.ca&gt; in
            <code class="literal">MysqlIO.java</code> and
            <code class="literal">ResultSet.java</code>:
          </p></li><li><p>
            We're now 15% faster than gwe's driver.
          </p></li><li><p>
            Started working on <code class="literal">DatabaseMetaData</code>.
          </p></li><li><p>
            The following methods are implemented:
          </p><div class="itemizedlist"><ul type="circle"><li><p>
                <code class="function">getTables()</code>
              </p></li><li><p>
                <code class="function">getTableTypes()</code>
              </p></li><li><p>
                <code class="function">getColumns()</code>
              </p></li><li><p>
                <code class="function">getCatalogs()</code>
              </p></li></ul></div></li></ul></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="news-connector-mxj"></a>C.8. MySQL Connector/MXJ Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-6">C.8.1. Changes in MySQL Connector/MXJ 5.0.6 (04 May 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-5">C.8.2. Changes in MySQL Connector/MXJ 5.0.5 (14 March 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-4">C.8.3. Changes in MySQL Connector/MXJ 5.0.4 (28 January 2007)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-3">C.8.4. Changes in MySQL Connector/MXJ 5.0.3 (24 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-2">C.8.5. Changes in MySQL Connector/MXJ 5.0.2 (15 June 2006)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-1">C.8.6. Changes in MySQL Connector/MXJ 5.0.1 (Never released)</a></span></dt><dt><span class="section"><a href="news.html#news-connector-mxj-5-0-0">C.8.7. Changes in MySQL Connector/MXJ 5.0.0 (09 December 2005)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-6"></a>C.8.1. Changes in MySQL Connector/MXJ 5.0.6 (04 May 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Updated internal jar file names to include version information
        and be more consistent with Connector/J jar naming. For example,
        <code class="filename">connector-mxj.jar</code> is now
        <code class="filename">mysql-connector-mxj-${mxj-version}.jar</code>.
      </p></li><li><p>
        Updated commercial license files.
      </p></li><li><p>
        Added copyright notices to some classes which were missing them.
      </p></li><li><p>
        Added <code class="classname">InitializeUser</code> and
        <code class="classname">QueryUtil</code> classes to support new feature.
      </p></li><li><p>
        Added new tests for initial-user &amp; expanded some existing
        tests.
      </p></li><li><p>
        <code class="classname">ConnectorMXJUrlTestExample</code> and
        <code class="classname">ConnectorMXJObjectTestExample</code> now
        demonstrate the initialization of user/password and creating the
        initial database (rather than using "test").
      </p></li><li><p>
        Added new connection property <code class="option">initialize-user</code>
        which, if set to <code class="literal">true</code> will remove the
        default, un-passworded anonymous and root users, and create the
        user/password from the connection url.
      </p></li><li><p>
        Removed obsolete field
        <code class="literal">SimpleMysqldDynamicMBean.lastInvocation</code>.
      </p></li><li><p>
        Clarified code in <code class="literal">DefaultsMap.entrySet()</code>.
      </p></li><li><p>
        Removed obsolete
        <code class="filename">PatchedStandardSocketFactory</code> java file.
      </p></li><li><p>
        Added <code class="literal">main(String[])</code> to
        <code class="filename">com/mysql/management/AllTestsSuite.java</code>.
      </p></li><li><p>
        Errors reading <code class="literal">portFile</code> are now reported
        using <code class="literal">stacktrace(err)</code>, previously
        <code class="literal">System.err</code> was used.
      </p></li><li><p>
        <code class="literal">portFile</code> now contains a new-line to be
        consistent with <code class="literal">pidFile</code>.
      </p></li><li><p>
        Fixed where <code class="methodname">versionString.trim()</code> was
        ignored.
      </p></li><li><p>
        Removed references to <code class="classname">File.deleteOnExit</code>,
        a warning is printed instead.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Changed tests to shutdown mysqld prior to deleting files.
      </p></li><li><p>
        Fixed port file to always be writen to datadir.
      </p></li><li><p>
        Added os.name-os.arch to resource directory mapping properties
        file.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.40.
      </p></li><li><p>
        Delete <code class="literal">portFile</code> on shutdown.
      </p></li><li><p>
        Moved <code class="literal">platform-map.properties</code> into
        <code class="filename">db-files.jar</code>.
      </p></li><li><p>
        Clarified the startup max wait numbers.
      </p></li><li><p>
        Updated <code class="filename">build.xml</code> in preperation for next
        beta build.
      </p></li><li><p>
        Removed <code class="literal">use-default-architecture</code> property
        replaced.
      </p></li><li><p>
        Added null-check to deal with C/MXJ being loaded by the
        bootstrap classloaders with JVMs for which
        <code class="function">getClassLoader()</code> returns null.
      </p></li><li><p>
        Added robustness around reading portfile.
      </p></li><li><p>
        Removed <code class="literal">PatchedStandardSocketFactory</code> (fixed
        in Connetor/J 5.0.6).
      </p></li><li><p>
        Refactored duplication from tests and examples to
        <code class="classname">QueryUtil</code>.
      </p></li><li><p>
        Removed obsolete
        <code class="classname">InitializePasswordExample</code>
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-5"></a>C.8.2. Changes in MySQL Connector/MXJ 5.0.5 (14 March 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Moved <code class="literal">MysqldFactory</code> to main package.
      </p></li><li><p>
        Reformatting: Added newlines some files which did not end in
        them.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.36.
      </p></li><li><p>
        Found and removed dynamic linking in mysql_kill; updated
        solution.
      </p></li><li><p>
        Changed protected constructor of
        <code class="literal">SimpleMysqldDynamicMBean</code> from taking a
        <code class="literal">MysqldResource</code> to taking a
        <code class="literal">MysqldFactory</code>, in order to lay groundwork for
        addressing BUG discovered by Andrew Rubinger. See:
        <a href="http://forums.mysql.com/read.php?39,143046,143046#msg-143046" target="_top">MySQL
        Forums</a> (Actual testing with JBoss, and filing a bug, is
        still required.)
      </p></li><li><p>
        <code class="filename">build.xml</code>: <code class="literal">usage</code> now
        slightly more verbose; some reformatting.
      </p></li><li><p>
        Now incoporates Reggie Bernett's
        <code class="literal">SafeTerminateProcess</code> and only calls the
        unsafe TerminateProcess as a final last resort.
      </p></li><li><p>
        New windows <code class="filename">kill.exe</code> fixes bug where mysqld
        was being force terminated. Issue reported by bruno haleblian
        and others, see:
        <a href="http://forums.mysql.com/read.php?39,140623,140623#msg-140623" target="_top">MySQL
        Forums</a>.
      </p></li><li><p>
        Replaced <code class="literal">Boolean.parseBoolean</code> with JDK 1.4
        compliant <code class="literal">valueOf</code>.
      </p></li><li><p>
        Changed <code class="literal">connector-mxj.properties</code> default
        mysql version to 5.0.37.
      </p></li><li><p>
        In testing so far mysqld reliably shuts down cleanly much
        faster.
      </p></li><li><p>
        Added testcase to
        <code class="literal">com.mysql.management.jmx.AcceptanceTest</code> which
        demonstrats that <code class="literal">dataDir</code> is a mutable MBean
        property.
      </p></li><li><p>
        Updated <code class="literal">build.xml</code> in prep for next release.
      </p></li><li><p>
        Changed <code class="literal">SimpleMysqldDynamicMBean</code> to create
        <code class="literal">MysqldResource</code> on demand in order to allow
        setting of <code class="filename">datadir</code>. (Rubinger bug
        groundwork).
      </p></li><li><p>
        Clarified the synchronization of
        <code class="literal">MysqldResource</code> methods.
      </p></li><li><p>
        <code class="literal">SIGHUP</code> is replaced with
        <code class="literal">MySQLShutdown&lt;PID&gt;</code> event.
      </p></li><li><p>
        Clarified the immutability of <code class="literal">baseDir</code>,
        <code class="literal">dataDir</code>, <code class="literal">pidFile</code>,
        <code class="literal">portFile</code>.
      </p></li><li><p>
        Added 5.1.15 binaries to the repository.
      </p></li><li><p>
        Removed 5.1.14 binaries from the repository.
      </p></li><li><p>
        Added <code class="literal">getDataDir()</code> to interface
        <code class="literal">MysqldResourceI</code>.
      </p></li><li><p>
        Added 5.1.14 binaries to repository.
      </p></li><li><p>
        Replaced windows <a href="sql-syntax.html#kill" title="12.5.7.4. KILL Syntax"><span><strong class="command">kill.exe</strong></span></a> resource with
        re-written version specific to mysqld.
      </p></li><li><p>
        Added Patched <code class="literal">StandardSocketFactory</code> from
        Connector/J 5-0 HEAD.
      </p></li><li><p>
        Ensured 5.1.14 compatibility.
      </p></li><li><p>
        Swapped out gpl binaries for v5.0.37.
      </p></li><li><p>
        Removed 5.0.22 binaries from the repository.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-4"></a>C.8.3. Changes in MySQL Connector/MXJ 5.0.4 (28 January 2007)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Allow multiple calls to start server from URL connection on
        non-3306 port.
       (<a href="http://bugs.mysql.com/24004" target="_top">Bug#24004</a>)</p></li><li><p>
        Updated <code class="filename">build.xml</code> to build to handle with
        different gpl and commercial mysld version numbers.
      </p></li><li><p>
        Only populate the options map from the help text if specifically
        requested or in the MBean case.
      </p></li><li><p>
        Introduced property for Linux &amp; WinXX to default to 32bit
        versions.
      </p></li><li><p>
        Swapped out gpl binaries for v5.0.27.
      </p></li><li><p>
        Swapped out commercial binaries for v5.0.32.
      </p></li><li><p>
        Moved mysqld binary resourced into separate jar file NOTICE:
        <code class="literal">CLASSPATH</code> will now need to
        <code class="filename">connector-mxj-db-files.jar</code>.
      </p></li><li><p>
        Minor test robustness improvements.
      </p></li><li><p>
        Moved default version string out of java class into a text
        editable properties file
        (<code class="literal">connector-mxj.properties</code>) in the resources
        directory.
      </p></li><li><p>
        Fixed test to be tollerant of <code class="filename">/tmp</code> being a
        symlink to <code class="filename">/foo/tmp</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-3"></a>C.8.4. Changes in MySQL Connector/MXJ 5.0.3 (24 June 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Removed unused imports, formatted code, made minor edits to
        tests.
      </p></li><li><p>
        Removed "TeeOutputStream" - no longer needed.
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.22.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-2"></a>C.8.5. Changes in MySQL Connector/MXJ 5.0.2 (15 June 2006)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Replaced string parsing with JDBC connection attempt for
        determining if a mysqld is "ready for connections"
        <code class="literal">CLASSPATH</code> will now need to include
        Connector/J jar.
      </p></li><li><p>
        "platform" directories replace spaces with underscores
      </p></li><li><p>
        extracted array and list printing to ListToString utility class
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.21
      </p></li><li><p>
        Added trace level logging with Aspect/J.
        <code class="literal">CLASSPATH</code> will now need to include
        <code class="literal">lib/aspectjrt.jar</code>
      </p></li><li><p>
        reformatted code
      </p></li><li><p>
        altered to be "basedir" rather than "port"
        oriented.
      </p></li><li><p>
        help parsing test reflects current help options
      </p></li><li><p>
        insulated users from problems with "." in basedir
      </p></li><li><p>
        swapped out the mysqld binaries for MySQL v5.0.18
      </p></li><li><p>
        Made tests more robust be deleting the /tmp/test-c.mxj directory
        before running tests.
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown API change: now takes File
        parameter (basedir) instead of port.
      </p></li><li><p>
        socket is now "mysql.sock" in datadir
      </p></li><li><p>
        added ability to specify "mysql-version" as an url
        parameter
      </p></li><li><p>
        Extended timeout for help string parsing, to avoid cases where
        the help text was getting prematurely flushed, and thus
        truncated.
      </p></li><li><p>
        swapped out the mysqld binaries for MySQL v5.0.19
      </p></li><li><p>
        MysqldResource now tied to dataDir as well as basedir (API
        CHANGE)
      </p></li><li><p>
        moved PID file into datadir
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown now works across JVMs.
      </p></li><li><p>
        extracted splitLines(String) to Str utility class
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown(port) no longer throws,
        only reports to System.err
      </p></li><li><p>
        ServerLauncherSocketFactory now treats URL parameters in the
        form of <code class="literal">&amp;server.foo=null</code> as
        <code class="literal">serverOptionMap.put("foo", null)</code>
      </p></li><li><p>
        ServerLauncherSocketFactory.shutdown API change: now takes 2
        File parameters (basedir, datadir)
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-1"></a>C.8.6. Changes in MySQL Connector/MXJ 5.0.1 (Never released)</h3></div></div></div><p>
        This was an internal only release.
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="news-connector-mxj-5-0-0"></a>C.8.7. Changes in MySQL Connector/MXJ 5.0.0 (09 December 2005)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Removed HelpOptionsParser's need to reference a MysqldResource.
      </p></li><li><p>
        Reorganized utils into a single "Utils" collaborator.
      </p></li><li><p>
        Minor test tweaks
      </p></li><li><p>
        Altered examples and tests to use new Connector/J 5.0 URL syntax
        for for launching Connector/MXJ ("jdbc:mysql:mxj://")
      </p></li><li><p>
        Swapped out the mysqld binaries for MySQL v5.0.16.
      </p></li><li><p>
        Ditched "ClassUtil" (merged with Str).
      </p></li><li><p>
        Minor refactorings for type casting and exception handling.
      </p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ccpp-news"></a>C.9. MySQL Connector/C++ Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#ccpp-news-1-0">C.9.1. Changes in MySQL Connector/C++ 1.0.x</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="ccpp-news-1-0"></a>C.9.1. Changes in MySQL Connector/C++ 1.0.x</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#ccpp-news-1-0-5">C.9.1.1. Changes in MySQL Connector/CPP 1.0.5 (21 April 2009)</a></span></dt><dt><span class="section"><a href="news.html#ccpp-news-1-0-4">C.9.1.2. Changes in MySQL Connector/CPP 1.0.4 (31 March 2009 beta)</a></span></dt><dt><span class="section"><a href="news.html#ccpp-news-1-0-3">C.9.1.3. Changes in MySQL Connector/CPP 1.0.3 (02 March 2009 alpha)</a></span></dt><dt><span class="section"><a href="news.html#ccpp-news-1-0-2">C.9.1.4. Changes in MySQL Connector/CPP 1.0.2 (19 December 2008 alpha)</a></span></dt><dt><span class="section"><a href="news.html#ccpp-news-1-0-1">C.9.1.5. Changes in MySQL Connector/CPP 1.0.1 (01 December 2008 alpha)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="ccpp-news-1-0-5"></a>C.9.1.1. Changes in MySQL Connector/CPP 1.0.5 (21 April 2009)</h4></div></div></div><p class="release-level">
        This is the first Generally Available (GA) release.
      </p><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        The interface of <code class="literal">sql::ConnectionMetaData</code>,
        <code class="literal">sql::ResultSetMetaData</code> and
        <code class="literal">sql::ParameterMetaData</code> was modified to have a
        protected destructor. As a result the client code has no need to
        destruct the metadata objects returned by the connector. MySQL Connector/C++
        handles the required destruction. This enables statements such
        as:
      </p><pre class="programlisting">connection-&gt;getMetaData-&gt;getSchema();</pre><p>
        This avoids potential memory leaks that could occur as a result
        of losing the pointer returned by
        <code class="literal">getMetaData()</code>.
      </p></li><li><p>
        Improved memory management. Potential memory leak situations are
        handled more robustly.
      </p></li><li><p>
        Changed the interface of <code class="literal">sql::Driver</code> and
        <code class="literal">sql::Connection</code> so they accept the options
        map by alias instead of by value.
      </p></li><li><p>
        Changed the return type of
        <code class="literal">sql::SQLException::getSQLState()</code> from
        <code class="literal">std::string</code> to <code class="literal">const char
        *</code> to be consistent with
        <code class="literal">std::exception::what()</code>.
      </p></li><li><p>
        Implemented <code class="literal">getResultSetType()</code> and
        <code class="literal">setResultSetType()</code> for
        <code class="literal">Statement</code>. Uses
        <code class="literal">TYPE_FORWARD_ONLY</code>, which means unbuffered
        result set and <code class="literal">TYPE_SCROLL_INSENSITIVE</code>, which
        means buffered result set.
      </p></li><li><p>
        Implemented <code class="literal">getResultSetType()</code> for
        <code class="literal">PreparedStatement</code>. The setter is not
        implemented because currently
        <code class="literal">PreparedStatement</code> cannot do refetching.
        Storing the result means the bind buffers will be correct.
      </p></li><li><p>
        Added the option <code class="literal">defaultStatementResultType</code>
        to <code class="literal">MySQL_Connection::setClientOption()</code>. Also,
        the method now returns <code class="literal">sql::Connection *</code>.
      </p></li><li><p>
        Added <code class="literal">Result::getType()</code>. Implemented for the
        three result set classes.
      </p></li><li><p>
        Enabled tracing functionality when building with Microsoft
        Visual C++ 8 and later, which corresponds to Microsoft Visual
        Studio 2005 and later.
      </p></li><li><p>
        Added better support for named pipes, on Windows. Use
        <code class="literal">pipe://</code> and add the path to the pipe. Shared
        memory connections are currently not supported.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        A bug was fixed in
        <code class="literal">MySQL_Connection::setSessionVariable()</code>, which
        had been causing exceptions to be thrown.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="ccpp-news-1-0-4"></a>C.9.1.2. Changes in MySQL Connector/CPP 1.0.4 (31 March 2009 beta)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        An installer was added for the Windows operating system.
      </p></li><li><p>
        Minimum CMake version required was changed from 2.4.2 to 2.6.2.
        The latest version is required for building on Windows.
      </p></li><li><p>
        <code class="literal">metadataUseInfoSchema</code> was added to the
        connection property map, which allows control of the
        <code class="literal">INFORMATION_SCHEMA</code> for meta data.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_ConnectionMetaData::supportsConvert(from,
        to)</code>.
      </p></li><li><p>
        Added support for MySQL Connector/C.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        A bug was fixed in all implementations of
        <code class="literal">ResultSet::relative()</code> which was giving a
        wrong return value although positioning was working correctly.
      </p></li><li><p>
        A leak was fixed in <code class="literal">MySQL_PreparedResultSet</code>,
        which occurred when the result contained a
        <code class="literal">BLOB</code> column.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="ccpp-news-1-0-3"></a>C.9.1.3. Changes in MySQL Connector/CPP 1.0.3 (02 March 2009 alpha)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added new tests in <code class="filename">test/unit/classes</code>. Those
        tests are mostly about code coverage. Most of the actual
        functionality of the driver is tested by the tests found in
        <code class="filename">test/CJUnitPort</code>.
      </p></li><li><p>
        New data types added to the list returned by
        <code class="literal">DatabaseMetaData::getTypeInfo()</code> are
        <code class="literal">FLOAT UNSIGED</code>, <code class="literal">DECIMAL
        UNSIGNED</code>, <code class="literal">DOUBLE UNSIGNED</code>. Those
        tests may not be in the JDBC specification. However, due to the
        change you should be able to look up every type and type name
        returned by, for example,
        <code class="literal">ResultSetMetaData::getColumnTypeName()</code>.
      </p></li><li><p>
        <code class="literal">MySQL_Driver::getPatchVersion</code> introduced.
      </p></li><li><p>
        Major performance improvements due to new buffered
        <code class="literal">ResultSet</code> implementation.
      </p></li><li><p>
        Addition of <code class="filename">test/unit/README</code> with
        instructions for writing bug and regression tests.
      </p></li><li><p>
        Experimental support for STLPort. This feature may be removed
        again at any time later without prior warning! Type
        <span><strong class="command">cmake <code class="option">-L</code></strong></span> for configuration
        instructions.
      </p></li><li><p>
        Added properties enabled methods for connecting, which add many
        connect options. This uses a dictionary (map) of key value
        pairs. Methods added are
        <code class="literal">Driver::connect(map)</code>, and
        <code class="literal">Connection::Connection(map)</code>.
      </p></li><li><p>
        New BLOB implementation. <code class="literal"> sql::Blob</code> was
        removed in favor of <code class="literal">std::istream</code>. C++'s
        <code class="literal">IOStream</code> library is very powerful, similar to
        PHP's streams. It makes no sense to reinvent the wheel. For
        example, you can pass a <code class="literal">std::istringstream</code>
        object to <code class="literal">setBlob()</code> if the data is in memory,
        or just open a file <code class="literal">std::fstream</code> and let it
        stream to the DB, or write its own stream. This is also true for
        <code class="literal">getBlob()</code> where you can just copy data (if a
        buffered result set), or stream data (if implemented).
      </p></li><li><p>
        Implemented <code class="literal">ResultSet::getBlob()</code> which
        returns <code class="literal">std::stream</code>.
      </p></li><li><p>
        Fixed
        <code class="literal">MySQL_DatabaseMetaData::getTablePrivileges()</code>.
        Test cases were added in the first unit testing framework.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_Connection::setSessionVariable()</code> for
        setting variables like <code class="literal">sql_mode</code>.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_DatabaseMetaData::getColumnPrivileges()</code>.
      </p></li><li><p>
        <code class="filename">cppconn/datatype.h</code> has changed and is now
        used again. Reimplemented the type subsystem to be more usable -
        more types for binary and non-binary strings.
      </p></li><li><p>
        Implementation for
        <code class="literal">MySQL_DatabaseMetaData::getImportedKeys()</code> for
        MySQL versions before 5.1.16 using <code class="literal">SHOW</code>, and
        above using <code class="literal">INFORMATION_SCHEMA</code>.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_ConnectionMetaData::getProcedureColumns()</code>.
      </p></li><li><p>
        <span><strong class="command">make package_source</strong></span> now packs with bzip2.
      </p></li><li><p>
        Re-added <code class="literal">getTypeInfo()</code> with information about
        all types supported by MySQL and the
        <code class="literal">sql::DataType</code>.
      </p></li><li><p>
        Changed the implementation of
        <code class="literal">MySQL_ConstructedResultSet</code> to use the more
        efficient O(1) access method. This should improve the speed with
        which the metadata result sets are used. Also, there is less
        copying during the construction of the result set, which means
        that all result sets returned from the meta data functions will
        be faster.
      </p></li><li><p>
        Introduced, internally, <code class="literal">sql::mysql::MyVal</code>
        which has implicit constructors. Used in
        <code class="filename">mysql_metadata.cpp</code> to create result sets
        with native data instead of always string (varchar).
      </p></li><li><p>
        Renamed <code class="literal">ResultSet::getLong()</code> to
        <code class="literal">ResultSet::getInt64()</code>.
        <code class="filename">resultset.h</code> includes typdefs for Windows to
        be able to use <code class="literal">int64_t</code>.
      </p></li><li><p>
        Introduced <code class="literal">ResultSet::getUInt()</code> and
        <code class="literal">ResultSet::getUInt64()</code>.
      </p></li><li><p>
        Improved the implementation for
        <code class="literal">ResultSetMetaData::isReadOnly()</code>. Values
        generated from views are read-only. These generated values don't
        have <code class="literal">db</code> in <code class="literal">MYSQL_FIELD</code>
        set, while all normal columns do have.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_DatabaseMetaData::getExportedKeys()</code>.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_DatabaseMetaData::getCrossReference()</code>.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Bug fixed in
        <code class="literal">MySQL_PreparedResultSet::getString()</code>.
        Returned string that had real data but the length was random.
        Now, the string is initialized with the correct length and thus
        is binary safe.
      </p></li><li><p>
        Corrected handling of unsigned server types. Now returning
        correct values.
      </p></li><li><p>
        Fixed handling of numeric columns in
        <code class="literal">ResultSetMetaData::isCaseSensitive</code> to return
        <code class="literal">false</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="ccpp-news-1-0-2"></a>C.9.1.4. Changes in MySQL Connector/CPP 1.0.2 (19 December 2008 alpha)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Implemented <code class="literal">getScale()</code>,
        <code class="literal">getPrecision()</code> and
        <code class="literal">getColumnDisplaySize()</code> for
        <code class="literal">MySQL_ResultSetMetaData</code> and
        <code class="literal">MySQL_Prepared_ResultSetMetaData</code>.
      </p></li><li><p>
        Changed <code class="literal">ResultSetMetaData</code> methods
        <code class="literal">getColumnDisplaySize()</code>,
        <code class="literal">getPrecision()</code>, <code class="literal">getScale()</code>
        to return <code class="literal">unsigned int</code> instead of
        <code class="literal">signed int</code>.
      </p></li><li><p>
        <code class="literal">DATE</code>, <code class="literal">DATETIME</code> and
        <code class="literal">TIME</code> are now being handled when calling the
        <code class="literal">MySQL_PreparedResultSet</code> methods
        <code class="literal">getString()</code>, <code class="literal">getDouble()</code>,
        <code class="literal">getInt()</code>, <code class="literal">getLong()</code>,
        <code class="literal">getBoolean()</code>.
      </p></li><li><p>
        Reverted implementation of
        <code class="literal">MySQL_DatabaseMetaData::getTypeInfo()</code>. Now
        unimplemented. In addition, removed
        <code class="literal">cppconn/datatype.h</code> for now, until a more
        robust implementation of the types can be developed.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_PreparedStatement::setNull()</code>.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_PreparedStatement::clearParameters()</code>.
      </p></li><li><p>
        Added PHP script
        <code class="filename">examples/cpp_trace_analyzer.php</code> to filter
        the output of the debug trace. Please see the inline comments
        for documentation. This script is unsupported.
      </p></li><li><p>
        Implemented
        <code class="literal">MySQL_ResultSetMetaData::getPrecision()</code> and
        <code class="literal">MySQL_Prepared_ResultSetMetaData::getPrecision()</code>,
        updating example.
      </p></li><li><p>
        Added new unit test framework for JDBC compliance and regression
        testing.
      </p></li><li><p>
        Added <code class="filename">test/unit</code> as a basis for general unit
        tests using the new test framework, see
        <code class="filename">test/unit/example</code> for basic usage examples.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed
        <code class="literal">MySQL_PreparedStatementResultSet::getDouble()</code>
        to return the correct value when the underlying type is
        <code class="literal">MYSQL_TYPE_FLOAT</code>.
      </p></li><li><p>
        Fixed bug in
        <code class="literal">MySQL_ConnectionMetaData::getIndexInfo()</code>. The
        method did not work because the schema name wasn't included in
        the query sent to the server.
      </p></li><li><p>
        Fixed a bug in
        <code class="literal">MySQL_ConnectionMetaData::getColumns()</code> which
        was performing a cartesian product of the columns in the table
        times the columns matching <code class="literal">columnNamePattern</code>.
        The example
        <code class="filename">example/connection_meta_schemaobj.cpp</code> was
        extended to cover the function.
      </p></li><li><p>
        Fixed bugs in <code class="literal">MySQL_DatabaseMetaData</code>. All
        <code class="literal">supportsCatalogXXXXX</code> methods were incorrectly
        returning <code class="literal">true</code> and all
        <code class="literal">supportsSchemaXXXX</code> methods were incorrectly
        returning <code class="literal">false</code>. Now
        <code class="literal">supportsCatalogXXXXX</code> returns
        <code class="literal">false</code> and
        <code class="literal">supportsSchemaXXXXX</code> returns
        <code class="literal">true</code>.
      </p></li><li><p>
        Fixed bugs in the <code class="literal">MySQL_PreparedStatements</code>
        methods <code class="literal">setBigInt()</code> and
        <code class="literal">setDatetime()</code>. They decremented the internal
        column index before forwarding the request. This resulted in a
        double-decrement and therefore the wrong internal column index.
        The error message generated was:
      </p><pre class="programlisting">setString() ... invalid "parameterIndex"</pre></li><li><p>
        Fixed a bug in <code class="literal">getString()</code>.
        <code class="literal">getString()</code> is now binary safe. A new example
        was also added.
      </p></li><li><p>
        Fixed bug in <code class="literal">FLOAT</code> handling.
      </p></li><li><p>
        Fixed <code class="literal">MySQL_PreparedStatement::setBlob()</code>. In
        the tests there is a simple example of a class implementing
        <code class="literal">sql::Blob</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="ccpp-news-1-0-1"></a>C.9.1.5. Changes in MySQL Connector/CPP 1.0.1 (01 December 2008 alpha)</h4></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        <code class="literal">sql::mysql::MySQL_SQLException</code> was removed.
        The distinction between server and client (connector) errors,
        based on the type of the exception, has been removed. However,
        the error code can still be checked in order to evaluate the
        error type.
      </p></li><li><p>
        Support for (n)make install was added. You can change the
        default installation path. Carefully read the messages displayed
        after executing cmake. The following are installed:
      </p><div class="itemizedlist"><ul type="circle"><li><p>
            Static and the dynamic version of the library,
            <code class="filename">libmysqlcppconn</code>.
          </p></li><li><p>
            Generic interface, <code class="filename">cppconn</code>.
          </p></li><li><p>
            Two MySQL specific headers:
          </p><p>
            <code class="filename">mysql_driver.h</code>, use this if you want to
            get your connections from the driver instead of
            instantiating a <code class="literal">MySQL_Connection</code> object.
            This makes your code portable when using the common
            interface.
          </p><p>
            <code class="filename">mysql_connection.h</code>, use this if you
            intend to link directly to the
            <code class="literal">MySQL_Connection</code> class and use its
            specifics not found in <code class="literal">sql::Connection</code>.
          </p><p>
            However, you can make your application fully abstract by
            using the generic interface rather than these two headers.
          </p></li></ul></div></li><li><p>
        Driver Manager was removed.
      </p></li><li><p>
        Added <code class="literal">ConnectionMetaData::getSchemas()</code> and
        <code class="literal">Connection::setSchema()</code>.
      </p></li><li><p>
        <code class="literal">ConnectionMetaData::getCatalogTerm()</code> returns
        not applicable, there is no counterpart to catalog in MySQL Connector/C++.
      </p></li><li><p>
        Added experimental GCov support, <span><strong class="command">cmake
        <code class="option">-DMYSQLCPPCONN_GCOV_ENABLE:BOOL=1</code></strong></span>
      </p></li><li><p>
        All examples can be given optional connection parameters on the
        command line, for example:
      </p><pre class="programlisting">examples/connect tcp://host:port user pass database 
</pre><p>
        or
      </p><pre class="programlisting">examples/connect unix:///path/to/mysql.sock user pass database
</pre></li><li><p>
        Renamed <code class="literal">ConnectionMetaData::getTables:
        TABLE_COMMENT</code> to <code class="literal">REMARKS</code>.
      </p></li><li><p>
        Renamed <code class="literal">ConnectionMetaData::getProcedures:
        PROCEDURE_SCHEMA</code> to
        <code class="literal">PROCEDURE_SCHEM</code>.
      </p></li><li><p>
        Renamed <code class="literal">ConnectionMetaData::getPrimaryKeys():
        COLUMN</code> to <code class="literal">COLUMN_NAME</code>,
        <code class="literal">SEQUENCE</code> to <code class="literal">KEY_SEQ</code>, and
        <code class="literal">INDEX_NAME</code> to <code class="literal">PK_NAME</code>.
      </p></li><li><p>
        Renamed <code class="literal">ConnectionMetaData::getImportedKeys():
        PKTABLE_CATALOG</code> to <code class="literal">PKTABLE_CAT</code>,
        <code class="literal">PKTABLE_SCHEMA</code> to
        <code class="literal">PKTABLE_SCHEM</code>,
        <code class="literal">FKTABLE_CATALOG</code> to
        <code class="literal">FKTABLE_CAT</code>,
        <code class="literal">FKTABLE_SCHEMA</code> to
        <code class="literal">FKTABLE_SCHEM</code>.
      </p></li><li><p>
        Changed metadata column name <code class="literal">TABLE_CATALOG</code> to
        <code class="literal">TABLE_CAT</code> and <code class="literal">TABLE_SCHEMA</code>
        to <code class="literal">TABLE_SCHEM</code> to ensure JDBC compliance.
      </p></li><li><p>
        Introduced experimental CPack support, see make help.
      </p></li><li><p>
        All tests changed to create TAP compliant output.
      </p></li><li><p>
        Renamed <code class="literal">sql::DbcMethodNotImplemented</code> to
        <code class="literal">sql::MethodNotImplementedException</code>
      </p></li><li><p>
        Renamed <code class="literal">sql::DbcInvalidArgument</code> to
        <code class="literal">sql::InvalidArgumentException</code>
      </p></li><li><p>
        Changed <code class="literal">sql::DbcException</code> to implement the
        interface of JDBC's <code class="literal">SQLException</code>. Renamed to
        <code class="literal">sql::SQLException</code>.
      </p></li><li><p>
        Converted Connector/J tests added.
      </p></li><li><p>
        MySQL Workbench 5.1 changed to use MySQL Connector/C++ for its database
        connectivity.
      </p></li><li><p>
        New directory layout.
      </p></li></ul></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mysql-proxy-news"></a>C.10. MySQL Proxy Change History</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="news.html#mysql-proxy-news-0-7-0">C.10.1. Changes in MySQL Proxy 0.7.0 (Not yet released)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-1">C.10.2. Changes in MySQL Proxy 0.6.1 (06 February 2008)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-6-0">C.10.3. Changes in MySQL Proxy 0.6.0 (11 September 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-1">C.10.4. Changes in MySQL Proxy 0.5.1 (30 June 2007)</a></span></dt><dt><span class="section"><a href="news.html#mysql-proxy-news-0-5-0">C.10.5. Changes in MySQL Proxy 0.5.0 (19 June 2007)</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-7-0"></a>C.10.1. Changes in MySQL Proxy 0.7.0 (Not yet released)</h3></div></div></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><strong>Security Enhancement</strong></span>: 
        Accessing <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> using a client or
        backend with a MySQL protocol less than MySQL 5.0 would result
        in <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> aborting with an assertion.
        This is because <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> only supports
        MySQL Protocol 5.0 or higher. The proxy will now report a fault.
       (<a href="http://bugs.mysql.com/31419" target="_top">Bug#31419</a>)</p></li><li><p>
        Using <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> with very large return
        datasets from queries, with or without manipulate of the dataset
        within the Lua engine could cause a crash.
       (<a href="http://bugs.mysql.com/39332" target="_top">Bug#39332</a>)</p></li><li><p>If a submitted packet was smaller than expected by the protocol, MySQL Proxy would terminate. (<a href="http://bugs.mysql.com/36743" target="_top">Bug#36743</a>)</p></li><li><p>
        When using <a href="ha-overview.html#mysql-proxy" title="14.6. MySQL Proxy"><span><strong class="command">mysql-proxy</strong></span></a> in a master-master
        replication scenario, a failure in one of the replication
        masters would fail to be identified by the proxy and connections
        would not be redirected to the other master.
       (<a href="http://bugs.mysql.com/35295" target="_top">Bug#35295</a>)</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-6-1"></a>C.10.2. Changes in MySQL Proxy 0.6.1 (06 February 2008)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed assertions on write-errors
      </p></li><li><p>
        Fixed sending fake server-greetings in
        <code class="literal">connect_server()</code>.
      </p></li><li><p>
        Fixed error handling for socket functions on Windows.
      </p></li><li><p>
        Added new features to <code class="filename">run-tests.lua</code>.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-6-0"></a>C.10.3. Changes in MySQL Proxy 0.6.0 (11 September 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        When using read/write splitting and the
        <code class="filename">rw-splitting.lua</code> example script, connecting
        a second user to the proxy returns an error message.
       (<a href="http://bugs.mysql.com/30867" target="_top">Bug#30867</a>)</p></li><li><p>
        Added support in <code class="function">read_query_result()</code> to
        overwrite the result-set.
      </p></li><li><p>
        Added <code class="option">--no-daemon</code> and
        <code class="option">--pid-file</code>.
      </p></li><li><p>
        Added hooks for <code class="function">read_auth()</code>,
        <code class="function">read_handshake()</code> and
        <code class="function">read_auth_result()</code>.
      </p></li><li><p>
        Added handling of
        <code class="literal">proxy.connection.backend_ndx</code> in
        <code class="function">connect_server()</code> and
        <code class="function">read_query()</code> to support read/write
        splitting.
      </p></li><li><p>
        Added support for <code class="literal">proxy.response.packets</code>.
      </p></li><li><p>
        Added testcases.
      </p></li><li><p>
        Added <code class="option">--no-proxy</code> to disable the proxy.
      </p></li><li><p>
        Added support for listening UNIX sockets.
      </p></li><li><p>
        Added a global lua-scope <code class="literal">proxy.global.*</code>.
      </p></li><li><p>
        Added connection pooling.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed assertion on <code class="literal">COM_BINLOG_DUMP</code>.
       (<a href="http://bugs.mysql.com/29764" target="_top">Bug#29764</a>)</p></li><li><p>
        Fixed assertion on result-packets like <code class="literal">[ field-len |
        fields | EOF | ERR ]</code>.
       (<a href="http://bugs.mysql.com/29732" target="_top">Bug#29732</a>)</p></li><li><p>
        Fixed assertion at login with empty password + empty default db.
       (<a href="http://bugs.mysql.com/29719" target="_top">Bug#29719</a>)</p></li><li><p>
        Fixed assertion at <code class="literal">COM_SHUTDOWN</code>.
       (<a href="http://bugs.mysql.com/29719" target="_top">Bug#29719</a>)</p></li><li><p>
        Fixed crash if <code class="literal">proxy.connection</code> is used in
        <code class="function">connect_server()</code>.
      </p></li><li><p>
        Fixed check for <code class="literal">glib2</code> to require at least
        2.6.0.
      </p></li><li><p>
        Fixed assertion when all backends are down and we try to
        connect.
      </p></li><li><p>
        Fixed connection-stalling if
        <code class="function">read_query_result()</code> throws an
        <code class="function">assert()</code>ion.
      </p></li><li><p>
        Fixed len-encoding on <code class="literal">proxy.resulsets</code>.
      </p></li><li><p>
        Fixed compilation on win32.
      </p></li><li><p>
        Fixed assertion when connecting to the MySQL 6.0.1.
      </p></li><li><p>
        Fixed decoding of len-encoded ints for 3-byte notation.
      </p></li><li><p>
        Fixed <code class="literal">inj.resultset.affected_rows</code> on
        <a href="sql-syntax.html#select" title="12.2.9. SELECT Syntax"><code class="literal">SELECT</code></a> queries.
      </p></li><li><p>
        Fixed handling of (SQL) <code class="literal">NULL</code> in result-sets.
      </p></li><li><p>
        Fixed mem-leak with <code class="literal">proxy.response.*</code> is used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-5-1"></a>C.10.4. Changes in MySQL Proxy 0.5.1 (30 June 2007)</h3></div></div></div><p>Functionality added or changed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">resultset.affected_rows</code> and
        <code class="literal">resultset.insert_id</code>.
      </p></li><li><p>
        Changed <code class="option">--proxy.profiling</code> to
        <code class="option">--proxy-skip-profiling</code>.
      </p></li><li><p>
        Added missing dependency to
        <code class="literal">libmysqlclient-dev</code> to the INSTALL file.
      </p></li><li><p>
        Added <code class="literal">inj.query_time</code> and
        <code class="literal">inj.response_time</code> into the lua scripts.
      </p></li><li><p>
        Added support for pre-4.1 passwords in a 4.1 connection.
      </p></li><li><p>
        Added script examples for rewriting and injection.
      </p></li><li><p>
        Added <code class="literal">proxy.VERSION</code>.
      </p></li><li><p>
        Added support for UNIX sockets.
      </p></li><li><p>
        Added protection against duplicate resultsets from a script.
      </p></li></ul></div><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Fixed mysql check in configure to die when mysql.h isn't
        detected.
      </p></li><li><p>
        Fixed handling of duplicate ERR on
        <code class="literal">COM_CHANGE_USER</code> in MySQL 5.1.18+.
      </p></li><li><p>
        Fixed compile error with MySQL 4.1.x on missing COM_STMT_*.
      </p></li><li><p>
        Fixed crash on fields &gt; 250 bytes when the resultset is
        inspected.
      </p></li><li><p>
        Fixed warning if <code class="function">connect_server()</code> is not
        provided.
      </p></li><li><p>
        Fixed assertion when a error occurs at initial script exec time.
      </p></li><li><p>
        Fixed assertion when <code class="function">read_query_result()</code> is
        not provided when <code class="literal">PROXY_SEND_QUERY</code> is used.
      </p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mysql-proxy-news-0-5-0"></a>C.10.5. Changes in MySQL Proxy 0.5.0 (19 June 2007)</h3></div></div></div><p>
        This is the first beta release.
      </p><p>Bugs fixed:</p><div class="itemizedlist"><ul type="disc"><li><p>
        Added <code class="literal">automake</code>/<code class="literal">autoconf</code>
        support.
      </p></li><li><p>
        Added <code class="literal">cmake</code> support.
      </p></li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="error-handling.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="restrictions.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Appendix B. Errors, Error Codes, and Common Problems </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Appendix D. Restrictions and Limits</td></tr></table></div></body></html>
