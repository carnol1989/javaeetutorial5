<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>java.lang.NullPointerException Thrown in java.awt.Graphics.drawImage()</title>
<meta name="collection" content="reference">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<LINK REL=STYLESHEET TYPE="text/css" HREF="styles/style1.css">
</head>

<body>
<style>
p, li {font-family: arial; font-size: 10pt;}
</style>
<blockquote> 
  <h2> <code>java.lang.NullPointerException</code> Thrown in <code>java.awt.Graphics.drawImage()</code></h2>
  <h3><br>
    <font >Symptoms</font></h3>
  <blockquote> 
    <p> When running an applet in a browser using the Sun Java<sup><font size="1">TM</font></sup> Runtime Environment (JRE<sup><font size="1">TM</font></sup>), a <code>java.lang.NullPointerException</code> 
      is thrown in the <code>java.awt.Graphics.drawImage()</code> method. The same 
      applet runs without any error under the Microsoft Virtual Machine (VM).</p>
  </blockquote>
  <h3><font >Cause</font></h3>
  <blockquote> 
    <p> This exception is caused by passing a null image to the <code>drawImage()</code> 
      method in the Sun JRE. </p>
    <p>The Java class libraries in the Sun JRE have changed over time. Some APIs 
      have been clarified, some have been deprecated, and some have their 
      implementation altered. </p>
    <p> The result of passing a null image into the <code>Graphics.drawImage()</code> 
      method was not well defined. The Microsoft VM treats null image as a 
      no-op. However, most versions of the Sun JRE do not accept null as a valid 
      image, thus resulting in a <code>java.lang.NullPointerException</code>. As of JRE version 5.0, 
      the specification has been clarified, and a null image argument is treated 
      as a no-op. </p>
    </blockquote>
  <h3><font >Resolution</font></h3>
  <blockquote>
    <p> In JRE versions before 5.0, code defensively to ensure that only non-null 
      images are passed to the <code>drawImage()</code> method. For example, the following code shows:</p>
  </blockquote>
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>Graphics g = getGraphics();<br>
    &nbsp;&nbsp;&nbsp; g.drawImage(img, 100, 100, this);</code></p>
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Change the above code to:<br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>Graphics g = getGraphics();</code><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>if (img != null)</code><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>g.drawImage(img, 
    100, 100, this);</code></p>
  <h3><font >Related Information</font></h3>
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; None.</p>
  <p>&nbsp;</p>
</blockquote>
</body>
</html>
