<html>
<head>
<title>Multi-Version Support</title>
<meta name="collection" content="reference">

</head>

<body bgcolor="#FFFFFF">
<hr>
<h1>Multi-Version Support</h1>
<hr>
<form name="form1" >
  <select name="menu1" onChange="Eminem_jumpMenu('parent',this,1)">
    <SCRIPT SRC="menu_script.js" language="JavaScript"></SCRIPT>
  </select>
</form>
<p>This chapter includes the following topics:</p>
<ul>
  <li><a href="#clsid">Unique <code>CLSID</code></a></li>
  <li><a href="#mime">Unique MIME Type and dll</a></li>
  <li><a href="#registry">Unique Java Plug-in Registry Key</a></li>
  <li><a href="#property">Unique Java Plug-in Property File</a></li>
  <li><a href="#trace">Unique Java Plug-in Trace and Log Files</a></li>
  <li><a href="#control">Unique Java Plug-in Control Panel</a></li>
  <li><a href="#jre-jdk">Unique Registry Keys for JRE/JDK</a><br>
  <li><a href="#collision">Multi-version Support in Browser Sessions</a><br>
  </li>
</ul>
<p>So that multiple JRE versions may be deployed in the same environment, every 
  new or patch release of Java Plug-in uniquely identifies registry keys, <code>CLSID</code>, 
  MIME type and other resources. </p>
<div align="center">
  <table summary="layout" width="90%" border="1" cellpadding="5" bgcolor="#FFFFCC" cellspacing="0">
    <tr>
      <td><font size="4"><b>Notes:</b></font> (1) For an explanation of product 
        version numbers, see the <a href="using_tags.html#note">note</a> in the 
        section called &quot;Using <code>OBJECT</code>, <code>EMBED</code> and 
        <code>APPLET</code> Tags in Java Plug-in.&quot; The examples in this
        section are for version 1.5.0. (2) While the examples below 
        are for Windows, multi-version support also applies to Solaris and Linux.</td>
    </tr>
  </table>
  <p>
</div>
<h3><a name="clsid"></a>Unique <code>CLSID</code></h3>
<p>There is a unique CLSID for every new/patch version of Java Plug-in. (<code>CLSID</code> 
  is used in the <code>OBJECT</code> tag with Internet Explorer running on Windows.) 
  If you want a particular version of Java Plug-in to be used, then specify this 
  unique <code>CLSID</code> in the <code>OBJECT</code> tag. The <code>CLSID</code> 
  is stored in the registry in:&nbsp;</p>
<blockquote> 
  <p><code>HKEY_CLASSES_ROOT\CLSID\</code></p>
</blockquote>
<p>In general the CLSID looks as follows:</p>
<p><code>CAFEEFAC-&lt;<i>major version</i>&gt;-&lt;<i>minor version</i>&gt;-&lt;<i>patch 
  version</i>&gt;-ABCDEFFEDCBA</code></p>
<p>where <code><i>major version</i></code>, <code><i>minor version</i></code> 
  and <code><i>patch version</i></code> are all 4-digit hexadecimal numbers.</p>
<h4>Examples:</h4>
<p>For example, the CLSID for Java Plug-in 1.5.0 is: </p>
<blockquote>
  <p><code>CAFEEFAC-0015-0000-0000-ABCDEFFEDCBA</code></p>
</blockquote>
<p>and you would find this in the registry:</p>
<blockquote>
  <p><code>HKEY_CLASSES_ROOT\CLSID\CAFEEFAC-0015-0000-0000-ABCDEFFEDCBA</code></p>
</blockquote>
<p>Note that CLSID is also stored in:&nbsp;<br>
</p>
<blockquote> 
  <p><code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Code Store Database\Distribution 
    Units\</code></p>
</blockquote>
<h3><a name="mime"></a>Unique MIME Type and dll</h3>
<p>There is a unique MIME type and <code>NP*.dll</code> for every new/patch version 
  of Java Plug-in. (MIME type is used in the <code>EMBED</code> tag with Netscape 
  and as a <code>PARM</code> in the <code>OBJECT</code> tag for Internet Explorer. 
  <code>NP*.dll</code> is unique to Netscape.) If you want to use a particular 
  version of Java Plug-in with Netscape, specify the unique MIME type in the <code>EMBED</code> 
  tag. </p>
<p>Note that this MIME type will be supported by an <code>NP*.dll</code> with 
  a unique name for every new/patch version. Thus, installing different version 
  of Java Plug-in does not overwrite other <code>.dll</code> files in Navigator's 
  <code>Plugins</code> directory. </p>
<p>In general MIME types look like this:</p>
<blockquote>
  <p><code>application/x-java-applet;jpi-version=<version>&lt;<i>version</i>&gt;</code></p>
</blockquote>
<p>where <code><i>version</i></code> includes the major, minor and patch version 
  numbers.</p>
<p>
  MIME types are supported in the file<br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>NPJPI<i>&lt;modified version 
  number&gt;</i>.dll</code><code> </code></p>
<h4>Example:</h4>
<p>For Java Plug-in 1.5.0, the unique MIME type would be: </p>
<blockquote>
  <p><code>application/x-java-applet;jpi-version=1.5.0</code></p>
</blockquote>
<p>and it would be supported in the file: </p>
<blockquote> 
  <p><code>NPJPI150.dll</code> </p>
</blockquote>
<p>in Navigator's <code>Plugins</code> directory.</p>
<h3><a name="registry"></a>Unique Java Plug-in Registry Key</h3>
<p>There is a unique Java Plug-in registry key for every new/patch version of 
  Java Plug-in. The main Java Plug-in registry key is:</p>
<blockquote>
  <p><code>HKEY_LOCAL_MACHINE\Software\JavaSoft\Java Plug-in\<i>&lt;version number&gt;</i></code></p>
</blockquote>
<p>where the <i>&lt;version number&gt;</i> will include the major, minor and the 
  patch version numbers.</p>
<h4><code>Example:</code></h4>
<p>For Java Plug-in 1.5.0 you will find the following in your registry:</p>
<blockquote> 
  <p><code>HKEY_LOCAL_MACHINE\Software\JavaSoft\Java Plug-in\1.5.0</code></p>
</blockquote>
<h3><a name="property"></a>Unique Java Plug-in Property File</h3>
<p>The property file is now named <code>deployment.properties</code>. It is located
in the directory</p>
<blockquote>
 <code>&lt;User Application Data Folder&gt;\Sun\Java\Deployment</code>
</blockquote>
<p>where <code>&lt;User Application Data Folder&gt;</code> is an application data folder specific
to the user. As an example, for a user <code>stanleyh</code> on a Windows XP system, the
value of <code>&lt;User Application Data Folder&gt;</code> would be</p>
<blockquote>
<code>C:\Documents and Settings\stanleyh\Application Data</code>
</blockquote>
<p>This property file is used by version 1.4.2, as well as all later versions.<p>
<p>The value of  <code>&lt;User Application Data Folder&gt;</code> is obtained from
the Win32 API function call <code>SHGetFolderPath()</code> 
with <code>CSIDL_APPDATA</code>.</p>
<h3><a name="trace"></a>Unique Java Plug-in Trace and Log Files</h3>
<p>The default location for trace and log files is</p>
 <code>&lt;User Application Data Folder&gt;\Sun\Java\Deployment\log</code>
<p>where <code>&lt;User Application Data Folder&gt;</code> 
is as defined <a href="#property">above</a>.</p>
<p>The names of the trace and log files are</p>
<blockquote> 
  <p><code>plugin&lt;modified version number&gt;.trace</code><br>
     <code>plugin&lt;modified version number&gt;.log</code></p>
</blockquote>
<p>where the <code>&lt;modified version number&gt;</code> includes the 
  major, minor and patch version numbers; e.g., <code>plugin150.trace</code></p>
<p>The property <code>javaplugin.outputfiles.path</code> can be used to
override the default location for the trace and log files.</p>
<h3><a name="control"></a>Unique Java Plug-in Control Panel</h3>
<p>There is a unique Java Plug-in Control Panel for every 
  new or patch release. 
  In 1.5.0, the filename for 
  the Control Panel is <code>javacpl.exe</code>.</p>
<p>Only the latest installed version of the Java Plug-in Control Panel is available 
from the Windows Control Panel.</p>
<h3><a name="jre-jdk"></a>Unique Registry Keys for JRE/JDK</h3>
<p>There are unique registry keys for every new or patch release of the JRE/JDK.  
These registry keys are located as follows:</p>
<blockquote> 
  <p><code>HKEY_LOCAL_MACHINE\Software\JavaSoft\Java Runtime Environment\<i>&lt;version 
    number&gt;<br>
    </i></code><code>HKEY_LOCAL_MACHINE\Software\JavaSoft\Java Development Kit\<i>&lt;version 
    number&gt;</i></code></p>
  </blockquote>
<p>where the <i><code>&lt;version number&gt;</code></i> includes the major, minor 
  and the patch version numbers; e.g., <code>1.5.0</code></p>
<p>These keys allow Java Plug-in to locate the proper version of the JRE. </p>
<p>&nbsp;</p>
<h3><a name="collision"></a>Multi-version Support in Browser Sessions</h3>
<p>It is very important to note the following:</p>
<table summary="layout" width="65%" align="center" cellpadding="5">
  <tr bgcolor="#CCCCCC"> 
    <td> 
      <div align="left">Multiple versions of the JRE can be run in different 
        browser sessions. However, multiple versions can not be run in the same 
        browser session. Should this be attempted, the user is warned and the 
        attempt will fail.</div>
    </td>
  </tr>
</table>
</body>
</html>
