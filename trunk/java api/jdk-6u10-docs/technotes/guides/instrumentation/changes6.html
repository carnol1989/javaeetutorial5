<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Enhancements in java.lang.instrument</title>
<meta name="collection" content="reference">
<link rel="stylesheet" href="doc.css" type="text/css">
  </head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#000077" ALINK="#FF0000">
<TABLE summary="layout" BORDER="0" WIDTH="100%">

<TR>
<TD WIDTH="60">
   <IMG SRC="../../../images/javalogo52x88.gif" ALT="Java" BORDER=0 WIDTH=52 HEIGHT=88>

</TD>
<TD>

<center>
           <h1>Enhancements in JDK 6<br> 
         <code>java.lang.instrument</code></h1>
</center>

</TD>
<TD ALIGN=RIGHT VALIGN=TOP>
   <font size="-1"><a href="index.html">Contents</a></font>
</TD>

</TR>
</TABLE>

<hr>
The following functionality has been added to the 
<code>java.lang.instrument</code> package
between its initial release in JDK 5.0 and JDK 6.
<UL>
<LI><B>Support for retransformation of class files</B> -
To facilitate dynamic transformation of classes that have already been loaded, the following methods have been added.  
  <UL>
    <LI><A HREF="../../../api/java/lang/instrument/Instrumentation.html#retransformClasses(java.lang.Class...)"><code>Instrumentation.retransformClasses(Class...)</code></A></LI>
    <LI><A HREF="../../../api/java/lang/instrument/Instrumentation.html#addTransformer(java.lang.instrument.ClassFileTransformer,%20boolean)"><code>Instrumentation.addTransformer(ClassFileTransformer, boolean)</code></A></LI>

    <LI><A HREF="../../../api/java/lang/instrument/Instrumentation.html#isModifiableClass(java.lang.Class)"><code>Instrumentation.isModifiableClass(Class)</code></A></LI>
    <LI><A HREF="../../../api/java/lang/instrument/Instrumentation.html#isRetransformClassesSupported()"><code>Instrumentation.isRetransformClassesSupported()</code></A></LI>
  </UL>
They are suited to operations such as adding instrumentation
to methods whose classes have already been loaded.  
Support for retransformation means that access to the original class file is no longer
required in order to instrument loaded classes.
They enable the easy removal of applied transformations and are designed to 
work in multi-agent environments.<P>
</LI>

<LI><B>Support for instrumenting native methods</B> -
The following methods
allow native methods to be instrumented by providing a JVM-aware mechanism for wrapping the native method.
<UL>
<LI><A HREF="../../../api/java/lang/instrument/Instrumentation.html#setNativeMethodPrefix(java.lang.instrument.ClassFileTransformer,%20java.lang.String)"><code>Instrumentation.setNativeMethodPrefix(ClassFileTransformer, String)</code></A></LI>
<LI><A HREF="../../../api/java/lang/instrument/Instrumentation.html#isNativeMethodPrefixSupported()"><code>Instrumentation.isNativeMethodPrefixSupported()</code></A></LI>
</LI>
</UL>
<p>
</p>

<LI><B>Support for appending to class loader search</B> -
The following methods allow instrumentation support classes to be defined in the appropriate class loader.
<UL>
<LI><A HREF="../../../api/java/lang/instrument/Instrumentation.html#appendToBootstrapClassLoaderSearch(java.util.jar.JarFile)"><code>Instrumentation.appendToBootstrapClassLoaderSearch(JarFile)</code></A>
</LI>
<LI><A HREF="../../../api/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)"><code>Instrumentation.appendToSystemClassLoaderSearch(JarFile)</code></A></LI>
</LI>
</UL>

</UL>




<!-- ============================================================== -->

<HR SIZE=3 NOSHADE>

<TABLE summary="layout" BORDER="0" WIDTH="100%">
<TR VALIGN=TOP>

<TD>
<FONT SIZE="-2">
   <A HREF="../../../legal/SMICopyright.html">Copyright &#169;</A> 2006
   <A HREF="http://www.sun.com/">Sun Microsystems, Inc.</A>
    All Rights Reserved.</FONT><p></P>
   <br>
<!--
<FONT SIZE="-1">
Please send comments to:
</FONT>
-->

</TD>
<TD ALIGN=RIGHT>

   <IMG SRC="../../../images/sunlogo64x30.gif" ALT="Sun" BORDER=0 WIDTH=64 HEIGHT=30>
</TD>
</TR>
</TABLE>
<pre>




















</pre>
  </body>

