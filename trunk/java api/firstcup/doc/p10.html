<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Adding Import Statements - Your First Cup: An Introduction to the Java EE Platform</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-10-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
</head>

<body leftmargin="0" topmargin="0" marginheight="0" marginwidth="0" bgcolor="#ffffff"  class="a0v0">
<!--stopindex-->

<a name="top"></a>

<!-- BEGIN A1 COMPONENT V.0 -->
<div class="a1">
<div class="a1v0">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com">sun.com</a>
<a href="http://docs.sun.com/" class="dividelink">docs.sun.com</a>
</span>
</td><td align="right" nowrap="nowrap">
<span class="toolbarlinks">
<a href="http://www.sun.com/MySun/">My Sun</a>
<a href="http://www.sun.com/worldwide/" class="dividelink">Worldwide Sites</a>
</span>
</td></tr>
</table>
</div>
</div>
<!-- END A1 COMPONENT V.0 -->

<!-- BEGIN A2 COMPONENT V.0 -->
<div class="a2" id="a2v0">
<div class="cornerTL">
<div class="cornerTR">
<div class="cornerBL">
<div class="cornerBR">
<div class="a2topiclinks">
<table cellpadding="1" cellspacing="0" border="0">
<tr valign="bottom">
<td><a href="http://www.sun.com/" title="Home Page"><img src="css/a.gif" alt="Home Page" width="104" height="58" border="0" class="sunlogo"></a></td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip1"></td>
<td class="navlinks" id="navlink1">
<div>
<a id="glink1" href="http://www.sun.com/products/">Products</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip2"></td>
<td class="navlinks" id="navlink2">
<div>
<a id="glink2" href="http://www.sun.com/downloads/">Downloads</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip3"></td><td class="navlinks" id="navlink3">
<div>
<a id="glink3" href="http://www.sun.com/service/">Service &amp; Solutions</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip4"></td><td class="navlinks" id="navlink4">
<div>
<a id="glink4" href="http://www.sun.com/support/">Support</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip5"></td><td class="navlinks" id="navlink5">
<div>
<a id="glink5" href="http://www.sun.com/training/">Training</a>
</div>
</td><td><img src="css/a.gif" alt="" width="1" height="1" border="0" id="ip6"></td><td class="navlinks" id="navlink6">
<div>
<a id="glink6" href="http://research.sun.com/">Research</a>
</div>
</td>
</tr>
</table>
</div>

</div></div></div></div>
</div>
<!-- END A2 COMPONENT V.0 -->

<!-- BEGIN BREADCRUMB -->
<div id="breadcrumb">
<?GenHTML ReferencePage >Your First Cup: An Introduction to the Java EE Platform<?GenHTML /ReferencePage> > <a href="p6.html">3.&nbsp;&nbsp;Creating Your First Java EE Application</a> > <a href="p6.html#gcrkm">Coding the Example Application</a> > <a href="p8.html#gcrlt">Creating the Web Client</a> > <a href="p9.html#gcrqx">Creating the <tt>DukesBDay</tt> Managed Bean Class</a>
</div><br />
<!-- END BREADCRUMB -->

<!-- BEGIN WRAPPER TABLE, 1 COLUMN, MAIN -->
<table border="0" cellpadding="0" cellspacing="10" width="100%">
<tr valign="bottom"><td width="100%" valign="top">
<!-- BEGIN CENTRAL COLUMN COMPONENTS -->

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr><td colspan="4"></td></tr>
<tr>
<td></td>
<td>&nbsp;</td>
<td style="width: 1in"><a href="p9.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td style="width: 1in"><a href="p11.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->

</td></tr>
<tr><td width="100%" valign="top">
<a name="skip2content"> </a>

<div class="embeddedtocpane">
  <div class="cornerTL"><div class="cornerTR"></div></div>

  <h5><span class="toctitle"><a href="toc.html">Contents</a></span> <span class="index"></span></h5>
  <div class="embeddedtoc">
    <p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1"><a href="p2.html">Preface</a></p>
<p class="toc level1"><a href="p3.html">1.&nbsp;&nbsp;Introduction</a></p>
<p class="toc level1"><a href="p4.html">2.&nbsp;&nbsp;The Java Platform, Enterprise Edition</a></p>
<p class="toc level1"><a href="p6.html">3.&nbsp;&nbsp;Creating Your First Java EE Application</a></p>
<p class="toc level2"><a href="p6.html#gentextid-350">Architecture of the Example Application</a></p>
<p class="toc level3"><a href="p6.html#gcrlr">Tiers in the Example Application</a></p>
<p class="toc level3"><a href="p6.html#gcrlu">Java EE Technologies Used in the Example Application</a></p>
<p class="toc level2 tocsp"><a href="p6.html#gcrkm">Coding the Example Application</a></p>
<p class="toc level3"><a href="p6.html#gcskg">Getting Started</a></p>
<p class="toc level3"><a href="p6.html#gcskv">Register the Server with NetBeans</a></p>
<p class="toc level3"><a href="p6.html#gcskj">Create a Directory for the Example</a></p>
<p class="toc level3"><a href="p6.html#gcska">Specify Some Settings</a></p>
<p class="toc level3"><a href="p6.html#gcrkn">Creating the Web Service Endpoint</a></p>
<p class="toc level4"><a href="p6.html#gcrom">JAX-WS Endpoints</a></p>
<p class="toc level4"><a href="p6.html#gcroi">Creating the Endpoint</a></p>
<p class="toc level4"><a href="p7.html#gctoz">Building and Deploying the Web Service</a></p>
<p class="toc level3 tocsp"><a href="p7.html#gcrlx">Creating the Enterprise Bean</a></p>
<p class="toc level4"><a href="p7.html#gcrpi">Creating <tt>DukesBirthdayBean</tt> in NetBeans</a></p>
<p class="toc level3 tocsp"><a href="p8.html#gcrlt">Creating the Web Client</a></p>
<p class="toc level4"><a href="p8.html#gcroo">Setting <tt>firstcup-war</tt> to support JavaServer Faces Technology</a></p>
<p class="toc level4"><a href="p8.html#gcsll">Creating a Web Service Client for the <tt>firstcup-war</tt> Web Module</a></p>
<p class="toc level4"><a href="p8.html#gcrpf">Creating a Resource Bundle</a></p>
<p class="toc level4"><a href="p9.html">Configuring the Resource Bundle in the Configuration File</a></p>
<p class="toc level4"><a href="p9.html#gcslm">Adding a Dependency on the Enterprise Bean Module</a></p>
<p class="toc level4"><a href="p9.html#gcrqx">Creating the <tt>DukesBDay</tt> Managed Bean Class</a></p>
<div class="onpage">
<p class="toc level4"><a href="#gcrrd">Configuring the <tt>DukesBDay</tt> Bean in the Configuration File</a></p>
<p class="toc level4"><a href="#gcrrw">Creating the <tt>greeting.jsp</tt> Page</a></p>
<p class="toc level5"><a href="#gcruv">Creating an Empty JSP Page</a></p>
<p class="toc level5"><a href="#gcrry">Declaring the JavaServer Faces Tag Libraries</a></p>
<p class="toc level5"><a href="#gcrqp">Adding the <tt>f:view</tt> and <tt>f:form</tt> Tags</a></p>
<p class="toc level5"><a href="#gcrqz">Adding Output Labels to Display Read-only Content</a></p>
</div>
<p class="toc level5"><a href="p11.html">Add an Input Component to Accept the User's Birth Date</a></p>
<p class="toc level5"><a href="p11.html#gcrqg">Registering a Converter on the Input Component</a></p>
<p class="toc level5"><a href="p11.html#gcrrp">Adding an Error Message to Display if Conversion Fails</a></p>
<p class="toc level5"><a href="p11.html#gcrsf">Add a Button for Submitting the Form</a></p>
<p class="toc level4 tocsp"><a href="p11.html#gcrsp">Defining Page Navigation</a></p>
<p class="toc level4"><a href="p11.html#gcrti">Creating the <tt>response.jsp</tt> Page</a></p>
<p class="toc level3 tocsp"><a href="p12.html">Building, Packaging, Deploying, and Running the <tt>firstcup</tt> Enterprise Application</a></p>
<p class="toc level3"><a href="p12.html#gctqk">Preparing the Deployment Descriptor</a></p>
<p class="toc level3"><a href="p12.html#gctoj">Building and Packaging the <tt>firstcup</tt> Enterprise Application</a></p>
<p class="toc level3"><a href="p12.html#gctqe">Deploying the <tt>firstcup</tt> Enterprise Application</a></p>
<p class="toc level3"><a href="p12.html#gctqc">Running the <tt>firstcup</tt> Application</a></p>
<p class="toc level1 tocsp"><a href="p13.html">4.&nbsp;&nbsp;Building, Packaging, and Deploying and Running the Example Application</a></p>
<p class="toc level1"><a href="p15.html">5.&nbsp;&nbsp;Next Steps</a></p>

  </div>
  <div class="cornerBL"><div class="cornerBR"></div></div>
</div>




<div class="maincontent">
<!-- startindex -->
	<a name="gcsjo"></a><h5><img src="graphics/procedure.gif"> Adding Import Statements</h5>
<ol>
<li><b>Right-click in the editor window.</b></li>
<li><b>Select Fix Imports from the popup menu.</b></li>
<li><b>Select <tt>java.util.Date</tt> as the fully qualified name of the <tt>Date</tt> class.</b></li>
<li><b>Click OK.</b></li></ol><a name="gcslo"></a><h5><img src="graphics/procedure.gif"> Saving <tt>DukesBDay</tt></h5>
<ol>
<li><b>Select File &rarr; Save.</b></li></ol><a name="gcrrd"></a><h5>Configuring the <tt>DukesBDay</tt> Bean in the Configuration File</h5>
<p>JavaServer Faces technology allows you to use the configuration file to initialize, configure,
and store managed beans in one of the following scopes: </p>
<ul><li><p>request, which begins when the user submits a page and ends when the response is rendered.</p></li>
<li><p>session, which begins when a user first accesses a page and ends when the user's session ends, such as when the user's session times out.</p></li>
<li><p>application, which lasts until the server stops the application.</p></li></ul>
<p>Once a bean is configured, a JavaServer Faces page can create and
access the bean. In this section, we'll configure the <tt>DukesBDay</tt> managed bean.</p><a name="gcrrk"></a><h5><img src="graphics/procedure.gif"> Configuring the <tt>DukesBDay</tt> Managed Bean</h5>
<ol>
<li><b>Expand the <tt>firstcup-war</tt> module in the Projects pane.</b></li>
<li><b>Open the folders Web Pages &rarr; WEB-INF.</b></li>
<li><b>Double-click <tt>faces-config.xml</tt>.</b></li>
<li><b>Right-click in the editor window and select JavaServer Faces &rarr; Add Managed Bean.</b></li>
<li><b>In the Add Managed Bean dialog, enter <tt>dukesBDay</tt> in the Bean Name field.</b></li>
<li><b>Enter <tt>com.sun.firstcup.web.DukesBDay</tt> in the Bean Class field.</b></li>
<li><b>Select <tt>session</tt> from the scope menu.</b></li>
<li><b>Enter <tt>DukesBDay backing bean</tt> in the Bean Description field.</b></li>
<li><b>Click Add.</b><p>You should now see the following in the <tt>faces-config.xml</tt> file:</p><pre>&lt;managed-bean>
  &lt;description>DukesBDay backing bean&lt;/description>
  &lt;managed-bean-name>dukesBDay&lt;/managed-bean-name>
  &lt;managed-bean-class>com.sun.firstcup.web.DukesBDay&lt;/managed-bean-class>
  &lt;managed-bean-scope>session&lt;/managed-bean-scope>
&lt;/managed-bean></pre><p>The <tt>managed-bean-name</tt> element is the name by which the JavaServer Faces pages will
refer to the bean. The <tt>managed-bean-class</tt> element is the fully-qualified class name
of the bean. The <tt>managed-bean-scope</tt> element is the scope in which the
bean is saved. We specify session scope because we need an instance of
the bean to be available for the entire session so that all pages
can access the values held by the bean.</p></li>
<li><b>Select File &rarr; Save to save the file.</b></li></ol><a name="gcrrw"></a><h5>Creating the <tt>greeting.jsp</tt> Page</h5>
<p>The <tt>greeting.jsp</tt> page includes the welcome message, displays Duke's current age, and accepts
the user's birth date. To create the page, you need to perform the
following tasks:</p>
<ul><li><p>Create an empty JSP page.</p></li>
<li><p>Declare the JavaServer Faces tag libraries.</p></li>
<li><p>Add an <tt>f:view</tt> and an <tt>h:form</tt> tag.</p></li>
<li><p>Add the output label components to display localized messages and text.</p></li>
<li><p>Add an input component to accept the birth date.</p></li>
<li><p>Register a converter on the input component to convert the date to the proper type.</p></li>
<li><p>Add a custom error message to display if conversion fails.</p></li>
<li><p>Add a button component so that the user can submit the page.</p></li></ul>
<a name="gcruv"></a><h5>Creating an Empty JSP Page</h5>
<p>To create an empty JSP page, do the following:</p>
<ol><li><p>Right&mdash;click on the <tt>firstcup-war</tt> module in the Projects pane.</p></li>
<li><p>Select New &rarr; JSP from the popup menu.</p></li>
<li><p>Enter <tt>greeting</tt> in the JSP File Name field.</p></li>
<li><p>Click Finish.</p></li>
<li><p>In the <tt>greeting.jsp</tt> file, after the <tt>html</tt> tag, replace any <tt>head</tt> tag that is already in the page and add the following one, which defines the content type:</p><pre>&lt;head>
   &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   &lt;title>Firstcup Greeting Page&lt;/title>
&lt;/head></pre></li>
<li><p>Remove the beginning and ending <tt>body</tt> tags.</p></li>
<li><p>Remove <tt>&lt;h1>JSP Page&lt;/h1></tt> from the file.</p></li>
<li><p>Select File &rarr; Save to save the file.</p></li></ol>
<a name="gcrry"></a><h5>Declaring the JavaServer Faces Tag Libraries</h5>
<p>JavaServer Faces technology defines JSP custom tags for representing UI components, converters, validators,
and event listeners on a JSP page. A custom tag provides a way
to reference some Java logic from a JSP page, thereby freeing page authors
from including the logic in the page and allowing them to reuse the
logic by adding the same tag in any of their JSP pages. See
the Custom Tags chapter of the <a href="http://java.sun.com/javaee/5/docs/tutorial/doc">Java EE tutorial</a> for more information.</p><p>Custom tags are defined in tag libraries. JavaServer Faces technology defines two tag
libraries. The HTML Render Kit library defines all of the standard UI component
tags. Each instance of a component tag used on a page represents a
corresponding stateful component object on the server. The core tag library defines tags
for representing type converters, data validators, event listeners, and other objects and functions.
Similarly to the component tags, each instance of a converter, validator or listener
tag represents an object on the server.</p><p>To use the tags in a page, you need to declare the
tag libraries.</p><p>To declare the tag libraries, do the following:</p>
<ol><li><p>After the ending <tt>head</tt> tag in <tt>greeting.jsp</tt>, add a <tt>taglib</tt> declaration for the HTML render kit tag library:</p><pre>&lt;%@ taglib prefix="h" uri="http://java.sun.com/jsf/html" %></pre><p>When using a particular tag from this tag library, a page author must use the prefix <tt>h:</tt> to specify in which tag library the tag is defined. The <tt>uri</tt> resolves to the tag library definition.</p></li>
<li><p>After the <tt>taglib</tt> declaration from the previous step, add a <tt>taglib</tt> declaration for the core tag library:</p><pre>&lt;%@ taglib prefix="f" uri="http://java.sun.com/jsf/core" %></pre><p>Again, when the page author uses a tag from this library, he or she must use the <tt>f:</tt> prefix to specify that the tag is defined in the core tag library.</p></li></ol>
<a name="gcrqp"></a><h5>Adding the <tt>f:view</tt> and <tt>f:form</tt> Tags</h5>
<p>A JavaServer Faces page is represented by a tree of UI components.
When a JavaServer Faces implementation processes the page during the page's life cycle, it
will traverse the tree of components and perform such tasks as converting the
values of the components to the proper type, validate the components' values, and
store the components' values in backing beans.</p><p>Every JSP page that uses JavaServer Faces technology must include a <tt>view</tt>
tag, which is defined in the core tag library. The <tt>view</tt> tag represents
the root of the component tree. All JavaServer Faces component tags must be
included inside the <tt>view</tt> tag.</p><p>A typical JavaServer Faces page also includes a form in which the
user enters some data in input fields and clicks a button to submit
the form. If the page contains a form, it must also have a
<tt>form</tt> tag. All components that are part of the form submission must be
inside the <tt>form</tt> tag.</p><p>To add the view and form tags to the page:</p>
<ol><li><p>After the tag library declarations, add beginning and ending <tt>f:view</tt> tags:</p><pre>&lt;f:view>
&lt;/f:view></pre></li>
<li><p>In between the beginning and ending <tt>f:view</tt> tags, add beginning and ending <tt>h:form</tt> tags:</p><pre>&lt;f:view>
   &lt;h:form>
   &lt;/h:form>
&lt;/f:view></pre></li></ol>
<a name="gcrqz"></a><h5>Adding Output Labels to Display Read-only Content</h5>
<p>One of the more commonly used component tags is the <tt>outputText</tt> tag, which
represents a read-only component that only displays content. The <tt>greeting.jsp</tt> page contains
<tt>outputText</tt> tags that display the welcome message, the instructions, the label for the
input component, and Duke's current age. </p><p>The <tt>outputText</tt> tags that display the localized messages reference the messages from the
resource bundle that you configured previously. The <tt>outputText</tt> tag that displays Duke's age
references the age from the <tt>age</tt> property of <tt>DukesBDay</tt> bean.</p><p>To reference values for display, the <tt>outputText</tt> tags use the expression language syntax
defined by the unified expression language. The expression language syntax allows you to
use the <tt>.</tt> or <tt>[]</tt> notation to reference objects and their properties.
The name by which an expression references an object is defined in the
configuration file. For example, an expression must refer to the <tt>WebMessages</tt> resource bundle with
the name <tt>bundle</tt>. For more information on the expression language, see the Expression
Language section of the Introduction to JavaServer Pages chapter of the <a href="http://java.sun.com/javaee/5/docs/tutorial/doc">Java EE tutorial</a>.</p><p>While doing the following exercise, you might want to refer to the
<tt>WebMessages.properties</tt> file, the <tt>DukesBDay</tt> bean, and the <tt>faces-config.xml</tt> file that you created earlier.</p><p>To reference the read-only values displayed on the greeting page using <tt>outputText</tt>
tags and expressions, add the following tags:</p>
<ol><li><p>In between the beginning and ending <tt>h:form</tt> tags, add an <tt>outputText</tt> tag that displays &ldquo;Hi. I'm Duke. Let's see who's older - you or me.&rdquo; and add some <tt>h2</tt> tags around it.</p><pre>&lt;h2>&lt;h:outputText value="#{bundle.Welcome}"/>&lt;/h2></pre><p> The <tt>value</tt> attribute of the <tt>outputText</tt> tag specifies the text to display. In this case, the <tt>value</tt> attribute uses an expression to reference the message stored in the resource bundle, called <tt>bundle</tt>, under the key, <tt>Welcome</tt>.</p></li>
<li><p>After the <tt>outputText</tt> tag you added in the previous step, add an <tt>outputText</tt> tag that displays &ldquo;Duke is&rdquo;. Add an extra space between the closing curly brace and the double quote of the expression so that there will be a space between &ldquo;Duke Is&rdquo; and the text following it on the page:</p><pre>&lt;h:outputText value="#{bundle.DukeIs} "/></pre></li>
<li><p>After the <tt>outputText</tt> tag you added in the previous step, add an <tt>outputText</tt> tag that displays Duke's age:</p><pre>&lt;h:outputText value="#{dukesBDay.age}"/></pre><p>The <tt>dukesBDay</tt> part of the expression refers to the <tt>DukesBDay</tt> bean. The <tt>age</tt> part of the expression refers to the <tt>age</tt> property of <tt>DukesBDay</tt> bean.</p></li>
<li><p>After the <tt>outputText</tt> tag you added in the previous step, add a paragraph tag and another <tt>outputText</tt> tag to display the instructions for filling out the form.</p><pre>&lt;p>&lt;h:outputText value="#{bundle.Instructions}"/></pre></li>
<li><p>After the <tt>outputText</tt> tag you added in the previous step, add another paragraph tag and an <tt>outputText</tt> tag that displays the label for the input component. Add an extra space at the end of this expression too:</p><pre>&lt;p>&lt;h:outputText value="#{bundle.YourBD} "/></pre></li></ol>

<!--stopindex-->
</div>


<!-- END CENTRAL COLUMN COMPONENTS -->
</td></tr>

<!-- BEGIN SPACER ROW -->
<tr><td><img src="css/a.gif" width="780" height="1" border="0" alt="" /></td></tr>
<!-- END SPACER ROW -->

<tr><td>

<!-- BEGIN PAGE CONTROL ROW -->
<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tr valign="bottom">
<td></td>
<td style="width: 60%"></td>
<td><a href="p9.html"><img style="padding-right: 3px" src="graphics/prev.gif" border="0">Previous</a></td>
<td><a href="toc.html">Contents</a></td>
<td></td>
<td><a href="p11.html">Next<img style="padding-left: 3px" src="graphics/next.gif" border="0"></a></td>
</tr>
</table>
<!-- END PAGE CONTROL ROW -->
</td></tr>

</table>
<!-- END WRAPPER TABLE, 1 COLUMN, MAIN -->


<!-- BEGIN A5 COMPONENT V.0 -->
<div class="a5" id="a5v0">
<span class="footerlinks">
<a href="http://www.sun.com/company/">Company Info</a>
<a href="http://www.sun.com/contact/">Contact</a>
<a href="http://www.sun.com/share/text/termsofuse.html">Terms of Use</a>
<a href="http://www.sun.com/privacy/">Privacy</a>

<span class="footercopy">Copyright 1994-2006 Sun Microsystems, Inc.</span>
</span>
</div>
<!-- END A5 COMPONENT V.0 -->

</body>
</html>

