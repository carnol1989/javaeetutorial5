<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">

<struts-config>
	<data-sources />
	<form-beans>
		<form-bean name="testForm"
			type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="name" type="java.lang.String" />
			<form-property name="id" type="java.lang.String" />
		</form-bean>
		<form-bean name="loginForm"
			type="org.apache.struts.validator.DynaValidatorForm">
			<form-property name="loginUser" type="java.lang.String"></form-property>
			<form-property name="password" type="java.lang.String"></form-property>
			<form-property name="capassword" type="java.lang.String"></form-property>
		</form-bean>
        <form-bean name="vehicle" type="com.baosight.vehicle.VehicleBean"/>
	</form-beans>

	<global-exceptions />
	<global-forwards />
	<action-mappings>
		<action attribute="testForm" input="/form/test.jsp"
			name="testForm" path="/test" scope="request" parameter="action"
			type="org.springframework.web.struts.DelegatingActionProxy">
			<forward name="success" path="/index.jsp" />
		</action>

		<action path="/login" input="/index.jsp" name="loginForm"
			scope="request"
			type="org.springframework.web.struts.DelegatingActionProxy">
			<forward name="success" path="/loginAfter1.jsp"></forward>
			<forward name="fail" path="/index.jsp"></forward>
			<forward name="fail1" path="/index_ju.jsp"></forward>
			<forward name="fail2" path="/index_xxzx.jsp"></forward>
			<forward name="fail3" path="/index_slzx.jsp"></forward>
			<forward name="autologin" path="/autoindex.jsp"></forward>			
		</action>
		<!--<action path="/autologin" input="/index.jsp" name="loginForm"
			scope="request"
			type="org.springframework.web.struts.DelegatingActionProxy">
			<forward name="success" path="/loginAfter1.jsp"></forward>
			<forward name="fail" path="/index.jsp"></forward>
			<forward name="fail1" path="/index_ju.jsp"></forward>
			<forward name="fail2" path="/index_xxzx.jsp"></forward>
			<forward name="fail3" path="/index_slzx.jsp"></forward>
		</action>		
		--><action path="/loginSSL" input="/index.jsp" name="loginForm"
			scope="request"
			type="org.springframework.web.struts.DelegatingActionProxy">
			<forward name="success" path="/loginAfter1.jsp"></forward>
			<forward name="fail" path="/index.jsp"></forward>
		</action>		
    <action path="/loginoutAction" type="com.baosight.struts.action.LoginoutActionAction">
      <forward name="logionout" path="/jsp/loginout.jsp" />
    </action>



	</action-mappings>

	<controller nocache="true" inputForward="true" maxFileSize="10M"
		processorClass="com.baosight.InitRequestProcessor.InitRequestProcessor" />

	<!-- 国际化资源文件 -->
	<message-resources
		parameter="com.baosight.struts.ApplicationResources" />
	<!-- struts,spring集成插件 -->
	<plug-in
		className="org.springframework.web.struts.ContextLoaderPlugIn">
		<set-property property="contextConfigLocation"
			value="/WEB-INF/spring/applicationContext.xml,
			/WEB-INF/spring/base/actionBaseServlet.xml,
			/WEB-INF/spring/base/applicationBaseContext.xml,
			/WEB-INF/spring/base/daoBaseContext.xml,
			/WEB-INF/spring/office/actionOfficeServlet.xml,
			/WEB-INF/spring/office/applicationOfficeContext.xml,
			/WEB-INF/spring/office/daoOfficeContext.xml" />
	</plug-in>
	<!-- 校验框架 -->
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/struts/validator-rules.xml,/WEB-INF/struts/validation.xml" />
		<set-property property="stopOnFirstError" value="true" />
	</plug-in>


</struts-config>

